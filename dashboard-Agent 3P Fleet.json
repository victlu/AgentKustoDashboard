{"$schema":"https://dataexplorer.azure.com/static/d/schema/24/dashboard.json","id":"beccdc1b-354e-498c-abd6-fcf2928c2884","eTag":"beccdc1b-354e-498c-abd6-fcf2928c2884","schema_version":"24","title":"Agent 3P Fleet","autoRefresh":{"enabled":false},"tiles":[{"id":"0f14e352-86b0-40de-8612-aab6d83dc657","title":"LA Agent Solution Breakdown","query":"let WorkspaceOS = union Latest(LinuxDailySnapshot), Latest(WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId\n;\nunion Latest(LinuxDailySnapshot), Latest(WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| mv-expand Solution to typeof(string)\n| summarize WorkspaceCount = dcount(WorkspaceId), WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), LinuxAgentCount = dcountif(AgentId, OSType == \"Linux\") by Solution\n| sort by WorkspaceCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"table","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":30,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"4a621952-4013-4fdd-8f9d-04ca274b5400","title":"New tile","query":"OMS Overall Population, Linux Population, Windows Population (Month over month)\nOMS Current Population Versions (MoM) think this exists today\nWhat solutions do current OMS users use - Cut off at top 10 // == Add a col for sum agent and order by sum\nAMA Overall Population, Linux Population, Windows Population (Month over month)\nAMA Current Population Versions\nWAD Population MoM\nWAD Current Population Versions (MoM)\nLAD Population MoM\nLAD Current Population Versions (MoM)\n\n===\n\nAMA\n\nGrowth: Linechart with both -SUM, -MMA and -AMA and where is the convergence points","visualType":"markdownCard","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":0,"width":24,"height":5},"usedParamVariables":[],"visualOptions":{}},{"id":"0f2590ee-ea29-4aff-bc47-60d01b58982a","title":"LA Agent - Azure vs On-prem vs. Arc","query":"let Linux = Latest(LinuxDailySnapshot) | extend OSType = \"Linux\";\nlet Windows = Latest(WindowsDailySnapshot) | extend OSType = \"Windows\";\nunion Linux, Windows\n| summarize Azure = countif(Region != \"onpremise\" and ResourceId !contains \"microsoft.hybridcompute\"),\n            Direct = countif(Region == \"onpremise\" and isempty(ResourceId)),\n            Arc = countif(ResourceId contains \"microsoft.hybridcompute\")\n            by OSType","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":19,"width":24,"height":6},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"crossFilter":[]}},{"id":"b9e8afb6-7289-4ac5-8a09-4318fcb9e9f8","title":"OMS Agent Distro Breakdown","query":"LinuxDailySnapshot\n| where Date == startofday(now(-2d))\n| where OSDistro has_any (\"Ubuntu\", \"Oracle\", \"Red Hat\", \"SUSE\", \"Debian\", \"CentOS\", \"Amazon\")\n| summarize count() by OSDistro\n| sort by count_ desc\n| where count_ > 10","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":12,"y":5,"width":12,"height":7},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"crossFilter":[]}},{"id":"1c000a8c-0cce-4fed-bd8b-0d7fd56ed4c8","title":"LA Agent Fleet Population","query":"union withsource = OS LinuxDailySnapshot, WindowsDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date, OS | summarize Population = max(count_) by OS\n| render columnchart","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"column","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":5,"width":12,"height":7},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"crossFilter":[]}},{"id":"0df87886-6573-4cdb-bf18-baf7d9a4e98e","title":"LAD 3 Population","query":"GuestAgentExtensionEvents  \n| where TIMESTAMP >= now(-5d)\n| where Name == \"Microsoft.Azure.Diagnostics.LinuxDiagnostic\" and Cluster != \"\" and Version startswith \"3\"\n| where Operation == \"Enable\"  and OperationSuccess == true\n| extend Distro = tostring(split(OSVersion, \":\")[1])\n| project Distro\n| summarize count()","dataSourceId":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5","visualType":"card","pageId":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0","layout":{"x":6,"y":0,"width":6,"height":4},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"454e4c75-15b7-4c35-9fa6-6b4b6a0aba5b","title":"LAD 4 Population","query":"GuestAgentExtensionEvents  \n| where TIMESTAMP >= now(-5d)\n| where Name == \"Microsoft.Azure.Diagnostics.LinuxDiagnostic\" and Cluster != \"\" and Version startswith \"4\"\n| where Operation == \"Enable\"  and OperationSuccess == true\n| extend Distro = tostring(split(OSVersion, \":\")[1])\n| project Distro\n| summarize count()","dataSourceId":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5","visualType":"card","pageId":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0","layout":{"x":12,"y":0,"width":6,"height":4},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"7882b7a4-5904-4006-b133-86b690f5adf2","title":"OMS Agent Population Trend","query":"let start = startofyear(now());\nunion (LinuxDailySnapshotOld | where Date < datetime(2020-06-28)), LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by endofmonth(Date)\n| render timechart","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"line","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":12,"width":12,"height":7},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"4d87ff4b-456b-4c04-971c-0f8391cbb765","title":"MMA Agent Population Trend","query":"let start = startofyear(now());\nWindowsDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by endofmonth(Date)\n| render timechart","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"line","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":12,"y":12,"width":12,"height":7},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"crossFilter":[]}},{"id":"fc20b8a7-5382-4ae5-b6b8-33a681d4d638","title":"WAD Population Count","query":"GuestAgentExtensionEvents\n| where TIMESTAMP >= now(-5d)\n| where (Name == \"Microsoft.Azure.Diagnostics.IaaSDiagnostics\" or Name == \"Microsoft.Azure.Diagnostics.PaaSDiagnostics\") and Cluster != \"\"\n//| where Operation == \"Enable\"  and OperationSuccess == true\n//| extend Distro = tostring(split(OSVersion, \":\")[1])\n//| project Distro\n| summarize count()","dataSourceId":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5","visualType":"card","pageId":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0","layout":{"x":0,"y":0,"width":6,"height":4},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"7eac0d35-e2e2-4f75-9939-4097efe1e7fb","title":"LA Agent Attatch %","query":"let OMS = union (LinuxDailySnapshot | extend OS = \"Linux\"), (LinuxDailySnapshotOld | extend OS = \"Linux\"), (WindowsDailySnapshot | extend OS = \"Windows\")\n| where ingestion_time() > now(-720d)\n// | where ingestion_time() > now(-200d)\n| summarize Linux = dcountif(ResourceId, ResourceId contains \"microsoft.compute\" and OS == \"Linux\"), Windows = dcountif(ResourceId, ResourceId contains \"microsoft.compute\" and OS == \"Windows\") by Day = startofday(ingestion_time())\n| summarize LinuxOMS = max(Linux), WindowsOMS = max(Windows) by DimMonth = startofmonth(Day)//toint(datepart(\"Year\", startofmonth(Day))*100 + datepart(\"Month\",startofmonth(Day)))\n;\nlet MicrosoftComputeVirtualMachines_raw =\ncluster('https://u360sec.kusto.windows.net:443').database('KPIData').MicrosoftComputeVirtualMachinesPROD()\n| where KpiId == \"Microsoft.Compute.VirtualMachines\"\n| where OsType startswith \"IaaS\"   \n| where Customer_UsageType == \"External\";\nlet MicrosoftComputeVirtualMachines = MicrosoftComputeVirtualMachines_raw;\nMicrosoftComputeVirtualMachines\n| summarize Quantity_0 = sum(Monthly_0_Quantity),Quantity_1 = sum(Monthly_1_Quantity),Quantity_2 = sum(Monthly_2_Quantity),Quantity_3 = sum(Monthly_3_Quantity),Quantity_4 = sum(Monthly_4_Quantity),Quantity_5 = sum(Monthly_5_Quantity),Quantity_6 = sum(Monthly_6_Quantity),Quantity_7 = sum(Monthly_7_Quantity),Quantity_8 = sum(Monthly_8_Quantity),Quantity_9 = sum(Monthly_9_Quantity),Quantity_10 = sum(Monthly_10_Quantity),Quantity_11 = sum(Monthly_11_Quantity),Quantity_12 = sum(Monthly_12_Quantity),Quantity_13 = sum(Monthly_13_Quantity),Quantity_14 = sum(Monthly_14_Quantity)\n    by OsType\n| extend MaxTimestamp = toscalar(MicrosoftComputeVirtualMachines_raw | take 1 | project MonthlyMaxTimestamp = startofday(endofmonth(MonthlyMaxTimestamp, MonthlyMaxPeriod)))\n| project\n    indexPacked = range(0, 14, 1),\n    QuantityPacked = pack_array(Quantity_0,Quantity_1,Quantity_2,Quantity_3,Quantity_4,Quantity_5,Quantity_6,Quantity_7,Quantity_8,Quantity_9,Quantity_10,Quantity_11,Quantity_12,Quantity_13,Quantity_14),\n    MaxTimestamp,\n    OsType\n| mvexpand indexPacked, QuantityPacked\n| extend Quantity = toreal(QuantityPacked), index = toint(indexPacked)\n| extend Timestamp = startofday(endofmonth(MaxTimestamp, -index))\n| where Timestamp <= toscalar(MicrosoftComputeVirtualMachines_raw | take 1 | project MonthlyMaxTimestamp)\n| project\n    DimMonth = startofmonth(Timestamp), //toint(datepart(\"Year\", startofmonth(Timestamp))*100 + datepart(\"Month\",startofmonth(Timestamp))),\n    VMCount = round(Quantity/(dayofmonth(endofmonth(Timestamp))), 0),\n    Category = iff(OsType == 'IaaS - Windows','Windows','Linux')\n| order by DimMonth desc , Category desc\n| evaluate pivot (Category, sum(VMCount), DimMonth)\n| extend TotalVMs = Windows + Linux\n| join kind = leftouter OMS on DimMonth\n| extend LinuxPct = 100 * (toreal(LinuxOMS) / Linux), WindowsPct = 100 * (toreal(WindowsOMS) / Windows), TotalPct = 100 * (toreal(WindowsOMS + LinuxOMS) / TotalVMs)\n| sort by DimMonth asc\n| where DimMonth > datetime(2020-12)\n| project DimMonth, LinuxPct, WindowsPct, TotalPct\n| render timechart","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"line","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":25,"width":24,"height":5},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"crossFilter":[]}},{"id":"150458d1-67bb-4988-b03b-bdc0e8ccfc1c","title":"Total Population Count","query":"//Total Population Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WinAMADailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LnxAMADailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"bff8827a-ed2e-4fbb-8e1a-4ab513f08a8f","title":"Windows Population Count","query":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WinAMADailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":8,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"85dea558-c727-453b-acb9-6b99d4990b22","title":"Linux Population Count","query":"//Total Linux Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LnxAMADailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":16,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"8607530a-7c24-4a7d-90e3-dc1649851c34","title":"Total Active Population Estimation","query":"//Total Population Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WinAMADailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LnxAMADailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"be5e2481-dce4-4442-8465-a4f17e32c8f6","title":"Windows Active Population Estimation","query":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WinAMADailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":8,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"8efcbd4c-740e-46ff-87da-3d59a1f030dd","title":"Linux Active Population Estimation","query":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LnxAMADailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":16,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"6fb3f900-4cc7-47b0-8d85-6f08e4ce5b96","title":"Windows Max Daily Population Trend","query":"//AMA Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(Date,31d,now())","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":6,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"3c520735-18f7-495c-a9f1-716a411e1f0d","title":"Linux Max Daily Population Trend","query":"//AMA Linux Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(Date,31d,now())","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":6,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"b0546650-252d-43c9-bac2-2173e31a48bb","title":"Agent Version Windows Population","query":"//Windows AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| summarize WinAgentCount = dcount(ResourceId) by Version\n| where WinAgentCount > 0\n| sort by WinAgentCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":15,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"bd5fd579-2b43-4a1a-ba49-a6e5ca9fa93d","title":"Agent Version Linux Population","query":"//Linux AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| summarize LnxAgentCount = dcount(ResourceId) by Version\n| where LnxAgentCount > 0\n| sort by LnxAgentCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":15,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"ef2c6794-de45-4420-9e68-3a15592b4913","title":"Top Windows Version Populations","query":"//Current Windows pop by OS version\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| summarize\n    OSResourceCount = dcount(ResourceId) by OSVersion\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":24,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"29723451-64c5-4852-9ed9-315664aff023","title":"Top Linux Version Populations","query":"//Current pop by Linux OS version\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| summarize\n    OSResourceCount = dcount(ResourceId) by OSVersion\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":24,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"b27abfeb-003b-445f-8e72-1201683d66bf","title":"Top Grouped Windows OS Populations","query":"//Current windows os population grouped\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| extend OS_gen = replace_string(OSVersion, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by OS_gen\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":33,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"cb2f01c0-0775-49ce-b7aa-b4fd00cc1593","title":"Top Grouped Linux OS Populations","query":"//Current Linux OS Populations\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| extend OS_gen = replace_string(OSVersion, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by OS_gen\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":33,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"c5ae1d25-1502-4902-ba33-66573e8b2762","title":"Top Region Windows Populations","query":"//AMA Windows Pop by region\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| project\n    Region,\n    ResourceId\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by Region\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":42,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"2759f1e3-faaa-48fc-a8f7-dc2ea42b5f67","title":"Top Grouped Windows OS Populations","query":"//AMA Linux Pop by region\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| project\n    Region,\n    ResourceId\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by Region\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":42,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"967971ff-176a-4956-9a5d-2215efa55339","title":"Grouped Region Windows Populations","query":"//AMA Windows Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| project\n    Region,\n    ResourceId\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize\n    ResourceCount = dcount(ResourceId)\n    by GroupRegion\n| where ResourceCount > 0\n| sort by ResourceCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":51,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"ae77410a-b0e9-4ba8-9795-21809cd2044e","title":"Grouped Region Linux Populations","query":"//AMA Linux Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| project\n    Region,\n    ResourceId\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize\n    ResourceCount = dcount(ResourceId)\n    by GroupRegion\n| where ResourceCount > 0\n| sort by ResourceCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":51,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"0d6d26d4-94ea-45b8-8815-52057559097f","title":"Arc/Non-Arc Windows Population","query":"//Windows Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(90d)\n| where OSVer has \"windows\"\n| project ResourceId\n| extend Arc = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \"NON-ARC\")\n| summarize totalResourceCount = dcount(ResourceId) by Arc\n| where totalResourceCount > 0\n| sort by totalResourceCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":60,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"2e975afc-8c83-478d-be62-6f5e852ca7cd","title":"Arc/Non-Arc Linux Population","query":"//Windows Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(90d)\n| where OSVer !has \"windows\"\n| project ResourceId\n| extend Arc = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \"NON-ARC\")\n| summarize totalResourceCount = dcount(ResourceId) by Arc\n| where totalResourceCount > 0\n| sort by totalResourceCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":60,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"b0ca79f0-52fd-41d6-870b-f232021b8dd8","title":"Solution/Extension Windows Population - 30d","query":"//Windows Pop by solution/extension\ncluster('genevaagent.kusto.windows.net').database('AMA').\nHealthReport\n| where TIMESTAMP between (now(-30d) .. now())\n| where OSVer has \"windows\"\n| where _Ext has \"true\"\n| project _Ext, ResourceId\n| mv-expand _Ext to typeof(string)\n| where _Ext has \"true\"\n//| extend _Ext = replace_regex(_Ext, @'{\"(.*?)\".*', @'\\1')\n| summarize ResourceCount = dcount(ResourceId) by _Ext\n| sort by ResourceCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":69,"width":24,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"c7e0a72b-8d48-4256-be63-df0b6c2d49f2","title":"Solution/Extension Linux Population - 30d","query":"//Linux Pop by solution/extension\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthReport\n| where TIMESTAMP between (now(-30d) .. now())\n| where OSVer !has \"windows\"\n| where _Ext has \"true\"\n| project _Ext, ResourceId\n| mv-expand _Ext to typeof(string)\n| where _Ext has \"true\"\n//| extend _Ext = replace_regex(_Ext, @'{\"(.*?)\".*', @'\\1')\n| summarize ResourceCount = dcount(ResourceId) by _Ext\n| sort by ResourceCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":82,"width":24,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"45cfa5aa-b724-4f4d-bb85-795ea0b8e390","title":"Total Population Count","query":"//Total Population Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"9fdd2031-38a8-46c4-ba22-31ace0aab6d2","title":"Windows Population Count","query":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":8,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"151477e6-545d-41c1-accc-606accb266e9","title":"Linux Population Count","query":"//Total Linux Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":16,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"fdd975ce-c0c3-4750-af6b-004e0168cf91","title":"Total Active Population Estimation","query":"//Total Population Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"6f947204-9a66-4d8e-9d03-a55c07144cd3","title":"Windows Active Population Estimation","query":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":8,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"f42c8ad2-0380-4ce8-9317-96546686fd84","title":"Linux Active Population Estimation","query":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":16,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"1a4f8ca6-b847-4b2f-a3b5-d462073d16fc","title":"Windows Max Daily Population Trend","query":"//AMA Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(Date,31d,now())","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":6,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"4ff9c57f-18aa-4901-b92f-7d75dacc965e","title":"Linux Max Daily Population Trend","query":"//AMA Linux Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(Date,31d,now())","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":6,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"4806f132-70c0-4720-b2a8-cc0d914ba6d7","title":"Agent Version Windows Population","query":"//Windows AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| summarize WinAgentCount = dcount(ResourceId) by Version\n| where WinAgentCount > 0\n| sort by WinAgentCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":15,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"7b6e1706-aa9f-4f74-8b6a-8f7efd54e43e","title":"Agent Version Linux Population","query":"//Linux AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| summarize LnxAgentCount = dcount(ResourceId) by Version\n| where LnxAgentCount > 0\n| sort by LnxAgentCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":15,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"4fdb4699-f965-4a51-a2b6-10f64b6b83dd","title":"Top Windows Version Populations","query":"//Current Windows pop by OS version\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| summarize\n    OSResourceCount = dcount(ResourceId) by OSVersion\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":24,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"83c21ac8-c11e-4ad9-8c38-e93244c748c5","title":"Top Linux Version Populations","query":"//Current pop by Linux OS version\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| summarize\n    OSResourceCount = dcount(ResourceId) by OSVersion\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":24,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"2cc9735f-9725-4a12-838e-2ac3e0e24dae","title":"Top Grouped Windows OS Populations","query":"//Current windows os population grouped\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| extend OS_gen = replace_string(OSVersion, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by OS_gen\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":33,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"cf5fcdff-ef0e-4b8e-8d78-1632c76aba85","title":"Top Grouped Linux OS Populations","query":"//Current Linux OS Populations\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| extend OS_gen = replace_string(OSVersion, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by OS_gen\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":33,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"d2109b5b-c40a-4d5f-a6e0-b71ab50a9efa","title":"Top Region Windows Populations","query":"//AMA Windows Pop by region\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| project\n    Region,\n    ResourceId\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by Region\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":42,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"e0b03514-d3d2-4bac-91b0-99fe1519d241","title":"Top Grouped Windows OS Populations","query":"//AMA Linux Pop by region\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| project\n    Region,\n    ResourceId\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by Region\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":42,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"af633b88-9025-4d13-b650-426a28c6114b","title":"Grouped Region Windows Populations","query":"//AMA Windows Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| project\n    Region,\n    ResourceId\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize\n    ResourceCount = dcount(ResourceId)\n    by GroupRegion\n| where ResourceCount > 0\n| sort by ResourceCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":51,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"48be3b2a-87cd-44d7-bd6c-19b474152293","title":"Grouped Region Linux Populations","query":"//AMA Linux Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| project\n    Region,\n    ResourceId\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize\n    ResourceCount = dcount(ResourceId)\n    by GroupRegion\n| where ResourceCount > 0\n| sort by ResourceCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":51,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"d3d606eb-24af-4602-8430-8adc12ee7ce6","title":"Total Agent Population","query":"union cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"5cf2ad98-7115-4843-a87e-22365e324198","title":"Windows Agent Population","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":8,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"33fd69e4-7622-4685-bdb2-0530502c05dc","title":"Linux Agent Population","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":16,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"c85ac053-c281-485f-b058-57c6dfca63b6","title":"Windows Population Trend","query":"//OMS Windows Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by startofmonth(Date)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":3,"width":12,"height":10},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"e75844d0-4c79-48de-bd1e-4f76525522b5","title":"Linux Population Trend","query":"//OMS Linux Population Trend\n\nunion (cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshotOld | where Date < datetime(2020-06-28)), cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by startofmonth(Date)\n| render timechart","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":3,"width":12,"height":10},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"9553671f-a1fb-497d-a18e-eb7745de5110","title":"Windows Agent Version Population","query":"//Agent Versions by Windows AgentId Population\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"), WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by AgentVersion\n| sort by WinAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":13,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"85dd276e-0006-4d33-ac64-27f933e79bbc","title":"Linux Agent Version Population","query":"// Linux Region Count by Solutions For OMS\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"), LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"), LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\") by AgentVersion\n| sort by LnxAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":13,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"32890642-cf80-4cef-ae01-5cfe55276fe0","title":"Weekly Windows Pop Trend for agent versions older than 10_20_18053 with 22s excluded","query":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n//other calc way: | where AgentVersion in~ (\"10.20.18040.0\", \"1.0.18040.2\", \"10.20.18038.0\", \"1.0.18038.0\", \"10.20.18029.0\", \"1.0.18029.0\", \"10.20.18018.0\", \"1.0.18018.0\", \"10.20.18011.0\", \"1.0.18011.0\", \"10.20.18001.0\", \"1.0.18001.0\", \"10.19.13515.0\", \"1.0.13515.0\", \"10.19.10006.0\", \"8.0.11136.0\", \"8.0.11103.0\", \"8.0.11081.0\", \"1.0.11081.0\", \"8.0.11072.0\", \"1.0.11072.0\", \"8.0.11049.0\", \"1.0.11049.0\")\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| summarize DailyCount = count() by Date\n| summarize Weekly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofweek(Date)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":26,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"afededdc-4449-4303-8da6-deb03f5ca518","title":"Weekly Windows Pop Trend for agent versions older than 10_20_18053","query":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n//other calc way: | where AgentVersion in~ (\"10.20.18040.0\", \"1.0.18040.2\", \"10.20.18038.0\", \"1.0.18038.0\", \"10.20.18029.0\", \"1.0.18029.0\", \"10.20.18018.0\", \"1.0.18018.0\", \"10.20.18011.0\", \"1.0.18011.0\", \"10.20.18001.0\", \"1.0.18001.0\", \"10.19.13515.0\", \"1.0.13515.0\", \"10.19.10006.0\", \"8.0.11136.0\", \"8.0.11103.0\", \"8.0.11081.0\", \"1.0.11081.0\", \"8.0.11072.0\", \"1.0.11072.0\", \"8.0.11049.0\", \"1.0.11049.0\")\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")\n| summarize DailyCount = count() by Date\n| summarize Weekly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofweek(Date)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":44,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"c0d41c81-0221-4e2b-adb7-532cb2913ebe","title":"Monthly Windows Pop Trend for agent versions older than 10_20_18053 with 22s excluded","query":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| summarize DailyCount = count() by Date\n| summarize Montly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofmonth(Date)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":53,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"83043e98-b53d-482a-a474-094fa3261798","title":"Monthly Windows Pop Trend for agent versions older than 10_20_18053","query":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")\n| summarize DailyCount = count() by Date\n| summarize Montly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofmonth(Date)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":62,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"cacd088a-c710-4622-b2dd-5cdf5136cc0f","title":"Windows Agent Population by OS Version","query":"// Windows Agent Population by OS Version\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| extend WindowsOSVersion = strcat(\"Windows \",OSVersion)\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"),  WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by WindowsOSVersion\n| where WinAgentCount > 0\n| sort by WinAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":71,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"21f7df98-7d75-4b7e-be12-10c09b259579","title":"Linux Agent Population by OS Version","query":"// Linux Agent Population by OS Version\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| extend linuxOSVersion = strcat(OSDistro,\" \",OSVersion)\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"), LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"), LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\") by linuxOSVersion\n| where LnxAgentCount > 0\n| sort by LnxAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":71,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"2455a7ff-e168-474d-8511-eaca8ace05ad","title":"Azure vs On-prem vs. Arc","query":"//Azure vs On-prem vs. Arc\nlet Linux = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot) | extend OSType = \"Linux\";\nlet Windows = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot) | extend OSType = \"Windows\";\nunion Linux, Windows\n| summarize Azure = countif(Region != \"onpremise\" and ResourceId !has \"microsoft.hybridcompute\"),\n            Direct = countif(Region == \"onpremise\" and isempty(ResourceId)),\n            Arc = countif(ResourceId has \"microsoft.hybridcompute\")\n            by OSType","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":84,"width":24,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"2ede89eb-4a2c-473b-b078-bc9bb7139d56","title":"Windows Agent Count by Region","query":"// Windows Populations by Region\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| where Region != \"onpremise\"\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\") by Region\n| sort by WinAgentCount desc\n| take 12","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":92,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"c9796834-2215-402b-b3ed-56f954b1bdf3","title":"Linux Agent Count by Region","query":"// Linux Populations by Region\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\") by Region\n| sort by LnxAgentCount desc\n| take 12","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":92,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"337b62f3-d0eb-4f73-b5f1-63ae0b651e39","title":"Windows Agent Population by Grouped Region","query":"// Windows Agent Population by Region\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| where Region != \"onpremise\"\n| extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"),  WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by GroupRegion\n| sort by WinAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":105,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"63dd6fca-7e62-4616-96fe-c7c6246c207b","title":"Linux Agent Population by Grouped Region","query":"// Linux Agent Population by Region\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"), LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"),  LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\") by GroupRegion\n| sort by LnxAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":105,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"156dfda8-6844-4b04-8083-e23402cadf9f","title":"Solutions Pop by Windows Agent Count","query":"// Windows Agent Count by Solutions For OMS\n//cluster('genevaagent.kusto.windows.net').database('Telemetry').\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| mv-expand Solution to typeof(string)\n| where Solution != \"null\"\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), LinuxAgentCount = dcountif(AgentId, OSType == \"Linux\"), WorkspaceCount = dcount(WorkspaceId) by Solution\n| sort by WinAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":118,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"77379c27-579f-44f2-967e-dfa85e69c42f","title":"Solutions Pop by Linux Agent Count","query":"// Linux Agent Population of Solutions For OMS\n//cluster('genevaagent.kusto.windows.net').database('Telemetry').\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| mv-expand Solution to typeof(string)\n| where Solution != \"null\"\n| summarize LinuxAgentCount = dcountif(AgentId, OSType == \"Linux\"), WorkspaceCount = dcount(WorkspaceId), WinAgentCount = dcountif(AgentId, OSType == \"Windows\") by Solution\n| sort by LinuxAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":118,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"9a1665ae-096d-4a0b-9e4a-50ff7f4bf9fd","title":"Windows Arc  vs Non_Arc  Resource Pop","query":"//Windows arc vs nonarc for OMS\n//cluster('genevaagent.kusto.windows.net').database('Telemetry').\n\nlet Windows = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot) | extend OSType = \"Windows\";\nWindows\n| extend arcType = iff(ResourceId contains \"microsoft.hybridcompute\", \"Arc\", \"Non_Arc\")\n| summarize Resources = dcount(ResourceId)\n            by arcType","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":131,"width":12,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"1389b1d1-5084-492b-9c7c-10b241328686","title":"Linux Arc  vs Non_Arc Resource Pop","query":"//arc for OMS\n//cluster('genevaagent.kusto.windows.net').database('Telemetry').\n\nlet Linux = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot) | extend OSType = \"Linux\";\nLinux\n| extend arcType = iff(ResourceId contains \"microsoft.hybridcompute\", \"Arc\", \"Non_Arc\")\n| summarize Resources = dcount(ResourceId)\n            by arcType","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":131,"width":12,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"27bd5b99-9393-4d29-991a-abb3ca48710a","title":"(LAD/WAD) overall population count","query":"//LAD/WAD Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":0,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"9ab1e028-3e32-4b33-8567-1b9cdb2c6bbf","title":"(LAD) population count","query":"//LAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nLADDailySnapshot\n| summarize Population = dcount(ResourceId)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":16,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"3c211742-333f-413d-a92d-70d0b13100b6","title":"(WAD) population count","query":"//WAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nWADDailySnapshot\n| summarize Population = dcount(ResourceId), iaasdiagPop = dcountif(ResourceId, ExtName=~\"microsoft.azure.diagnostics.iaasdiagnostics\"),paasdiagPop = dcountif(ResourceId, ExtName=~\"microsoft.azure.diagnostics.paasdiagnostics\"),edpPop = dcountif(ResourceId, ExtName in~ (\"microsoft.azure.diagnostics.edp.iaasdiagnostics\", \"microsoft.azure.diagnostics.edp.paasdiagnostics\"))","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":8,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"af8ff273-d72b-461b-9e41-f37134ac5faa","title":"(LAD/WAD) active population estimate","query":"//LAD/WAD Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":0,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"c43917c8-2481-4e3c-b287-edada80849da","title":"(WAD) active population estimate","query":"//WAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nWADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount), 0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":8,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"3477452e-9d66-4209-8e3b-502d6da2ff0e","title":"(LAD) active population estimate","query":"//LAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nLADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount), 0)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":16,"y":3,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"267dd4d6-d09c-4658-b360-1056c85696a6","title":"WAD Version breakdown","query":"//WAD Version breakdown\n//WAD Pop by agent version\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n    | project Date\n    | top 1 by Date);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n//| where Date between ((Newest - 5m) .. Newest)\n| summarize WinAgentCount = dcountif(ResourceId, OsType == \"windows\") by Version\n| where WinAgentCount > 0\n| sort by WinAgentCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":0,"y":6,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"22b3d7e5-57cc-4cbd-8d10-88efbdc94775","title":"LAD Version breakdown","query":"//LAD Version breakdown\n//LAD Pop by agent version\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n    | project Date\n    | top 1 by Date);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n//| where Date between ((Newest - 5m) .. Newest)\n| summarize LnxAgentCount = dcountif(ResourceId, OsType == \"linux\") by Version\n| where LnxAgentCount > 0\n| sort by LnxAgentCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":12,"y":6,"width":12,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"53d69afd-c72e-4baa-8709-fcd439d749e6","title":"MMA Windows Population Trend","query":"//Windows Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by startofmonth(Date)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"line","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":0,"width":12,"height":10},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"27f2ffac-53d5-47cd-a84d-399729b15a78","title":"OMS Linux Population Trend","query":"//Linux Population Trend\n\nunion (cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshotOld | where Date < datetime(2020-06-28)), cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by startofmonth(Date)\n| render timechart","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"line","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":12,"y":0,"width":12,"height":10},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"f9a7bd41-67df-4409-be5d-95b597cf2de3","title":"Top 50 customers of OMS/MMA based off agent count","query":"//Top customers OMS/MMA by AgentId Count\n\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nlet topCustomerId =\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| extend Id = tostring(split(ResourceId, \"/\")[2])\n| where Id != \"\"\n| summarize\n    TotalAgentCount = dcount(AgentId),\n    WinAgentCount = dcountif(AgentId, OSType == \"Windows\"),\n    LnxAgentCount = dcountif(AgentId, OSType == \"Linux\") by Id\n| sort by TotalAgentCount desc\n| take 50;\ntopCustomerId\n| join kind = leftouter cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_Subscription on Id\n| project Name, TotalAgentCount, WinAgentCount, LnxAgentCount, SubscriptionId = Id, Id = CloudCustomer\n| join kind = leftouter cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_CloudCustomer on Id\n| project Name, SubscriptionId, TotalAgentCount, WinAgentCount, LnxAgentCount, IndustryName\n| sort by TotalAgentCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"table","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":10,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false}]}},{"id":"5ab8fe52-f316-4004-9abf-1b769a8baac4","title":"Top 50 customers of AMA based off agent count ","query":"//AMA top customers\nunion\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| summarize\n    TotalAgentCount = dcount(ResourceId), \n    WinAgentCount = dcountif(ResourceId, OsType == \"windows\"),\n    LnxAgentCount = dcountif(ResourceId, OsType == \"linux\")\n    by SubscriptionId\n| take 50\n| extend Id = SubscriptionId\n| join kind = leftouter cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_Subscription on Id\n| project Name, TotalAgentCount, WinAgentCount, LnxAgentCount, SubscriptionId = Id, Id = CloudCustomer\n| join kind = leftouter cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_CloudCustomer on Id\n| project Name, SubscriptionId, TotalAgentCount, WinAgentCount, LnxAgentCount, IndustryName\n| sort by TotalAgentCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"table","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":24,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false}]}},{"id":"9ef41e2d-1d67-45a9-a968-dc2545133309","title":"Customer Name","query":"cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_Subscription\n| where isempty(['CustomerSelect']) or Id == ['CustomerSelect']\n| project Name\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":5,"y":0,"width":10,"height":3},"usedParamVariables":["CustomerSelect"],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"5cdb025e-e590-4997-9dbe-2dbe395089d7","title":"Agents deployed (AMA vs OMS/MMA) by customer","query":"//Top customers OMS by AgentId Count\n\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nlet CustomerOMSAgents =\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| extend SubscriptionId = tostring(split(ResourceId, \"/\")[2])\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize total_MMA_Agents = dcount(AgentId) by SubscriptionId;\nlet CustomerAMAAgents = union\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize\n    Total_AMA_Count = dcount(ResourceId) by SubscriptionId;\nCustomerOMSAgents\n| join kind=fullouter CustomerAMAAgents on SubscriptionId\n| project-away SubscriptionId1","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":3,"width":23,"height":6},"usedParamVariables":["CustomerSelect"],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[{"destinationPages":[],"disabled":false}]}},{"id":"7a01e265-79f9-46fd-bf4c-f250bb417e25","title":"Solutions used on MMA by number of agents","query":"//Top customers OMS by AgentId Count\n\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nlet CustomerOMSSolutions =\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| extend SubscriptionId = tostring(split(ResourceId, \"/\")[2])\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| mv-expand Solution to typeof(string)\n| where Solution != \"null\"\n| summarize AgentCount = dcount(AgentId) by Solution\n| where AgentCount > 0\n| sort by AgentCount desc;\nCustomerOMSSolutions","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":9,"width":23,"height":12},"usedParamVariables":["CustomerSelect"],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"cbb1a6cd-a6ce-44f1-909e-23dc1f7e6dd8","property":"Solution"}],"destinationPages":["abdd00b4-5e83-497d-a2c3-661d5d37f13c"],"disabled":false}]}},{"id":"9695c985-cc29-48e1-8a1c-1e706e3710d7","title":"Solution","query":"\nprint SolutionSelect","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":7,"y":0,"width":8,"height":3},"usedParamVariables":["SolutionSelect"],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"11fdd650-2bfc-49f4-82c9-12d333e89b00","title":"OMS/MMA Customers using selected solution by agent count","query":"//Customers that use the solutions\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nlet SolutionOMSCustomers =\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| extend Id = tostring(split(ResourceId, \"/\")[2])\n| where isempty(['SolutionSelect']) or Solutions has ['SolutionSelect'] // Freetext filtering\n| where Id != \"\"\n| summarize TotalAgentCount = dcount(AgentId) by Id\n| where TotalAgentCount > 0\n| sort by TotalAgentCount desc;\nSolutionOMSCustomers\n| join kind = leftouter cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_Subscription on Id\n| project Name, TotalAgentCount, SubscriptionId = Id, Id = CloudCustomer\n| join kind = leftouter cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_CloudCustomer on Id\n| project Name, SubscriptionId, TotalAgentCount, IndustryName\n| sort by TotalAgentCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"table","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":0,"y":3,"width":22,"height":13},"usedParamVariables":["SolutionSelect"],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":false,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false}]}},{"id":"2d371ada-508f-45ca-8093-cef5e3bc9ec4","title":"OMS/MMA Overall Population count","query":"union cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"68717fa5-fdf7-4959-9ae7-cd4d28729f0d","title":"MMA Windows Population count ","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":8,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"4a14e887-6a4b-4e7c-b80a-4d5aee182f8e","title":"OMS Linux population count","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"card","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":16,"y":0,"width":8,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"49d1123e-6207-4356-ae8d-245cc31f48fd","title":"MMA Windows Version breakdown","query":"// OMS Windows Version breakdown\n// Agent Versions by Windows AgentId Population\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"),  WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by AgentVersion\n| sort by WinAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":3,"width":12,"height":11},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"4f7dfc30-5a61-44ff-a48f-548257a2e30e","title":"OMS Linux Version breakdown","query":"// OMS Linux Version breakdown\n\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize\n    LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"),\n    LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"),\n    LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\")\n    by AgentVersion\n| sort by LnxAgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":12,"y":3,"width":12,"height":11},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"205163b9-f192-4bbe-a549-b14cc865bc7e","title":"Solution breakdown","query":"// Agent Count by Solutions For OMS\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n//| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| mv-expand Solution to typeof(string)\n| where Solution != \"null\"\n| summarize\n    AgentCount = dcount(AgentId),\n    WinAgentCount = dcountif(AgentId, OSType == \"Windows\"),\n    LinuxAgentCount = dcountif(AgentId, OSType == \"Linux\"),\n    WorkspaceCount = dcount(WorkspaceId)\n    by Solution\n| sort by AgentCount desc","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":21,"width":24,"height":12},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","crossFilter":[],"drillthrough":[]}},{"id":"d8ac1fef-fc0d-4249-90da-4e08d7c9bd7e","title":"Deployment bar chart ","query":"//Deployment bar chart \n//Azure vs On-prem vs. Arc\nlet Linux = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot) | extend OSType = \"Linux\";\nlet Windows = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot) | extend OSType = \"Windows\";\nunion Linux, Windows\n| summarize Azure = countif(Region != \"onpremise\" and ResourceId !has \"microsoft.hybridcompute\"),\n            Direct = countif(Region == \"onpremise\" and isempty(ResourceId)),\n            Arc = countif(ResourceId has \"microsoft.hybridcompute\")\n            by OSType","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"stackedbar","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":14,"width":24,"height":7},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"ec8d2658-3008-45cb-b126-6dc387b1dcda","title":"OMS/MMA Monthly cases with verbatim column ","query":"//Monthly cases with verbatim column for Azure Log Analytics agent \n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(360d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17846\") \n| project CaseClosedDate, Surveys_QOSOverallVerbatim \n| summarize VerbatumCount = count() by startofmonth(CaseClosedDate)\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":0,"width":24,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"06b00c5e-e54d-4774-8011-c7783ddc4fcb","title":"OMS/MMA Last 90 days cases with verbatim column","query":"//Last 90 days cases with verbatim column\n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(90d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17846\")\n| project CaseClosedDate, Surveys_QOSOverallVerbatim\n| sort by CaseClosedDate desc\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"table","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":8,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"e3dcff8d-5904-4200-a789-87ac405ca562","title":"OMS/MMA Most common support topics submitted per month","query":"//Most common support topics submitted per month\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17846\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by month, SupportTopic","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":22,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"9216a4c8-fff2-4c82-aea6-f6c6ce35e478","title":"OMS/MMA Most common support topics last 30 days","query":"//Most common support topics submitted last 30 days\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17846\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| extend month = endofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by SupportTopic","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":36,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"c0b251aa-8f64-4fb6-af8d-ed8271a51082","title":"OMS/MMA Most common root causes submitted per month","query":"//Most common root cases submitted per month\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17846\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize CauseCount = count() by month, RootCause","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":50,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"6e2b5eed-e001-4b28-b884-789d658ded45","title":"OMS/MMA Most common root causes last 30 days","query":"//Most common root causes  last 30 days\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17846\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| summarize CauseCount = count() by RootCause","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":64,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"f4e58ef3-fd23-4b78-ada4-aaad1a43c4a0","title":"OMS/MMA Region CSAT average","query":"//Region CSAT average\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where CSAT != \"\"\n| where SupportProductId in (\"17846\")\n| project CSAT, Incidents_CustomerRegion\n| summarize CSATavg = avg(tolong(CSAT)) by Incidents_CustomerRegion\n| sort by CSATavg","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":78,"width":24,"height":17},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":5,"yAxisMinimumValue":3.5,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"7e50d971-9d81-40cd-8196-ac42f136ce10","title":"AMA Monthly cases with verbatim column ","query":"//Monthly cases with verbatim column for Azure Log Analytics agent \n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(360d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17293\") \n| project CaseClosedDate, Surveys_QOSOverallVerbatim \n| summarize VerbatumCount = count() by startofmonth(CaseClosedDate)\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":0,"width":24,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"9ced6e8b-1625-4e69-999d-0f5affef43d8","title":"AMA Last 90 days cases with verbatim column","query":"//Last 90 days cases with verbatim column\n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(90d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17293\")\n| project CaseClosedDate, Surveys_QOSOverallVerbatim\n| sort by CaseClosedDate desc\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"table","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":8,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"ef7efd4b-6442-434b-8179-aadac41f8914","title":"AMA Most common support topics submitted per month","query":"//Most common support topics submitted per month\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17293\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by month, SupportTopic","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":22,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"92d5ae04-1a4e-4900-8670-0a484f7b26e4","title":"AMA Most common support topics last 30 days","query":"//Most common support topics submitted last 30 days\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17293\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| extend month = endofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by SupportTopic","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":36,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"148c17a5-6c9c-40f6-8e3b-3f6d14079388","title":"AMA Most common root causes submitted per month","query":"//Most common root cases submitted per month\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17293\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize CauseCount = count() by month, RootCause","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":50,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"d8b4cf25-10d1-4fdb-bb61-14b92c64d317","title":"AMA Most common root causes last 30 days","query":"//Most common root causes  last 30 days\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17293\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| summarize CauseCount = count() by RootCause","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"pie","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":64,"width":24,"height":14},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","crossFilter":[],"drillthrough":[]}},{"id":"ac3bb7d2-4ace-4cf4-9cef-75176979ed84","title":"AMA Region CSAT average","query":"//Region CSAT average\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where CSAT != \"\"\n| where SupportProductId in (\"17293\")\n| project CSAT, Incidents_CustomerRegion\n| summarize CSATavg = avg(tolong(CSAT)) by Incidents_CustomerRegion\n| sort by CSATavg","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":78,"width":24,"height":13},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":5,"yAxisMinimumValue":2.5,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"bc935dd9-4bb5-4948-a151-e8f140f3f6a1","title":"OMS/MMA Heartbeat, Install, & Enable Monthly Counts","query":"let MMAInstallEnableCount = //pull MMA install enable information\n    union cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot, \n        cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        LnxHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        WinInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        LnxInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        WinEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\")\n        by bin_at(Date, 31d, now())\n        ;\nMMAInstallEnableCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":0,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"ad88cb26-a45e-4f34-add8-8aed9ca10a33","title":"Windows Heartbeat, Install, & Enable Monthly Counts","query":"let MMAHBInstallEnableCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        WinInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        WinEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\")\n        by bin_at(Date, 31d, now());\nMMAHBInstallEnableCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":9,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"66462977-3c24-428b-901b-73c7aa6079ea","title":"Linux Heartbeat, Install, & Enable Monthly Counts","query":"let OMSHBInstallEnableCount = //pull OMS install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 2\n    | summarize\n        LnxHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        LnxInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\")\n        by bin_at(Date, 31d, now())\n        ;\nOMSHBInstallEnableCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":12,"y":9,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"98d87507-4423-4629-8d17-89b721e2e37e","title":"OMS/MMA Heartbeat, Install, & Enable Weekly Counts","query":"let MMAInstallEnableCount = //pull MMA install enable information\n    union cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot, \n        cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        LnxHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        WinInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        LnxInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        WinEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\")\n        by bin_at(Date, 7d, now());\nMMAInstallEnableCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":18,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"bb1fee46-984c-49b6-95c2-12d62dd31cef","title":"Windows Heartbeat, Install, & Enable Weekly Counts","query":"let MMAHBInstallEnableCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        WinInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\"),\n        WinEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.microsoftmonitoringagent\")\n        by bin_at(Date, 7d, now());\nMMAHBInstallEnableCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":27,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"acd451d7-b8ce-414e-a4cb-2db63788c46c","title":"Linux Heartbeat, Install, & Enable Weekly Counts","query":"let OMSHBInstallEnableCount = //pull OMS install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 2\n    | summarize\n        LnxHasHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        LnxInstallSuccessCount = dcountif(ResourceId, Operation in~ (\"Install\", \"OnPluginInstallEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, Operation in~ (\"Enable\", \"OnPluginEnableEnd\") and ExtName =~ \"microsoft.enterprisecloud.monitoring.omsagentforlinux\")\n        by bin_at(Date, 7d, now())\n        ;\nOMSHBInstallEnableCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":12,"y":27,"width":12,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"91a87843-feb7-40fb-9310-60992c31a61c","title":"LAD Percent Usage 1-day","query":"let FiveDayPUT_Iaas = cluster('azcrp.kusto.windows.net').database('crp_allprod').ApiQosEvent\n| where TIMESTAMP between (ago(1d) .. ago(1h))\n| where operationName == \"VMExtensions.VMExtensionOperation.PUT\" \n| where isnotempty(requestEntity) \n| extend requestEntityJS = parse_json(requestEntity) \n| where requestEntityJS.properties.type contains \"IaaSDiagnostics\" ;\nlet FiveDayPUTIaaS = materialize(FiveDayPUT_Iaas);\nlet Usage_SysLogs = FiveDayPUTIaaS\n| extend HasSyslogs = iff(requestEntity has \"syslogEvents\", 1, 0) \n| summarize Category = \"SysLogs\", Usage=round(sum(HasSyslogs) * 100.0 / count(),2);\nlet Usage_Metrics = FiveDayPUTIaaS\n| extend HasMetrics = iff(requestEntity has \"metrics\", 1, 0) \n| summarize Category = \"Metrics\", Usage=round(sum(HasMetrics) * 100.0 / count(),2);\nlet Usage_PerformanceCounters = FiveDayPUTIaaS\n| extend HasPerformanceCounters = iff(requestEntity has \"performanceCounters\", 1, 0) \n| summarize Category = \"PerformanceCounters\", Usage=round(sum(HasPerformanceCounters) * 100.0 / count(),2);\nlet Usage_FileLogs = FiveDayPUTIaaS\n| extend HasLogs = iff(requestEntity has \"fileLogs\", 1, 0) \n| summarize Category = \"FileLogs\", Usage=round(sum(HasLogs) * 100.0 / count(),2);\nlet Usage_BlobStorage = FiveDayPUTIaaS\n| extend HasBlobStorage = iff(requestEntity has \"JsonBlob\", 1, 0) \n| summarize Category = \"BlobStorage\", Usage=round(sum(HasBlobStorage) * 100.0 / count(),2);\nlet Usage_TableStorage = FiveDayPUTIaaS\n| extend HasTableStorage = iff(requestEntity has \"StorageAccount\", 1, 0)\n| summarize Category = \"TableStorage\", Usage=round(sum(HasTableStorage) * 100.0 / count(),2);\nlet Usage_EventHub = FiveDayPUTIaaS\n| extend HasEventHub = iff(requestEntity has \"EventHub\", 1, 0)\n| summarize Category = \"EventHub\", Usage=round(sum(HasEventHub) * 100.0 / count(),2);\nunion Usage_SysLogs, \n      Usage_Metrics,\n      Usage_PerformanceCounters,\n      Usage_FileLogs,\n      Usage_BlobStorage,\n      Usage_TableStorage,\n      Usage_EventHub\n| sort by Usage","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":0,"width":23,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"5ba3c5c8-a106-4fe1-ad95-7e1cd1c67862","title":"LAD Percent Usage 1-day","query":"let FiveDayPUT_Iaas = cluster('azcrp.kusto.windows.net').database('crp_allprod').ApiQosEvent\n| where TIMESTAMP between (ago(1d) .. ago(1h))\n| where operationName == \"VMExtensions.VMExtensionOperation.PUT\" \n| where isnotempty(requestEntity) \n| extend requestEntityJS = parse_json(requestEntity) \n| where requestEntityJS.properties.type contains \"IaaSDiagnostics\" ;\nlet FiveDayPUTIaaS = materialize(FiveDayPUT_Iaas);\nlet Usage_SysLogs = FiveDayPUTIaaS\n| extend HasSyslogs = iff(requestEntity has \"syslogEvents\", 1, 0) \n| summarize Category = \"SysLogs\", Usage=round(sum(HasSyslogs) * 100.0 / count(),2);\nlet Usage_Metrics = FiveDayPUTIaaS\n| extend HasMetrics = iff(requestEntity has \"metrics\", 1, 0) \n| summarize Category = \"Metrics\", Usage=round(sum(HasMetrics) * 100.0 / count(),2);\nlet Usage_PerformanceCounters = FiveDayPUTIaaS\n| extend HasPerformanceCounters = iff(requestEntity has \"performanceCounters\", 1, 0) \n| summarize Category = \"PerformanceCounters\", Usage=round(sum(HasPerformanceCounters) * 100.0 / count(),2);\nlet Usage_FileLogs = FiveDayPUTIaaS\n| extend HasLogs = iff(requestEntity has \"fileLogs\", 1, 0) \n| summarize Category = \"FileLogs\", Usage=round(sum(HasLogs) * 100.0 / count(),2);\nlet Usage_BlobStorage = FiveDayPUTIaaS\n| extend HasBlobStorage = iff(requestEntity has \"JsonBlob\", 1, 0) \n| summarize Category = \"BlobStorage\", Usage=round(sum(HasBlobStorage) * 100.0 / count(),2);\nlet Usage_TableStorage = FiveDayPUTIaaS\n| extend HasTableStorage = iff(requestEntity has \"StorageAccount\", 1, 0)\n| summarize Category = \"TableStorage\", Usage=round(sum(HasTableStorage) * 100.0 / count(),2);\nlet Usage_EventHub = FiveDayPUTIaaS\n| extend HasEventHub = iff(requestEntity has \"EventHub\", 1, 0)\n| summarize Category = \"EventHub\", Usage=round(sum(HasEventHub) * 100.0 / count(),2);\nunion Usage_SysLogs, \n      Usage_Metrics,\n      Usage_PerformanceCounters,\n      Usage_FileLogs,\n      Usage_BlobStorage,\n      Usage_TableStorage,\n      Usage_EventHub\n| sort by Usage","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"multistat","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":8,"width":23,"height":6},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":4,"height":2}}},{"id":"a1297158-2556-477e-9248-b9fde16a840f","title":"WAD Percent Usage 1-day","query":"let start = ago(25h);\nlet end = ago(1h);\nWADUsageManuSnapshot(start,end)\n| project Category, Usage\n| sort by Usage","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":0,"width":23,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"91bd8722-1a6c-4b70-8b7c-1694e14c2afe","title":"WAD Percent Usage 1-day","query":"let start = ago(25h);\nlet end = ago(1h);\nWADUsageManuSnapshot(start,end)\n| project Category, Usage\n| sort by Usage","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"multistat","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":9,"width":23,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":5,"height":3}}},{"id":"ede7820c-6e4d-4fc4-9611-a2e8bc8018a3","title":"WAD Resource Counts 1-day","query":"let start = ago(25h);\nlet end = ago(1h);\nWADUsageManuSnapshot(start,end)\n| project Category, ResCount\n| sort by ResCount","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":18,"width":23,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"0d6eb502-af62-4475-91c9-1436b5c24cd1","title":"LAD Resource Count 1-day","query":"let FiveDayPUT_Iaas = cluster('azcrp.kusto.windows.net').database('crp_allprod').ApiQosEvent\n| where TIMESTAMP between (ago(1d) .. ago(1h))\n| where operationName == \"VMExtensions.VMExtensionOperation.PUT\" \n| where isnotempty(requestEntity) \n| extend requestEntityJS = parse_json(requestEntity) \n| where requestEntityJS.properties.type contains \"IaaSDiagnostics\" ;\nlet FiveDayPUTIaaS = materialize(FiveDayPUT_Iaas);\nlet my_SysLogs = FiveDayPUTIaaS\n| extend HasSyslogs = iff(requestEntity has \"syslogEvents\", 1, 0) \n| summarize Category = \"SysLogs\", \n            ResCount=dcountif(resourceName, HasSyslogs==1), \n            SubCount=dcountif(subscriptionId, HasSyslogs==1), \n            Usage=round(sum(HasSyslogs) * 100.0 / count(),2);\nlet my_Metrics = FiveDayPUTIaaS\n| extend HasMetrics = iff(requestEntity has \"metrics\", 1, 0) \n| summarize Category = \"Metrics\", \n            ResCount=dcountif(resourceName, HasMetrics==1), \n            SubCount=dcountif(subscriptionId, HasMetrics==1), \n            Usage=round(sum(HasMetrics) * 100.0 / count(),2);\nlet my_PerformanceCounters = FiveDayPUTIaaS\n| extend HasPerformanceCounters = iff(requestEntity has \"performanceCounters\", 1, 0) \n| summarize Category = \"PerformanceCounters\", \n            ResCount=dcountif(resourceName, HasPerformanceCounters==1), \n            SubCount=dcountif(subscriptionId, HasPerformanceCounters==1), \n            Usage=round(sum(HasPerformanceCounters) * 100.0 / count(),2);\nlet my_FileLogs = FiveDayPUTIaaS\n| extend HasLogs = iff(requestEntity has \"fileLogs\", 1, 0) \n| summarize Category = \"FileLogs\", \n            ResCount=dcountif(resourceName, HasLogs==1), \n            SubCount=dcountif(subscriptionId, HasLogs==1), \n            Usage=round(sum(HasLogs) * 100.0 / count(),2);\nlet my_BlobStorage = FiveDayPUTIaaS\n| extend HasBlobStorage = iff(requestEntity has \"JsonBlob\", 1, 0) \n| summarize Category = \"BlobStorage\", \n            ResCount=dcountif(resourceName, HasBlobStorage==1), \n            SubCount=dcountif(subscriptionId, HasBlobStorage==1), \n            Usage=round(sum(HasBlobStorage) * 100.0 / count(),2);\nlet my_TableStorage = FiveDayPUTIaaS\n| extend HasTableStorage = iff(requestEntity has \"StorageAccount\", 1, 0)\n| summarize Category = \"TableStorage\", \n            ResCount=dcountif(resourceName, HasTableStorage==1), \n            SubCount=dcountif(subscriptionId, HasTableStorage==1), \n            Usage=round(sum(HasTableStorage) * 100.0 / count(),2);\nlet my_EventHub = FiveDayPUTIaaS\n| extend HasEventHub = iff(requestEntity has \"EventHub\", 1, 0)\n| summarize Category = \"EventHub\", \n            ResCount=dcountif(resourceName, HasEventHub==1), \n            SubCount=dcountif(subscriptionId, HasEventHub==1), \n            Usage=round(sum(HasEventHub) * 100.0 / count(),2);\nunion my_SysLogs, \n      my_Metrics,\n      my_PerformanceCounters,\n      my_FileLogs,\n      my_BlobStorage,\n      my_TableStorage,\n      my_EventHub\n| sort by ResCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":14,"width":23,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"specified","value":"Category"},"yColumns":{"type":"specified","value":["ResCount"]},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"28c3194f-4380-4a70-8a97-9635f4f8041d","title":"LAD Percent Usage 1-week","query":"let FiveDayPUT_Iaas = cluster('azcrp.kusto.windows.net').database('crp_allprod').ApiQosEvent\n| where TIMESTAMP between (ago(7d) .. ago(1h))\n| where operationName == \"VMExtensions.VMExtensionOperation.PUT\" \n| where isnotempty(requestEntity) \n| extend requestEntityJS = parse_json(requestEntity) \n| where requestEntityJS.properties.type contains \"IaaSDiagnostics\" ;\nlet FiveDayPUTIaaS = materialize(FiveDayPUT_Iaas);\nlet Usage_SysLogs = FiveDayPUTIaaS\n| extend HasSyslogs = iff(requestEntity has \"syslogEvents\", 1, 0) \n| summarize Category = \"SysLogs\", Usage=round(sum(HasSyslogs) * 100.0 / count(),2);\nlet Usage_Metrics = FiveDayPUTIaaS\n| extend HasMetrics = iff(requestEntity has \"metrics\", 1, 0) \n| summarize Category = \"Metrics\", Usage=round(sum(HasMetrics) * 100.0 / count(),2);\nlet Usage_PerformanceCounters = FiveDayPUTIaaS\n| extend HasPerformanceCounters = iff(requestEntity has \"performanceCounters\", 1, 0) \n| summarize Category = \"PerformanceCounters\", Usage=round(sum(HasPerformanceCounters) * 100.0 / count(),2);\nlet Usage_FileLogs = FiveDayPUTIaaS\n| extend HasLogs = iff(requestEntity has \"fileLogs\", 1, 0) \n| summarize Category = \"FileLogs\", Usage=round(sum(HasLogs) * 100.0 / count(),2);\nlet Usage_BlobStorage = FiveDayPUTIaaS\n| extend HasBlobStorage = iff(requestEntity has \"JsonBlob\", 1, 0) \n| summarize Category = \"BlobStorage\", Usage=round(sum(HasBlobStorage) * 100.0 / count(),2);\nlet Usage_TableStorage = FiveDayPUTIaaS\n| extend HasTableStorage = iff(requestEntity has \"StorageAccount\", 1, 0)\n| summarize Category = \"TableStorage\", Usage=round(sum(HasTableStorage) * 100.0 / count(),2);\nlet Usage_EventHub = FiveDayPUTIaaS\n| extend HasEventHub = iff(requestEntity has \"EventHub\", 1, 0)\n| summarize Category = \"EventHub\", Usage=round(sum(HasEventHub) * 100.0 / count(),2);\nunion Usage_SysLogs, \n      Usage_Metrics,\n      Usage_PerformanceCounters,\n      Usage_FileLogs,\n      Usage_BlobStorage,\n      Usage_TableStorage,\n      Usage_EventHub\n| sort by Usage","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":22,"width":23,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"f7c99483-5b42-433a-aaa5-fc604826f4a6","title":"LAD Percent Usage 1-week","query":"let FiveDayPUT_Iaas = cluster('azcrp.kusto.windows.net').database('crp_allprod').ApiQosEvent\n| where TIMESTAMP between (ago(7d) .. ago(1h))\n| where operationName == \"VMExtensions.VMExtensionOperation.PUT\" \n| where isnotempty(requestEntity) \n| extend requestEntityJS = parse_json(requestEntity) \n| where requestEntityJS.properties.type contains \"IaaSDiagnostics\" ;\nlet FiveDayPUTIaaS = materialize(FiveDayPUT_Iaas);\nlet Usage_SysLogs = FiveDayPUTIaaS\n| extend HasSyslogs = iff(requestEntity has \"syslogEvents\", 1, 0) \n| summarize Category = \"SysLogs\", Usage=round(sum(HasSyslogs) * 100.0 / count(),2);\nlet Usage_Metrics = FiveDayPUTIaaS\n| extend HasMetrics = iff(requestEntity has \"metrics\", 1, 0) \n| summarize Category = \"Metrics\", Usage=round(sum(HasMetrics) * 100.0 / count(),2);\nlet Usage_PerformanceCounters = FiveDayPUTIaaS\n| extend HasPerformanceCounters = iff(requestEntity has \"performanceCounters\", 1, 0) \n| summarize Category = \"PerformanceCounters\", Usage=round(sum(HasPerformanceCounters) * 100.0 / count(),2);\nlet Usage_FileLogs = FiveDayPUTIaaS\n| extend HasLogs = iff(requestEntity has \"fileLogs\", 1, 0) \n| summarize Category = \"FileLogs\", Usage=round(sum(HasLogs) * 100.0 / count(),2);\nlet Usage_BlobStorage = FiveDayPUTIaaS\n| extend HasBlobStorage = iff(requestEntity has \"JsonBlob\", 1, 0) \n| summarize Category = \"BlobStorage\", Usage=round(sum(HasBlobStorage) * 100.0 / count(),2);\nlet Usage_TableStorage = FiveDayPUTIaaS\n| extend HasTableStorage = iff(requestEntity has \"StorageAccount\", 1, 0)\n| summarize Category = \"TableStorage\", Usage=round(sum(HasTableStorage) * 100.0 / count(),2);\nlet Usage_EventHub = FiveDayPUTIaaS\n| extend HasEventHub = iff(requestEntity has \"EventHub\", 1, 0)\n| summarize Category = \"EventHub\", Usage=round(sum(HasEventHub) * 100.0 / count(),2);\nunion Usage_SysLogs, \n      Usage_Metrics,\n      Usage_PerformanceCounters,\n      Usage_FileLogs,\n      Usage_BlobStorage,\n      Usage_TableStorage,\n      Usage_EventHub\n| sort by Usage","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"multistat","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":30,"width":23,"height":6},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":4,"height":2}}},{"id":"35ccf3a4-7f87-49ce-bb42-1b1eb96ec4a7","title":"LAD Resource Count 1-week","query":"let FiveDayPUT_Iaas = cluster('azcrp.kusto.windows.net').database('crp_allprod').ApiQosEvent\n| where TIMESTAMP between (ago(7d) .. ago(1h))\n| where operationName == \"VMExtensions.VMExtensionOperation.PUT\" \n| where isnotempty(requestEntity) \n| extend requestEntityJS = parse_json(requestEntity) \n| where requestEntityJS.properties.type contains \"IaaSDiagnostics\" ;\nlet FiveDayPUTIaaS = materialize(FiveDayPUT_Iaas);\nlet my_SysLogs = FiveDayPUTIaaS\n| extend HasSyslogs = iff(requestEntity has \"syslogEvents\", 1, 0) \n| summarize Category = \"SysLogs\", \n            ResCount=dcountif(resourceName, HasSyslogs==1), \n            SubCount=dcountif(subscriptionId, HasSyslogs==1), \n            Usage=round(sum(HasSyslogs) * 100.0 / count(),2);\nlet my_Metrics = FiveDayPUTIaaS\n| extend HasMetrics = iff(requestEntity has \"metrics\", 1, 0) \n| summarize Category = \"Metrics\", \n            ResCount=dcountif(resourceName, HasMetrics==1), \n            SubCount=dcountif(subscriptionId, HasMetrics==1), \n            Usage=round(sum(HasMetrics) * 100.0 / count(),2);\nlet my_PerformanceCounters = FiveDayPUTIaaS\n| extend HasPerformanceCounters = iff(requestEntity has \"performanceCounters\", 1, 0) \n| summarize Category = \"PerformanceCounters\", \n            ResCount=dcountif(resourceName, HasPerformanceCounters==1), \n            SubCount=dcountif(subscriptionId, HasPerformanceCounters==1), \n            Usage=round(sum(HasPerformanceCounters) * 100.0 / count(),2);\nlet my_FileLogs = FiveDayPUTIaaS\n| extend HasLogs = iff(requestEntity has \"fileLogs\", 1, 0) \n| summarize Category = \"FileLogs\", \n            ResCount=dcountif(resourceName, HasLogs==1), \n            SubCount=dcountif(subscriptionId, HasLogs==1), \n            Usage=round(sum(HasLogs) * 100.0 / count(),2);\nlet my_BlobStorage = FiveDayPUTIaaS\n| extend HasBlobStorage = iff(requestEntity has \"JsonBlob\", 1, 0) \n| summarize Category = \"BlobStorage\", \n            ResCount=dcountif(resourceName, HasBlobStorage==1), \n            SubCount=dcountif(subscriptionId, HasBlobStorage==1), \n            Usage=round(sum(HasBlobStorage) * 100.0 / count(),2);\nlet my_TableStorage = FiveDayPUTIaaS\n| extend HasTableStorage = iff(requestEntity has \"StorageAccount\", 1, 0)\n| summarize Category = \"TableStorage\", \n            ResCount=dcountif(resourceName, HasTableStorage==1), \n            SubCount=dcountif(subscriptionId, HasTableStorage==1), \n            Usage=round(sum(HasTableStorage) * 100.0 / count(),2);\nlet my_EventHub = FiveDayPUTIaaS\n| extend HasEventHub = iff(requestEntity has \"EventHub\", 1, 0)\n| summarize Category = \"EventHub\", \n            ResCount=dcountif(resourceName, HasEventHub==1), \n            SubCount=dcountif(subscriptionId, HasEventHub==1), \n            Usage=round(sum(HasEventHub) * 100.0 / count(),2);\nunion my_SysLogs, \n      my_Metrics,\n      my_PerformanceCounters,\n      my_FileLogs,\n      my_BlobStorage,\n      my_TableStorage,\n      my_EventHub\n| sort by ResCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":36,"width":23,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"specified","value":"Category"},"yColumns":{"type":"specified","value":["ResCount"]},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"a6bd3a9b-bbe3-4599-a602-feff3fd3fce1","title":"Weekly Windows Unique Customer Pop Trend for agent versions older than 10_20_18053 with 22s excluded","query":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n//other calc way: | where AgentVersion in~ (\"10.20.18040.0\", \"1.0.18040.2\", \"10.20.18038.0\", \"1.0.18038.0\", \"10.20.18029.0\", \"1.0.18029.0\", \"10.20.18018.0\", \"1.0.18018.0\", \"10.20.18011.0\", \"1.0.18011.0\", \"10.20.18001.0\", \"1.0.18001.0\", \"10.19.13515.0\", \"1.0.13515.0\", \"10.19.10006.0\", \"8.0.11136.0\", \"8.0.11103.0\", \"8.0.11081.0\", \"1.0.11081.0\", \"8.0.11072.0\", \"1.0.11072.0\", \"8.0.11049.0\", \"1.0.11049.0\")\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| extend SubscriptionId = tostring(split(ResourceId,'/')[2])\n| summarize SubscriptionDailyCount = dcount(SubscriptionId) by Date\n| summarize Weekly_Max_count_Subs_with_Version_Older_Than_10_20_18053 = max(SubscriptionDailyCount) by startofweek(Date)","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":35,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"cbeca193-12ae-40a2-9f8c-5e0d7912ac18","title":"WAD Avg Weekly % Usage Trend","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManSnapshot\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category, week = startofmonth(Date)\n| project-reorder week, Category, AvgUsage\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":56,"width":23,"height":12},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"ceea5464-cf83-4511-832a-c8b87bed55ff","title":"WAD Avg Weekly Resource Count Trend","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManSnapshot\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),0) by Category, week = startofmonth(Date)\n| project-reorder week, Category, AvgResCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":68,"width":23,"height":12},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"c653e098-5ad2-4670-b7ca-0f413201342f","title":"WAD Avg Percent Usage Past Month","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManSnapshot\n| where Date > ago(31d)\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":27,"width":23,"height":10},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"e666bdcf-cd67-4d30-9599-488d3d2f2624","title":"WAD Avg Percent Usage Past Month","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManSnapshot\n| where Date > ago(31d)\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"multistat","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":37,"width":23,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":5,"height":3}}},{"id":"7646fa1e-82e6-4ff5-88fd-debe3592f6a8","title":"WAD Avg Resource Count Past Month","query":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManSnapshot\n| where Date > ago(31d)\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category\n| project-reorder Category, AvgResCount\n| sort by AvgResCount\n","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":46,"width":23,"height":10},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}}],"parameters":[{"kind":"duration","id":"08864796-4b5e-423d-bbb8-c356a44daa75","displayName":"Time range","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"selection","pageIds":[]}},{"kind":"string","selectionType":"freetext","id":"4f7a8544-fd41-4ec2-bf59-1149076ce777","displayName":"Customer(SubscriptionId)","variableName":"CustomerSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"]}},{"kind":"string","selectionType":"freetext","id":"cbb1a6cd-a6ce-44f1-909e-23dc1f7e6dd8","displayName":"Solution","variableName":"SolutionSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["abdd00b4-5e83-497d-a2c3-661d5d37f13c"]}}],"dataSources":[{"id":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","name":"GenevaAgentTelemetry","clusterUri":"https://genevaagent.kusto.windows.net/","database":"Telemetry","kind":"manual-kusto","scopeId":"kusto"},{"id":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5","name":"rdos","clusterUri":"https://rdos.kusto.windows.net/","database":"rdos","kind":"manual-kusto","scopeId":"kusto"}],"pages":[{"name":"Log Analytics Agent (MMA/OMS)","id":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722"},{"name":"Diagnostics Extension (WAD/LAD)","id":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0"},{"name":"Azure Monitoring Agent (AMA)","id":"615b9a32-8acc-4f11-a65c-dc2e6b11e33f"},{"name":"Fleet Tlm OMS/MMA","id":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e"},{"name":"Fleet Tlm LAD/WAD ","id":"b9c54832-e96f-4d89-9616-d12e43680b2e"},{"name":"OMS->AMA Migration","id":"c5d21b0d-c518-4c94-999c-daa022afb8c1"},{"name":"Migration Customer View","id":"3bade44b-2e1b-4b7b-9970-4365c4d6c503"},{"name":"Migration Solution View","id":"abdd00b4-5e83-497d-a2c3-661d5d37f13c"},{"id":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","name":"Supportability AMA"},{"name":"Supportability OMS/MMA","id":"720a2068-3401-4bdd-b521-caf3caee4a97"},{"name":"Install/Enable HB OMS/MMA Counts","id":"77e2d7c4-6f6e-419b-bf2a-02056758eb60"},{"name":"Pop Charts AMA","id":"e39f120d-feb1-40d1-a024-410cc40ccece"},{"name":"Pop Charts OMS/MMA","id":"7acb6810-fbce-4f5c-92b7-71a823b5420b"},{"id":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","name":"Pop Charts LAD/WAD"},{"name":"Feature Usage LAD","id":"9a96b84d-70cc-48fd-87d6-6b58d063a962"},{"id":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","name":"Feature Usage WAD"}]}