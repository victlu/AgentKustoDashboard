{"$schema":"https://dataexplorer.azure.com/static/d/schema/35/dashboard.json","id":"beccdc1b-354e-498c-abd6-fcf2928c2884","eTag":"8ogo0P32NJkGXhY66C6NPg==","schema_version":"35","title":"Agent Telemetry Private","autoRefresh":{"enabled":false},"sharedQueries":[],"tiles":[{"id":"0f14e352-86b0-40de-8612-aab6d83dc657","title":"LA Agent Solution Breakdown","visualType":"table","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":30,"width":24,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"let WorkspaceOS = union Latest(LinuxDailySnapshot), Latest(WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId\n;\nunion Latest(LinuxDailySnapshot), Latest(WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| mv-expand Solution to typeof(string)\n| summarize WorkspaceCount = dcount(WorkspaceId), WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), LinuxAgentCount = dcountif(AgentId, OSType == \"Linux\") by Solution\n| sort by WorkspaceCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"table__renderLinks":[]}},{"id":"4a621952-4013-4fdd-8f9d-04ca274b5400","title":"New tile","visualType":"markdownCard","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":0,"width":24,"height":5},"query":{"kind":"inline","usedVariables":[],"text":"OMS Overall Population, Linux Population, Windows Population (Month over month)\nOMS Current Population Versions (MoM) think this exists today\nWhat solutions do current OMS users use - Cut off at top 10 // == Add a col for sum agent and order by sum\nAMA Overall Population, Linux Population, Windows Population (Month over month)\nAMA Current Population Versions\nWAD Population MoM\nWAD Current Population Versions (MoM)\nLAD Population MoM\nLAD Current Population Versions (MoM)\n\n===\n\nAMA\n\nGrowth: Linechart with both -SUM, -MMA and -AMA and where is the convergence points"},"visualOptions":{"pie__TopNSlices":null}},{"id":"0f2590ee-ea29-4aff-bc47-60d01b58982a","title":"LA Agent - Azure vs On-prem vs. Arc","visualType":"bar","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":19,"width":24,"height":6},"query":{"kind":"inline","usedVariables":[],"text":"let Linux = Latest(LinuxDailySnapshot) | extend OSType = \"Linux\";\nlet Windows = Latest(WindowsDailySnapshot) | extend OSType = \"Windows\";\nunion Linux, Windows\n| summarize Azure = countif(Region != \"onpremise\" and ResourceId !contains \"microsoft.hybridcompute\"),\n            Direct = countif(Region == \"onpremise\" and isempty(ResourceId)),\n            Arc = countif(ResourceId contains \"microsoft.hybridcompute\")\n            by OSType","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[]}},{"id":"b9e8afb6-7289-4ac5-8a09-4318fcb9e9f8","title":"OMS Agent Distro Breakdown","visualType":"pie","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":12,"y":5,"width":12,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"LinuxDailySnapshot\n| where Date == startofday(now(-2d))\n| where OSDistro has_any (\"Ubuntu\", \"Oracle\", \"Red Hat\", \"SUSE\", \"Debian\", \"CentOS\", \"Amazon\")\n| summarize count() by OSDistro\n| sort by count_ desc\n| where count_ > 10","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[]}},{"id":"1c000a8c-0cce-4fed-bd8b-0d7fd56ed4c8","title":"LA Agent Fleet Population","visualType":"column","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":5,"width":12,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"union withsource = OS LinuxDailySnapshot, WindowsDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date, OS | summarize Population = max(count_) by OS\n| render columnchart","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[]}},{"id":"0df87886-6573-4cdb-bf18-baf7d9a4e98e","title":"LAD 3 Population","visualType":"card","pageId":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0","layout":{"x":6,"y":0,"width":6,"height":4},"query":{"kind":"inline","usedVariables":[],"text":"GuestAgentExtensionEvents  \n| where TIMESTAMP >= now(-5d)\n| where Name == \"Microsoft.Azure.Diagnostics.LinuxDiagnostic\" and Cluster != \"\" and Version startswith \"3\"\n| where Operation == \"Enable\"  and OperationSuccess == true\n| extend Distro = tostring(split(OSVersion, \":\")[1])\n| project Distro\n| summarize count()","dataSource":{"kind":"inline","dataSourceId":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"454e4c75-15b7-4c35-9fa6-6b4b6a0aba5b","title":"LAD 4 Population","visualType":"card","pageId":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0","layout":{"x":12,"y":0,"width":6,"height":4},"query":{"kind":"inline","usedVariables":[],"text":"GuestAgentExtensionEvents  \n| where TIMESTAMP >= now(-5d)\n| where Name == \"Microsoft.Azure.Diagnostics.LinuxDiagnostic\" and Cluster != \"\" and Version startswith \"4\"\n| where Operation == \"Enable\"  and OperationSuccess == true\n| extend Distro = tostring(split(OSVersion, \":\")[1])\n| project Distro\n| summarize count()","dataSource":{"kind":"inline","dataSourceId":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"7882b7a4-5904-4006-b133-86b690f5adf2","title":"OMS Agent Population Trend","visualType":"line","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":12,"width":12,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"let start = startofyear(now());\nunion (LinuxDailySnapshotOld | where Date < datetime(2020-06-28)), LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by endofmonth(Date)\n| render timechart","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"4d87ff4b-456b-4c04-971c-0f8391cbb765","title":"MMA Agent Population Trend","visualType":"line","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":12,"y":12,"width":12,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"let start = startofyear(now());\nWindowsDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = max(DailyCount) by endofmonth(Date)\n| render timechart","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[]}},{"id":"fc20b8a7-5382-4ae5-b6b8-33a681d4d638","title":"WAD Population Count","visualType":"card","pageId":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0","layout":{"x":0,"y":0,"width":6,"height":4},"query":{"kind":"inline","usedVariables":[],"text":"GuestAgentExtensionEvents\n| where TIMESTAMP >= now(-5d)\n| where (Name == \"Microsoft.Azure.Diagnostics.IaaSDiagnostics\" or Name == \"Microsoft.Azure.Diagnostics.PaaSDiagnostics\") and Cluster != \"\"\n//| where Operation == \"Enable\"  and OperationSuccess == true\n//| extend Distro = tostring(split(OSVersion, \":\")[1])\n//| project Distro\n| summarize count()","dataSource":{"kind":"inline","dataSourceId":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"7eac0d35-e2e2-4f75-9939-4097efe1e7fb","title":"LA Agent Attatch %","visualType":"line","pageId":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722","layout":{"x":0,"y":25,"width":24,"height":5},"query":{"kind":"inline","usedVariables":[],"text":"let OMS = union (LinuxDailySnapshot | extend OS = \"Linux\"), (LinuxDailySnapshotOld | extend OS = \"Linux\"), (WindowsDailySnapshot | extend OS = \"Windows\")\n| where ingestion_time() > now(-720d)\n// | where ingestion_time() > now(-200d)\n| summarize Linux = dcountif(ResourceId, ResourceId contains \"microsoft.compute\" and OS == \"Linux\"), Windows = dcountif(ResourceId, ResourceId contains \"microsoft.compute\" and OS == \"Windows\") by Day = startofday(ingestion_time())\n| summarize LinuxOMS = max(Linux), WindowsOMS = max(Windows) by DimMonth = startofmonth(Day)//toint(datepart(\"Year\", startofmonth(Day))*100 + datepart(\"Month\",startofmonth(Day)))\n;\nlet MicrosoftComputeVirtualMachines_raw =\ncluster('https://u360sec.kusto.windows.net:443').database('KPIData').MicrosoftComputeVirtualMachinesPROD()\n| where KpiId == \"Microsoft.Compute.VirtualMachines\"\n| where OsType startswith \"IaaS\"   \n| where Customer_UsageType == \"External\";\nlet MicrosoftComputeVirtualMachines = MicrosoftComputeVirtualMachines_raw;\nMicrosoftComputeVirtualMachines\n| summarize Quantity_0 = sum(Monthly_0_Quantity),Quantity_1 = sum(Monthly_1_Quantity),Quantity_2 = sum(Monthly_2_Quantity),Quantity_3 = sum(Monthly_3_Quantity),Quantity_4 = sum(Monthly_4_Quantity),Quantity_5 = sum(Monthly_5_Quantity),Quantity_6 = sum(Monthly_6_Quantity),Quantity_7 = sum(Monthly_7_Quantity),Quantity_8 = sum(Monthly_8_Quantity),Quantity_9 = sum(Monthly_9_Quantity),Quantity_10 = sum(Monthly_10_Quantity),Quantity_11 = sum(Monthly_11_Quantity),Quantity_12 = sum(Monthly_12_Quantity),Quantity_13 = sum(Monthly_13_Quantity),Quantity_14 = sum(Monthly_14_Quantity)\n    by OsType\n| extend MaxTimestamp = toscalar(MicrosoftComputeVirtualMachines_raw | take 1 | project MonthlyMaxTimestamp = startofday(endofmonth(MonthlyMaxTimestamp, MonthlyMaxPeriod)))\n| project\n    indexPacked = range(0, 14, 1),\n    QuantityPacked = pack_array(Quantity_0,Quantity_1,Quantity_2,Quantity_3,Quantity_4,Quantity_5,Quantity_6,Quantity_7,Quantity_8,Quantity_9,Quantity_10,Quantity_11,Quantity_12,Quantity_13,Quantity_14),\n    MaxTimestamp,\n    OsType\n| mvexpand indexPacked, QuantityPacked\n| extend Quantity = toreal(QuantityPacked), index = toint(indexPacked)\n| extend Timestamp = startofday(endofmonth(MaxTimestamp, -index))\n| where Timestamp <= toscalar(MicrosoftComputeVirtualMachines_raw | take 1 | project MonthlyMaxTimestamp)\n| project\n    DimMonth = startofmonth(Timestamp), //toint(datepart(\"Year\", startofmonth(Timestamp))*100 + datepart(\"Month\",startofmonth(Timestamp))),\n    VMCount = round(Quantity/(dayofmonth(endofmonth(Timestamp))), 0),\n    Category = iff(OsType == 'IaaS - Windows','Windows','Linux')\n| order by DimMonth desc , Category desc\n| evaluate pivot (Category, sum(VMCount), DimMonth)\n| extend TotalVMs = Windows + Linux\n| join kind = leftouter OMS on DimMonth\n| extend LinuxPct = 100 * (toreal(LinuxOMS) / Linux), WindowsPct = 100 * (toreal(WindowsOMS) / Windows), TotalPct = 100 * (toreal(WindowsOMS + LinuxOMS) / TotalVMs)\n| sort by DimMonth asc\n| where DimMonth > datetime(2020-12)\n| project DimMonth, LinuxPct, WindowsPct, TotalPct\n| render timechart","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[]}},{"id":"8607530a-7c24-4a7d-90e3-dc1649851c34","title":"Total AMA Current Pop Estimation","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let AMApop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(60d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0)\n;\nAMApop"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"be5e2481-dce4-4442-8465-a4f17e32c8f6","title":"Windows AMA Current Pop Estimation","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":8,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let AMApop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer has \"windows\"\n| where StartTime > ago(60d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0)\n;\nAMApop"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"8efcbd4c-740e-46ff-87da-3d59a1f030dd","title":"Linux AMA Current Pop Estimation","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":16,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let AMApop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer !has \"windows\"\n| where StartTime > ago(60d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0)\n;\nAMApop"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"6fb3f900-4cc7-47b0-8d85-6f08e4ce5b96","title":"Windows Max Daily Population Trend","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":10,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer has \"windows\"\n| extend QuietAgent = (isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig))\n| summarize DailyCount = countif(not(QuietAgent)) by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(StartTime,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"bd5fd579-2b43-4a1a-ba49-a6e5ca9fa93d","title":"Agent Version Linux Population","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":28,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux AMA Version breakdown\n//AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer !has \"windows\"\n| where StartTime > ago(31d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| where AgentVer != \"00.00.00\"\n| extend MA_Ver = AgentVer\n| extend AMA_Ver = iff(AgentVer==\"45.09.01\",\"1.4.0.0\",\n                   iff(AgentVer==\"45.10.04\",\"1.5.0.0\",\n                   iff(AgentVer==\"45.11.01\",\"1.6.0.0\",\n                   iff(AgentVer==\"45.12.01\",\"1.7.0.0\",\n                   iff(AgentVer==\"45.13.01\",\"1.8.0.0\",\n                   iff(AgentVer==\"45.14.04\",\"1.9.0.0\",\n                   iff(AgentVer==\"46.01.00\",\"1.10.0.0\",\n                   \"?\"\n                   )))))))\n| extend Both_Version = iff(AMA_Ver!=\"?\",strcat(MA_Ver,\" (\",AMA_Ver,\")\"),MA_Ver)\n| summarize DailyCount = count() by StartTime, Both_Version\n| summarize MonthlyAvg = round(avg(DailyCount),0) by Both_Version\n| where MonthlyAvg > 10\n| sort by MonthlyAvg"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ef2c6794-de45-4420-9e68-3a15592b4913","title":"Top Windows Version Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":37,"width":12,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current Windows pop by OS version\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > now(-31d)\n| where OSVer has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime, OSVer\n| summarize MonthlyAvg = round(max(DailyCount),0) by OSVer\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"29723451-64c5-4852-9ed9-315664aff023","title":"Top Linux Version Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":37,"width":12,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current pop by Linux OS version\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > now(-31d)\n| where OSVer !has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime, OSVer\n| summarize MonthlyAvg = round(max(DailyCount),0) by OSVer\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b27abfeb-003b-445f-8e72-1201683d66bf","title":"Top Grouped Windows OS Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":47,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current windows os population grouped\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(31d)\n| where OSVer has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend OS_gen = replace_string(OSVer, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize DailyCount = count() by StartTime, OS_gen\n| summarize MonthlyAvg = round(max(DailyCount),0) by OS_gen\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cb2f01c0-0775-49ce-b7aa-b4fd00cc1593","title":"Top Grouped Linux OS Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":47,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current Linux OS Populations\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(31d)\n| where OSVer !has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend OS_gen = replace_string(OSVer, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize DailyCount = count() by StartTime, OS_gen\n| summarize MonthlyAvg = round(max(DailyCount),0) by OS_gen\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c5ae1d25-1502-4902-ba33-66573e8b2762","title":"Top Region Windows Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":56,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Windows Pop by region\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(31d)\n| where OSVer has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| project\n    Region, ResourceId, StartTime\n| summarize DailyCount = count() by StartTime, Region\n| summarize MonthlyAvg = round(max(DailyCount),0) by Region\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2759f1e3-faaa-48fc-a8f7-dc2ea42b5f67","title":"Top Region Linux Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":56,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Linux Pop by region\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(31d)\n| where OSVer !has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| project\n    Region, ResourceId, StartTime\n| summarize DailyCount = count() by StartTime, Region\n| summarize MonthlyAvg = round(max(DailyCount),0) by Region\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"967971ff-176a-4956-9a5d-2215efa55339","title":"Grouped Region Windows Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":65,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Windows Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| project\n    Region, ResourceId, StartTime\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize DailyCount = count() by StartTime, GroupRegion\n| summarize MonthlyAvg = round(max(DailyCount),0) by GroupRegion\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ae77410a-b0e9-4ba8-9795-21809cd2044e","title":"Grouped Region Linux Populations","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":65,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Linux Pop by region grouped\n//AMA Windows Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer !has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| project\n    Region, ResourceId, StartTime\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize DailyCount = count() by StartTime, GroupRegion\n| summarize MonthlyAvg = round(max(DailyCount),0) by GroupRegion\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"0d6d26d4-94ea-45b8-8815-52057559097f","title":"Arc/Non-Arc Windows Population","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":74,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = count() by StartTime, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2e975afc-8c83-478d-be62-6f5e852ca7cd","title":"Arc/Non-Arc Linux Population","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":74,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer !has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = count() by StartTime, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b0ca79f0-52fd-41d6-870b-f232021b8dd8","title":"Solution/Extension Windows Population","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":83,"width":12,"height":14},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by solution/extension\n//Solutions used on AMA by number of agents\nlet AMA_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerSolutionsWeeklySnapshot_BI\n    | where TblVer == 8\n    | project Date\n    | top 1 by Date );\nlet Customer_AMA_Solutions =\ncluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerSolutionsWeeklySnapshot_BI\n| where Date == AMA_Newest\n| where TblVer == 8\n| where GroupedSolution != \"None\"\n| summarize SolutionPopulation = sum(Population) by GroupedSolution\n| sort by SolutionPopulation desc\n;\nCustomer_AMA_Solutions"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c7e0a72b-8d48-4256-be63-df0b6c2d49f2","title":"Solution/Extension Linux Population - 30d","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":83,"width":12,"height":14},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Pop by solution/extension\n//Solutions used on AMA by number of agents\nlet AMA_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerSolutionsWeeklySnapshot_BI\n    | where TblVer == 8\n    | project Date\n    | top 1 by Date );\nlet Customer_AMA_Solutions =\ncluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerSolutionsWeeklySnapshot_BI\n| where Date == AMA_Newest\n| where TblVer == 8\n| summarize SolutionPopulation = sum(Population) by GroupedSolution\n| sort by SolutionPopulation desc\n;\nCustomer_AMA_Solutions"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"45cfa5aa-b724-4f4d-bb85-795ea0b8e390","title":"Total Population Count","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Total Population Installed or Enabled Count\nunion (cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot | where TblVer==5), (cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot | where TblVer == 5)\n| summarize Population = dcount(ResourceId)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"9fdd2031-38a8-46c4-ba22-31ace0aab6d2","title":"Windows Population Count","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":8,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| summarize Population = dcount(ResourceId)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"151477e6-545d-41c1-accc-606accb266e9","title":"Linux Population Count","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":16,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Total Linux Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| where TblVer == 5\n| summarize Population = dcount(ResourceId)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"fdd975ce-c0c3-4750-af6b-004e0168cf91","title":"Total Active Population Estimation","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":3,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Total Population Installed or Enabled Count\nunion (cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot | where TblVer==5), (cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot | where TblVer == 5)\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"6f947204-9a66-4d8e-9d03-a55c07144cd3","title":"Windows Active Population Estimation","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":8,"y":3,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"f42c8ad2-0380-4ce8-9317-96546686fd84","title":"Linux Active Population Estimation","visualType":"card","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":16,"y":3,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Total Windows Population Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| where TblVer == 5\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"1a4f8ca6-b847-4b2f-a3b5-d462073d16fc","title":"Windows Max Daily Population Trend","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":6,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(Date,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"4ff9c57f-18aa-4901-b92f-7d75dacc965e","title":"Linux Max Daily Population Trend","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":6,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Linux Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(Date,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"4806f132-70c0-4720-b2a8-cc0d914ba6d7","title":"Agent Version Windows Population","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":15,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Version breakdown\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| summarize WinAgentCount = dcount(ResourceId) by Version\n| where WinAgentCount > 0\n| sort by WinAgentCount\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"7b6e1706-aa9f-4f74-8b6a-8f7efd54e43e","title":"Agent Version Linux Population","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":15,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| summarize LnxAgentCount = dcount(ResourceId) by Version\n| where LnxAgentCount > 0\n| sort by LnxAgentCount"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"4fdb4699-f965-4a51-a2b6-10f64b6b83dd","title":"Top Windows Version Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":24,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current Windows pop by OS version\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| summarize\n    OSResourceCount = dcount(ResourceId) by OSVersion\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"83c21ac8-c11e-4ad9-8c38-e93244c748c5","title":"Top Linux Version Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":24,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current pop by Linux OS version\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| summarize\n    OSResourceCount = dcount(ResourceId) by OSVersion\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2cc9735f-9725-4a12-838e-2ac3e0e24dae","title":"Top Grouped Windows OS Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":33,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current windows os population grouped\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| extend OS_gen = replace_string(OSVersion, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by OS_gen\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cf5fcdff-ef0e-4b8e-8d78-1632c76aba85","title":"Top Grouped Linux OS Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":33,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current Linux OS Populations\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| extend OS_gen = replace_string(OSVersion, 'Windows:', '')\n| extend OS_gen = replace_string(OS_gen, 'Linux:', '')\n| extend OS_gen = replace_string(OS_gen, 'DataCenter', 'Datacenter')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D.*)(\\d+)\\.(\\d+)\\..*', @'\\1\\2.\\3')\n| extend OS_gen = replace_regex(OS_gen, @'(\\d\\d\\d\\d.*?)[-].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Standard).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Datacenter).*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(Windows \\d+ \\D+?)[ -].*', @'\\1')\n| extend OS_gen = replace_regex(OS_gen, @'(\\D+.\\d+\\.\\d+).*', @'\\1')\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by OS_gen\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d2109b5b-c40a-4d5f-a6e0-b71ab50a9efa","title":"Top Region Windows Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":42,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by region\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| project\n    Region,\n    ResourceId\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by Region\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e0b03514-d3d2-4bac-91b0-99fe1519d241","title":"Top Grouped Windows OS Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":42,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Linux Pop by region\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| project\n    Region,\n    ResourceId\n| summarize\n    OSResourceCount = dcount(ResourceId)\n    by Region\n| where OSResourceCount > 0\n| sort by OSResourceCount\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"af633b88-9025-4d13-b650-426a28c6114b","title":"Grouped Region Windows Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":51,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| project\n    Region,\n    ResourceId\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize\n    ResourceCount = dcount(ResourceId)\n    by GroupRegion\n| where ResourceCount > 0\n| sort by ResourceCount"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"48be3b2a-87cd-44d7-bd6c-19b474152293","title":"Grouped Region Linux Populations","visualType":"pie","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":51,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Linux Pop by region grouped\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where OpType == \"Enable_Pass\"\n| project\n    Region,\n    ResourceId\n|extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize\n    ResourceCount = dcount(ResourceId)\n    by GroupRegion\n| where ResourceCount > 0\n| sort by ResourceCount"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d3d606eb-24af-4602-8430-8adc12ee7ce6","title":"Total Agent Population","visualType":"card","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"union cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize population = count() by Date\n| summarize Population = round(avg(population))"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"5cf2ad98-7115-4843-a87e-22365e324198","title":"Windows Agent Population","visualType":"card","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":8,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date > now(-30d)\n| summarize population = count() by Date\n| summarize Population = round(avg(population))"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"33fd69e4-7622-4685-bdb2-0530502c05dc","title":"Linux Agent Population","visualType":"card","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":16,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize population = count() by Date\n| summarize Population = round(avg(population))"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"c85ac053-c281-485f-b058-57c6dfca63b6","title":"Windows Population Trend","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":12,"width":12,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//OMS Windows Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = round(avg(DailyCount),0) by startofmonth(Date)"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e75844d0-4c79-48de-bd1e-4f76525522b5","title":"Linux Population Trend","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":12,"width":12,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//OMS Linux Population Trend\n\nunion (cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshotOld | where Date < datetime(2020-06-28)), cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = round(avg(DailyCount),0) by startofmonth(Date)"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"9553671f-a1fb-497d-a18e-eb7745de5110","title":"Windows Agent Version Population","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":22,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"//Agent Versions by Windows AgentId Population\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"), WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by AgentVersion\n| sort by WinAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"85dd276e-0006-4d33-ac64-27f933e79bbc","title":"Linux Agent Version Population","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":22,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"// Linux Region Count by Solutions For OMS\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"), LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"), LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\") by AgentVersion\n| sort by LnxAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"32890642-cf80-4cef-ae01-5cfe55276fe0","title":"Weekly Windows Pop Trend for agent versions older than 10_20_18053 with 22s excluded","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":35,"width":24,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n//other calc way: | where AgentVersion in~ (\"10.20.18040.0\", \"1.0.18040.2\", \"10.20.18038.0\", \"1.0.18038.0\", \"10.20.18029.0\", \"1.0.18029.0\", \"10.20.18018.0\", \"1.0.18018.0\", \"10.20.18011.0\", \"1.0.18011.0\", \"10.20.18001.0\", \"1.0.18001.0\", \"10.19.13515.0\", \"1.0.13515.0\", \"10.19.10006.0\", \"8.0.11136.0\", \"8.0.11103.0\", \"8.0.11081.0\", \"1.0.11081.0\", \"8.0.11072.0\", \"1.0.11072.0\", \"8.0.11049.0\", \"1.0.11049.0\")\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| summarize DailyCount = count() by Date\n| summarize Weekly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofweek(Date)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"afededdc-4449-4303-8da6-deb03f5ca518","title":"Weekly Windows Pop Trend for agent versions older than 10_20_18053","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":49,"width":24,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n//other calc way: | where AgentVersion in~ (\"10.20.18040.0\", \"1.0.18040.2\", \"10.20.18038.0\", \"1.0.18038.0\", \"10.20.18029.0\", \"1.0.18029.0\", \"10.20.18018.0\", \"1.0.18018.0\", \"10.20.18011.0\", \"1.0.18011.0\", \"10.20.18001.0\", \"1.0.18001.0\", \"10.19.13515.0\", \"1.0.13515.0\", \"10.19.10006.0\", \"8.0.11136.0\", \"8.0.11103.0\", \"8.0.11081.0\", \"1.0.11081.0\", \"8.0.11072.0\", \"1.0.11072.0\", \"8.0.11049.0\", \"1.0.11049.0\")\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")\n| summarize DailyCount = count() by Date\n| summarize Weekly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofweek(Date)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c0d41c81-0221-4e2b-adb7-532cb2913ebe","title":"Monthly Windows Pop Trend for agent versions older than 10_20_18053 with 22s excluded","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":56,"width":24,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| summarize DailyCount = count() by Date\n| summarize Montly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofmonth(Date)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"83043e98-b53d-482a-a474-094fa3261798","title":"Monthly Windows Pop Trend for agent versions older than 10_20_18053","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":63,"width":24,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")\n| summarize DailyCount = count() by Date\n| summarize Montly_Max_Older_Than_10_20_18053 = max(DailyCount) by startofmonth(Date)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cacd088a-c710-4622-b2dd-5cdf5136cc0f","title":"Windows Agent Population by OS Version","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":98,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"// Windows Agent Population by OS Version\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| extend WindowsOSVersion = strcat(\"Windows \",OSVersion)\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"),  WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by WindowsOSVersion\n| where WinAgentCount > 0\n| sort by WinAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"21f7df98-7d75-4b7e-be12-10c09b259579","title":"Linux Agent Population by OS Version","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":98,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"// Linux Agent Population by OS Version\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| extend linuxOSVersion = strcat(OSDistro,\" \",OSVersion)\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"), LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"), LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\") by linuxOSVersion\n| where LnxAgentCount > 0\n| sort by LnxAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2455a7ff-e168-474d-8511-eaca8ace05ad","title":"Azure vs On-prem vs. Arc","visualType":"bar","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":111,"width":24,"height":8},"query":{"kind":"inline","usedVariables":[],"text":"//Azure vs On-prem vs. Arc\nlet Linux = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot) | extend OSType = \"Linux\";\nlet Windows = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot) | extend OSType = \"Windows\";\nunion Linux, Windows\n| summarize Azure = countif(Region != \"onpremise\" and ResourceId !has \"microsoft.hybridcompute\"),\n            Direct = countif(Region == \"onpremise\" and isempty(ResourceId)),\n            Arc = countif(ResourceId has \"microsoft.hybridcompute\")\n            by OSType","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2ede89eb-4a2c-473b-b078-bc9bb7139d56","title":"Windows Agent Count by Region","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":119,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"// Windows Populations by Region\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| where Region != \"onpremise\"\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\") by Region\n| sort by WinAgentCount desc\n| take 12","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c9796834-2215-402b-b3ed-56f954b1bdf3","title":"Linux Agent Count by Region","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":119,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"// Linux Populations by Region\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\") by Region\n| sort by LnxAgentCount desc\n| take 12","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"337b62f3-d0eb-4f73-b5f1-63ae0b651e39","title":"Windows Agent Population by Grouped Region","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":132,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"// Windows Agent Population by Region\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| where Region != \"onpremise\"\n| extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"),  WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by GroupRegion\n| sort by WinAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"63dd6fca-7e62-4616-96fe-c7c6246c207b","title":"Linux Agent Population by Grouped Region","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":132,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"// Linux Agent Population by Region\nlet locAustralia = dynamic([\"australiacentral\", \"australiacentral2\", \"australiaeast\", \"australiasoutheast\"]);\nlet locSouthAmerica = dynamic([\"brazilsouth\", \"brazilsoutheast\" ]);\nlet locNorthAmerica = dynamic([\"canadacentral\", \"canadaeast\", \"centralus\", \"eastus\", \"eastus2\", \"northcentralus\", \"southcentralus\", \"westcentralus\", \"westus\", \"westus2\", \"westus3\"]);\nlet locIndia = dynamic([\"centralindia\", \"jioindiacentral\", \"jioindiawest\", \"southindia\", \"westindia\"]);\nlet locAsia = dynamic([\"eastasia\", \"southeastasia\", \"japaneast\", \"japanwest\", \"koreacentral\", \"koreasouth\"]);\nlet locEurope = dynamic([\"francecentral\", \"francesouth\", \"germanynorth\", \"germanywestcentral\", \"northeurope\", \"westeurope\", \"norwayeast\", \"norwaywest\", \"swedencentral\", \"swedensouth\", \"switzerlandnorth\", \"switzerlandwest\", \"uksouth\", \"ukwest\"]);\nlet locMidEast = dynamic([\"qatarcentral\", \"uaecentral\", \"uaenorth\"]);\nlet locAfrica = dynamic([\"southafricanorth\", \"southafricawest\"]);\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| extend GroupRegion = iif(Region in (['locAustralia']), \"Australia\", iif(Region in (['locSouthAmerica']), \"South America\", iif(Region in (['locNorthAmerica']), \"North America\", iif(Region in (['locIndia']), \"India\", iif(Region in (['locAsia']), \"Asia\", iif(Region in (['locEurope']), \"Europe\", iif(Region in (['locMidEast']), \"MidEast\", iif(Region in (['locAfrica']), \"Africa\", iif(Region endswith \"euap\", \"EUAP\", \"Other\")))))))))\n| summarize LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"), LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"),  LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\") by GroupRegion\n| sort by LnxAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"9a1665ae-096d-4a0b-9e4a-50ff7f4bf9fd","title":"Windows Arc  vs Non_Arc  Resource Pop","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":174,"width":12,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows arc vs nonarc for OMS\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date > ago(31d)\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = dcount(ResourceId) by Date, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"1389b1d1-5084-492b-9c7c-10b241328686","title":"Linux Arc  vs Non_Arc Resource Pop","visualType":"pie","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":174,"width":12,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//arc for OMS\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > ago(31d)\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = dcount(ResourceId) by Date, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"27bd5b99-9393-4d29-991a-abb3ca48710a","title":"(LAD/WAD) overall population count","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":0,"y":0,"width":8,"height":3},"query":{"kind":"inline","usedVariables":[],"text":"//LAD/WAD Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| summarize Population = dcount(ResourceId)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"9ab1e028-3e32-4b33-8567-1b9cdb2c6bbf","title":"(LAD) population count","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":16,"y":0,"width":8,"height":3},"query":{"kind":"inline","usedVariables":[],"text":"//LAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nLADDailySnapshot\n| summarize Population = dcount(ResourceId)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"3c211742-333f-413d-a92d-70d0b13100b6","title":"(WAD) population count","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":8,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//WAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nWADDailySnapshot\n| where TblVer == 5\n| summarize Population = dcount(ResourceId), iaasdiagPop = dcountif(ResourceId, ExtName=~\"microsoft.azure.diagnostics.iaasdiagnostics\"),paasdiagPop = dcountif(ResourceId, ExtName=~\"microsoft.azure.diagnostics.paasdiagnostics\"),edpPop = dcountif(ResourceId, ExtName in~ (\"microsoft.azure.diagnostics.edp.iaasdiagnostics\", \"microsoft.azure.diagnostics.edp.paasdiagnostics\"))"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"af8ff273-d72b-461b-9e41-f37134ac5faa","title":"(LAD/WAD) active population estimate","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":0,"y":3,"width":8,"height":3},"query":{"kind":"inline","usedVariables":[],"text":"//LAD/WAD Installed or Enabled Count\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    WADDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').\n    LADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount),0)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"c43917c8-2481-4e3c-b287-edada80849da","title":"(WAD) active population estimate","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":8,"y":3,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//WAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nWADDailySnapshot\n| where TblVer == 5\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount), 0)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"3477452e-9d66-4209-8e3b-502d6da2ff0e","title":"(LAD) active population estimate","visualType":"card","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":16,"y":3,"width":8,"height":3},"query":{"kind":"inline","usedVariables":[],"text":"//LAD Installed or Enabled Count\ncluster('genevaagent.kusto.windows.net').database('Telemetry').\nLADDailySnapshot\n| where Date >= ago(60d)\n| summarize DailyCount = dcount(ResourceId) by Date\n| summarize MonthlyAvg = round(max(DailyCount), 0)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"267dd4d6-d09c-4658-b360-1056c85696a6","title":"WAD Version breakdown","visualType":"pie","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":0,"y":6,"width":12,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//WAD Version breakdown\n//WAD Pop by agent version\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n    | project Date\n    | top 1 by Date);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n//| where Date between ((Newest - 5m) .. Newest)\n| where TblVer == 5\n| summarize WinAgentCount = dcountif(ResourceId, OsType == \"windows\") by Version\n| where WinAgentCount > 0\n| sort by WinAgentCount\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"22b3d7e5-57cc-4cbd-8d10-88efbdc94775","title":"LAD Version breakdown","visualType":"pie","pageId":"b9c54832-e96f-4d89-9616-d12e43680b2e","layout":{"x":12,"y":6,"width":12,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"//LAD Version breakdown\n//LAD Pop by agent version\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n    | project Date\n    | top 1 by Date);\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n//| where Date between ((Newest - 5m) .. Newest)\n| summarize LnxAgentCount = dcountif(ResourceId, OsType == \"linux\") by Version\n| where LnxAgentCount > 0\n| sort by LnxAgentCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"53d69afd-c72e-4baa-8709-fcd439d749e6","title":"MMA & AMA Windows Population Trend","visualType":"line","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":0,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Population Trend MMA & AMA\nlet MMA_pop =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| summarize MMA_weekByWeek_Count = sum(Population) by Date\n| summarize MMA_MonthlyAvg = round(avg(MMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nlet AMA_pop =\ncluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| summarize AMA_weekByWeek_Count = sum(Population) by Date\n| summarize AMA_MonthlyAvg = round(avg(AMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nMMA_pop\n| join AMA_pop on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"27f2ffac-53d5-47cd-a84d-399729b15a78","title":"OMS & AMA Linux Population Trend","visualType":"line","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":12,"y":0,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Population Trend AMA & OMS\nlet MMA_pop =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot\n| where TblVer == 5\n| summarize MMA_weekByWeek_Count = sum(Population) by Date\n| summarize MMA_snap_MonthlyAvg = round(avg(MMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nlet AMA_pop =\ncluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| summarize AMA_weekByWeek_Count = sum(Population) by Date\n| summarize AMA_snap_MonthlyAvg = round(avg(AMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nMMA_pop\n| join AMA_pop on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"f9a7bd41-67df-4409-be5d-95b597cf2de3","title":"Top 2000 customers of OMS/MMA by avg daily agent count","visualType":"table","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":9,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Top customers OMS/MMA by AgentId Count\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == Newest\n| summarize CustomerPop = sum(Population) by Customer\n| top 2000 by CustomerPop"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"5ab8fe52-f316-4004-9abf-1b769a8baac4","title":"Top 2000 customers of AMA by avg daily agent count ","visualType":"table","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":16,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA top customers\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == Newest\n| summarize CustomerPop = sum(Population) by Customer\n| top 2000 by CustomerPop"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"9ef41e2d-1d67-45a9-a968-dc2545133309","title":"SubscriptionId Name","visualType":"card","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":0,"width":14,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerSelect"],"text":"cluster('genevareference.westcentralus.kusto.windows.net').database('AzureGraph').\nCustomer_Subscription\n| where isempty(['CustomerSelect']) or Id == ['CustomerSelect']\n| project Name\n"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"5cdb025e-e590-4997-9dbe-2dbe395089d7","title":"Agent population (AMA vs OMS/MMA) by subscription ID","visualType":"bar","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":3,"width":23,"height":6},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerSelect"],"text":"//Agent population (AMA vs OMS/MMA) by subscription ID\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet Subscriptions_MMA_OMS_Agent_Pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == MMAOMS_Newest\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize total_MMAOMS_agents = sum(Population) by SubscriptionId\n;\nlet AMA_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet Subscriptions_AMA_Agent_Pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == AMA_Newest\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize total_AMA_agents = sum(Population) by SubscriptionId\n;\nSubscriptions_MMA_OMS_Agent_Pop\n| join kind=fullouter Subscriptions_AMA_Agent_Pop on SubscriptionId\n| project-away SubscriptionId1\n| extend total_AMA_agents = iff(isempty(total_AMA_agents), 0.0, total_AMA_agents)\n| extend total_MMAOMS_agents = iff(isempty(total_MMAOMS_agents), 0.0, total_MMAOMS_agents)"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[{"destinationPages":[],"disabled":false}]}},{"id":"9695c985-cc29-48e1-8a1c-1e706e3710d7","title":"Solution Group","visualType":"card","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":4,"y":0,"width":13,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["SolutionSelect"],"text":"\nprint SolutionSelect"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"2d371ada-508f-45ca-8093-cef5e3bc9ec4","title":"OMS/MMA Overall Population count","visualType":"card","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":0,"width":8,"height":3},"query":{"kind":"inline","usedVariables":[],"text":"union cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot, cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"68717fa5-fdf7-4959-9ae7-cd4d28729f0d","title":"MMA Windows Population count ","visualType":"card","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":8,"y":0,"width":8,"height":3},"query":{"kind":"inline","usedVariables":[],"text":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"4a14e887-6a4b-4e7c-b80a-4d5aee182f8e","title":"OMS Linux population count","visualType":"card","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":16,"y":0,"width":8,"height":3},"query":{"kind":"inline","usedVariables":[],"text":"cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date > now(-30d)\n| summarize count() by Date\n| summarize Population = max(count_)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"49d1123e-6207-4356-ae8d-245cc31f48fd","title":"MMA Windows Version breakdown","visualType":"pie","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":3,"width":12,"height":11},"query":{"kind":"inline","usedVariables":[],"text":"// OMS Windows Version breakdown\n// Agent Versions by Windows AgentId Population\n\nlet WorkspaceOS = union Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n| summarize HasWindows = countif(OSType == \"Windows\") > 0, HasLinux = countif(OSType == \"Linux\") > 0 by WorkspaceId;\nunion Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot), Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize WinAgentCount = dcountif(AgentId, OSType == \"Windows\"), WinResourceCount = dcountif(ResourceId, OSType == \"Windows\"),  WinWorkspaceCount = dcountif(WorkspaceId, OSType == \"Windows\") by AgentVersion\n| sort by WinAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"4f7dfc30-5a61-44ff-a48f-548257a2e30e","title":"OMS Linux Version breakdown","visualType":"pie","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":12,"y":3,"width":12,"height":11},"query":{"kind":"inline","usedVariables":[],"text":"// OMS Linux Version breakdown\n\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| summarize\n    LnxAgentCount = dcountif(AgentId, OSType == \"Linux\"),\n    LnxResourceCount = dcountif(ResourceId, OSType == \"Linux\"),\n    LnxWorkspaceCount = dcountif(WorkspaceId, OSType == \"Linux\")\n    by AgentVersion\n| sort by LnxAgentCount desc","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"205163b9-f192-4bbe-a549-b14cc865bc7e","title":"Solution breakdown by agent count","visualType":"pie","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":21,"width":24,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Agent Count by Solutions For OMS/MMA\n//\n// define groupings\nlet Defender_for_Servers = dynamic([\"security\", \"securityCenter\", \"securityCenterFree\", \"antimalware\", \"sqlAdvancedThreatProtection\",  \"sqlVulnerabilityAssessment\", \"sqlAssessment\", \"sqlAssessmentPlus\"]);\nlet Defender_for_Endpoint = dynamic([\"windowsDefenderATP\"]);\nlet Update_Management = dynamic([\"updates\"]);\nlet Change_Tracking = dynamic([\"changeTracking\"]);\nlet Azure_Automation = dynamic([\"azureAutomation\"]);\nlet Sentinel = dynamic([\"securityinsights\", \"windowsFirewall\", \"windowsEventForwarding\"]);\nlet DNS_Analytics = dynamic([\"dnsAnalytics\"]);\nlet VM_Insights_Service_Map = dynamic([\"vminsights\", \"servicemap\"]);\nlet Container_Insights = dynamic([\"containerInsights\", \"containers\"]);\nlet Infrastructure_Insights = dynamic([\"infrastructureInsights\"]);\nlet Network_Monitoring = dynamic([\"networkMonitoring\"]);\nlet Log_Management = dynamic([\"logManagement\"]);\nlet On_Demand_Assessments = dynamic([\"adAssessment\", \"adAssessmentPlus\", \"adSecurityAssessment\", \"sccmAssessmentPlus\", \"windowsServerAssessment\", \"exchangeAssessment\", \"azureAssessment\", \"exchangeOnlineAssessment\", \"windowsClientAssessmentPlus\", \"sharePointOnlineAssessment\", \"spAssessment\", \"sfBOnlineAssessment\", \"sfBAssessment\", \"SCOMAssessmentPlus\", \"SQLAssessmentPlus\", \"DesktopAssessmentPlus\", \"WindowsClientAssessment\"]);\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nlet CustomerOMSSolutions =\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n//| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| extend SubscriptionId = tostring(split(ResourceId, \"/\")[2])\n| mv-expand Solution to typeof(string)\n| where Solution != \"null\"\n| extend GroupedSolution = iif(Solution in~ (['Defender_for_Servers']), \"Defender for Servers\", \n                           iif(Solution in~ (['Defender_for_Endpoint']), \"Defender for Endpoint\", \n                           iif(Solution in~ (['Update_Management']), \"Update Management\", \n                           iif(Solution in~ (['Change_Tracking']), \"Change Tracking\", \n                           iif(Solution in~ (['Azure_Automation']), \"Azure Automation\", \n                           iif(Solution in~ (['Sentinel']), \"Sentinel\", \n                           iif(Solution in~ (['DNS_Analytics']), \"DNS Analytics\", \n                           iif(Solution in~ (['VM_Insights_Service_Map']), \"VM Insights Service Map\", \n                           iif(Solution in~ (['Container_Insights']), \"Container Insights\", \n                           iif(Solution in~ (['Infrastructure_Insights']), \"Infrastructure Insights\", \n                           iif(Solution in~ (['Network_Monitoring']), \"Network Monitoring\", \n                           iif(Solution in~ (['Log_Management']), \"Log Management\", \n                           iif(Solution in~ (['On_Demand_Assessments']), \"On Demand Assessments\", \n                           \"No Name Associated\")))))))))))))\n| summarize AgentCount = dcount(AgentId),\n            WinAgentCount = dcountif(AgentId, OSType == \"Windows\"),\n            LinuxAgentCount = dcountif(AgentId, OSType == \"Linux\"),\n            WorkspaceCount = dcount(WorkspaceId)\n by GroupedSolution\n| where AgentCount > 0\n| sort by AgentCount desc\n;\nCustomerOMSSolutions"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d8ac1fef-fc0d-4249-90da-4e08d7c9bd7e","title":"Deployment bar chart ","visualType":"stackedbar","pageId":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e","layout":{"x":0,"y":14,"width":24,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"//Deployment bar chart \n//Azure vs On-prem vs. Arc\nlet Linux = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot) | extend OSType = \"Linux\";\nlet Windows = Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot) | extend OSType = \"Windows\";\nunion Linux, Windows\n| summarize Azure = countif(Region != \"onpremise\" and ResourceId !has \"microsoft.hybridcompute\"),\n            Direct = countif(Region == \"onpremise\" and isempty(ResourceId)),\n            Arc = countif(ResourceId has \"microsoft.hybridcompute\")\n            by OSType","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ec8d2658-3008-45cb-b126-6dc387b1dcda","title":"OMS/MMA Monthly cases with verbatim column ","visualType":"timechart","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":0,"width":24,"height":8},"query":{"kind":"inline","usedVariables":[],"text":"//Monthly cases with verbatim column for Azure Log Analytics agent \n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(360d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17846\") \n| project CaseClosedDate, Surveys_QOSOverallVerbatim \n| summarize VerbatumCount = count() by startofmonth(CaseClosedDate)\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"06b00c5e-e54d-4774-8011-c7783ddc4fcb","title":"OMS/MMA Last 90 days cases with verbatim column","visualType":"table","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":8,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Last 90 days cases with verbatim column\n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(90d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17846\")\n| project CaseClosedDate, Surveys_QOSOverallVerbatim\n| sort by CaseClosedDate desc\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"e3dcff8d-5904-4200-a789-87ac405ca562","title":"OMS/MMA Most common support topics submitted per month","visualType":"timechart","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":22,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common support topics submitted per month\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17846\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by month, SupportTopic","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"9216a4c8-fff2-4c82-aea6-f6c6ce35e478","title":"OMS/MMA Most common support topics last 30 days","visualType":"pie","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":36,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common support topics submitted last 30 days\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17846\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| extend month = endofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by SupportTopic","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c0b251aa-8f64-4fb6-af8d-ed8271a51082","title":"OMS/MMA Most common root causes submitted per month","visualType":"timechart","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":50,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common root cases submitted per month\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17846\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize CauseCount = count() by month, RootCause","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"6e2b5eed-e001-4b28-b884-789d658ded45","title":"OMS/MMA Most common root causes last 30 days","visualType":"pie","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":64,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common root causes  last 30 days\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17846\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17846\")\n| summarize CauseCount = count() by RootCause","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"f4e58ef3-fd23-4b78-ada4-aaad1a43c4a0","title":"OMS/MMA Region CSAT average","visualType":"bar","pageId":"720a2068-3401-4bdd-b521-caf3caee4a97","layout":{"x":0,"y":78,"width":24,"height":17},"query":{"kind":"inline","usedVariables":[],"text":"//Region CSAT average\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where CSAT != \"\"\n| where SupportProductId in (\"17846\")\n| project CSAT, Incidents_CustomerRegion\n| summarize CSATavg = avg(tolong(CSAT)) by Incidents_CustomerRegion\n| sort by CSATavg","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":5,"yAxisMinimumValue":3.5,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"7e50d971-9d81-40cd-8196-ac42f136ce10","title":"AMA Monthly cases with verbatim column ","visualType":"timechart","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":0,"width":24,"height":8},"query":{"kind":"inline","usedVariables":[],"text":"//Monthly cases with verbatim column for Azure Log Analytics agent \n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(360d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17293\") \n| project CaseClosedDate, Surveys_QOSOverallVerbatim \n| summarize VerbatumCount = count() by startofmonth(CaseClosedDate)\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"9ced6e8b-1625-4e69-999d-0f5affef43d8","title":"AMA Last 90 days cases with verbatim column","visualType":"table","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":8,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Last 90 days cases with verbatim column\n\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseClosedDate >= ago(90d)\n| where Surveys_QOSOverallVerbatim != \"\"\n| where SupportProductId in (\"17293\")\n| project CaseClosedDate, Surveys_QOSOverallVerbatim\n| sort by CaseClosedDate desc\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"ef7efd4b-6442-434b-8179-aadac41f8914","title":"AMA Most common support topics submitted per month","visualType":"timechart","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":22,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common support topics submitted per month\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17293\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by month, SupportTopic","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"92d5ae04-1a4e-4900-8670-0a484f7b26e4","title":"AMA Most common support topics last 30 days","visualType":"pie","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":36,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common support topics submitted last 30 days\n\nlet topTopics = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where SupportTopic != \"\"\n| where SupportProductId in (\"17293\")\n| project SupportTopic, L1SupportTopic, L2SupportTopic, L3SupportTopic, CaseCreatedDate\n| summarize TopSupportCount = count() by SupportTopic\n| sort by TopSupportCount desc\n| take 10\n| extend isTop = true;\ntopTopics\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on SupportTopic\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| extend month = endofmonth(CaseCreatedDate)\n| summarize SupportCount = count() by SupportTopic","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"148c17a5-6c9c-40f6-8e3b-3f6d14079388","title":"AMA Most common root causes submitted per month","visualType":"timechart","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":50,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common root cases submitted per month\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17293\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(360d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| extend month = startofmonth(CaseCreatedDate)\n| summarize CauseCount = count() by month, RootCause","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d8b4cf25-10d1-4fdb-bb61-14b92c64d317","title":"AMA Most common root causes last 30 days","visualType":"pie","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":64,"width":24,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"//Most common root causes  last 30 days\n\nlet topRootCauses = cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(30d)\n| where RootCause != \"\"\n| where SupportProductId in (\"17293\")\n| project RootCause, L1RootCause, L2RootCause, L3RootCause, L4RootCause, L5RootCause\n| summarize TopRootCauseCount = count() by RootCause\n| sort by TopRootCauseCount desc\n| take 10\n| extend isTop = true;\ntopRootCauses\n| join (cluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases) on RootCause\n| where CaseCreatedDate >= ago(30d)\n| where isTop = true\n| where SupportProductId in (\"17293\")\n| summarize CauseCount = count() by RootCause","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ac3bb7d2-4ace-4cf4-9cef-75176979ed84","title":"AMA Region CSAT average","visualType":"bar","pageId":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","layout":{"x":0,"y":78,"width":24,"height":13},"query":{"kind":"inline","usedVariables":[],"text":"//Region CSAT average\ncluster('elixirdata.westus2.kusto.windows.net').database('datastore').Cases\n| where CaseCreatedDate >= ago(360d)\n| where CSAT != \"\"\n| where SupportProductId in (\"17293\")\n| project CSAT, Incidents_CustomerRegion\n| summarize CSATavg = avg(tolong(CSAT)) by Incidents_CustomerRegion\n| sort by CSATavg","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":5,"yAxisMinimumValue":2.5,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"bc935dd9-4bb5-4948-a151-e8f140f3f6a1","title":"OMS/MMA Heartbeat, Un/Install, Dis/Enable, Successes Monthly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":0,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let MMAInstallEnableCount = //pull MMA install enable information\n    union cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot, \n        cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        WinInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\" and OsType==\"windows\"),\n        LnxInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\" and OsType==\"linux\"),\n        WinEnableSuccessCount = dcountif(ResourceId, OpType==\"Enable_Pass\" and OsType==\"windows\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, OpType==\"Enable_Pass\" and OsType==\"linux\"),\n        WinUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\" and OsType==\"windows\"),\n        LnxUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\" and OsType==\"linux\"),\n        WinDisableSuccessCount = dcountif(ResourceId, OpType==\"Disable_Pass\" and OsType==\"windows\"),\n        LnxDisableSuccessCount = dcountif(ResourceId, OpType==\"Disable_Pass\" and OsType==\"linux\")\n        by bin_at(Date, 31d, startofday(now()))\n        ;\nlet MMAHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMAHeartbeatDailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"windows\")\n        by bin_at(Date, 31d, startofday(now()));\nlet OMSHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMAHeartbeatDailySnapshot\n    | where TblVer == 1\n    | summarize\n        LnxHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"linux\")\n        by bin_at(Date, 31d, startofday(now()));\nOMSHBCount | join MMAHBCount on Date | project-away Date1\n| join MMAInstallEnableCount on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ad88cb26-a45e-4f34-add8-8aed9ca10a33","title":"Windows Heartbeat, Un/Install, Dis/Enable, Successes Monthly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":9,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let MMAHBInstallEnableCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        WinInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\"),\n        WinEnableSuccessCount = dcountif(ResourceId, OpType == \"Enable_Pass\"),\n        WinUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\"),\n        WinDisableSuccessCount = dcountif(ResourceId, OpType == \"Disable_Pass\")\n        by bin_at(Date, 31d, startofday(now()));\nlet MMAHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMAHeartbeatDailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"windows\")\n        by bin_at(Date, 31d, startofday(now()));\nMMAHBCount | join MMAHBInstallEnableCount on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"66462977-3c24-428b-901b-73c7aa6079ea","title":"Linux Heartbeat, Un/Install, Dis/Enable, Successes Monthly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":12,"y":9,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let OMSHBInstallEnableCount = //pull OMS install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        LnxInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, OpType==\"Enable_Pass\"),\n        LnxUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\"),\n        LnxDisableSuccessCount = dcountif(ResourceId, OpType==\"Disable_Pass\")\n        by bin_at(Date, 31d, startofday(now()))\n        ;\nlet OMSHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMAHeartbeatDailySnapshot\n    | where TblVer == 1\n    | summarize\n        LnxHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"linux\")\n        by bin_at(Date, 31d, startofday(now()));\nOMSHBCount | join OMSHBInstallEnableCount on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"98d87507-4423-4629-8d17-89b721e2e37e","title":"OMS/MMA Heartbeat, Un/Install, Dis/Enable, Successes Weekly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":27,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let MMAInstallEnableCount = //pull MMA install enable information\n    union cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot, \n        cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        WinInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\" and OsType==\"windows\"),\n        LnxInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\" and OsType==\"linux\"),\n        WinEnableSuccessCount = dcountif(ResourceId, OpType==\"Enable_Pass\" and OsType==\"windows\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, OpType==\"Enable_Pass\" and OsType==\"linux\"),\n        WinUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\" and OsType==\"windows\"),\n        LnxUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\" and OsType==\"linux\"),\n        WinDisableSuccessCount = dcountif(ResourceId, OpType==\"Disable_Pass\" and OsType==\"windows\"),\n        LnxDisableSuccessCount = dcountif(ResourceId, OpType==\"Disable_Pass\" and OsType==\"linux\")\n        by bin_at(Date, 7d, startofday(now()));\nlet MMAHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMAHeartbeatDailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"windows\")\n        by bin_at(Date, 7d, startofday(now()));\nlet OMSHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMAHeartbeatDailySnapshot\n    | where TblVer == 1\n    | summarize\n        LnxHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"linux\")\n        by bin_at(Date, 7d, startofday(now()));\nOMSHBCount | join MMAHBCount on Date | project-away Date1\n| join MMAInstallEnableCount on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"acd451d7-b8ce-414e-a4cb-2db63788c46c","title":"Linux Heartbeat, Un/Install, Dis/Enable, Successes Weekly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":12,"y":36,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let OMSHBInstallEnableCount = //pull OMS install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        LnxInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\"),\n        LnxEnableSuccessCount = dcountif(ResourceId, OpType==\"Enable_Pass\"),\n        LnxUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\"),\n        LnxDisableSuccessCount = dcountif(ResourceId, OpType==\"Disable_Pass\")\n        by bin_at(Date, 7d, startofday(now()))\n        ;\nlet OMSHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMAHeartbeatDailySnapshot\n    | where TblVer == 1\n    | summarize\n        LnxHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"linux\")\n        by bin_at(Date, 7d, startofday(now()));\nOMSHBCount | join OMSHBInstallEnableCount on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"91a87843-feb7-40fb-9310-60992c31a61c","title":"LAD Percent Usage 1-day","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":0,"width":23,"height":8},"query":{"kind":"inline","usedVariables":[],"text":"let start = ago(1d);\nlet end = ago(1h);\nLADUsageManuSnapshot(start,end)\n| project Category, Usage\n| sort by Usage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"5ba3c5c8-a106-4fe1-ad95-7e1cd1c67862","title":"LAD Percent Usage 1-day","visualType":"multistat","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":8,"width":23,"height":6},"query":{"kind":"inline","usedVariables":[],"text":"let start = ago(1d);\nlet end = ago(1h);\nLADUsageManuSnapshot(start,end)\n| project Category, Usage\n| sort by Usage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":4,"height":2},"colorRules":[],"pie__TopNSlices":null}},{"id":"a1297158-2556-477e-9248-b9fde16a840f","title":"WAD Percent Usage 1-day","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":0,"width":23,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"let start = ago(25h);\nlet end = ago(1h);\nWADUsageManuSnapshot(start,end)\n| project Category, Usage\n| sort by Usage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"91bd8722-1a6c-4b70-8b7c-1694e14c2afe","title":"WAD Percent Usage 1-day","visualType":"multistat","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":9,"width":23,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"let start = ago(25h);\nlet end = ago(1h);\nWADUsageManuSnapshot(start,end)\n| project Category, Usage\n| sort by Usage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":5,"height":3},"colorRules":[],"pie__TopNSlices":null}},{"id":"ede7820c-6e4d-4fc4-9611-a2e8bc8018a3","title":"WAD Resource Counts 1-day","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":18,"width":23,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"let start = ago(25h);\nlet end = ago(1h);\nWADUsageManuSnapshot(start,end)\n| project Category, ResCount\n| sort by ResCount","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"0d6eb502-af62-4475-91c9-1436b5c24cd1","title":"LAD Resource Count 1-day","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":14,"width":23,"height":8},"query":{"kind":"inline","usedVariables":[],"text":"let start = ago(1d);\nlet end = ago(1h);\nLADUsageManuSnapshot(start,end)\n| project Category, ResCount\n| sort by ResCount","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"specified","value":"Category"},"yColumns":{"type":"specified","value":["ResCount"]},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"a6bd3a9b-bbe3-4599-a602-feff3fd3fce1","title":"Weekly Windows Unique Customer Pop Trend for agent versions older than 10_20_18053 with 22s excluded","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":42,"width":24,"height":7},"query":{"kind":"inline","usedVariables":[],"text":"//Weekly Windows Pop Trend for agent versions older than 10_20_18053\n//other calc way: | where AgentVersion in~ (\"10.20.18040.0\", \"1.0.18040.2\", \"10.20.18038.0\", \"1.0.18038.0\", \"10.20.18029.0\", \"1.0.18029.0\", \"10.20.18018.0\", \"1.0.18018.0\", \"10.20.18011.0\", \"1.0.18011.0\", \"10.20.18001.0\", \"1.0.18001.0\", \"10.19.13515.0\", \"1.0.13515.0\", \"10.19.10006.0\", \"8.0.11136.0\", \"8.0.11103.0\", \"8.0.11081.0\", \"1.0.11081.0\", \"8.0.11072.0\", \"1.0.11072.0\", \"8.0.11049.0\", \"1.0.11049.0\")\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot\n| where Date between (now(-92d) .. now())\n| where AgentVersion !in~ (\"10.20.18067.0\",\t\"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| extend SubscriptionId = tostring(split(ResourceId,'/')[2])\n| summarize SubscriptionDailyCount = dcount(SubscriptionId) by Date\n| summarize Weekly_Max_count_Subs_with_Version_Older_Than_10_20_18053 = max(SubscriptionDailyCount) by startofweek(Date)","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cbeca193-12ae-40a2-9f8c-5e0d7912ac18","title":"Month by Month WAD Avg Weekly % Usage Trend","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":85,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// WAD month by month weekly avg percent usage\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category, month = startofmonth(Date)\n| project-reorder month, Category, AvgUsage\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ceea5464-cf83-4511-832a-c8b87bed55ff","title":"Month by Month WAD Avg Weekly Resource Count Trend","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":99,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// WAD month by month weekly avg resource count\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),0) by Category, month = startofmonth(Date)\n| project-reorder month, Category, AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c653e098-5ad2-4670-b7ca-0f413201342f","title":"WAD Avg Percent Usage Past Month","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":56,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// WAD Usage previous month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//WADUsageManuMonthSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e666bdcf-cd67-4d30-9599-488d3d2f2624","title":"WAD Avg Percent Usage Past Month","visualType":"multistat","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":66,"width":23,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// WAD Usage previous month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//WADUsageManuMonthSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":4,"height":3},"colorRules":[],"pie__TopNSlices":null}},{"id":"7646fa1e-82e6-4ff5-88fd-debe3592f6a8","title":"WAD Avg Resource Count Past Month","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":75,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// WAD Resource Count previous month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//WADUsageManuMonthSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n| where Date >= Newest\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category\n| project-reorder Category, AvgResCount\n| sort by AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2acc36f0-b299-405d-bc0d-5cf2d00d6c21","title":"Week by week WAD % Usage Trend","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":127,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// WAD week by week avg percent usage\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| where Date > ago(94d)\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category, week = startofweek(Date)\n| project-reorder week, Category, AvgUsage\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c4a170ff-b6fe-4417-8492-03a12883f41f","title":"Week by week WAD Resource Count Trend","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":141,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// WAD week by week avg resource count\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| where Date > ago(94d)\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category, week = startofweek(Date)\n| project-reorder week, Category, AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"22f43310-f2ac-4452-82d4-a7d45a86ba82","title":"Month by Month WAD Monthly Resource Count Trend","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":113,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// WAD month by month resource count trend\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//WADUsageManuMonthSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category, Date\n| project-reorder Date, Category, AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d948dfb3-773a-44f3-9ca3-5ee65dff16f9","title":"Month by Month WAD Avg Weekly Customer Count Trend","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":155,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// WAD week by week avg customer count\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| project Date, Category, SubCount\n| summarize AvgSubCount = round(avg(SubCount),0) by Category, month = startofmonth(Date)\n| project-reorder month, Category, AvgSubCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Customer Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"1899bb42-060f-4c0e-b73e-4bed87917a70","title":"Month by Month WAD Monthly Customer Count Trend","visualType":"timechart","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":169,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// WAD month by month customer count trend\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//WADUsageManuMonthSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManMonthlySnapshot\n| project Date, Category, SubCount\n| summarize AvgSubCount = round(avg(SubCount),2) by Category, Date\n| project-reorder Date, Category, AvgSubCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Customer Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"8dc558eb-5a1c-406e-b4ef-e681e85433a4","title":"LAD Percent Usage Past Month","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":51,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Usage previous month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//LADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c51fa565-f625-4a57-a498-b6ae3a52c7d9","title":"LAD Avg Percent Usage Past Month","visualType":"multistat","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":61,"width":23,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Usage previous month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//LADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":4,"height":2},"colorRules":[],"pie__TopNSlices":null}},{"id":"72f0fb48-af2f-4f4a-9acd-cab1e591c477","title":"LAD Resource Count Past Month","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":70,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Resource count previous month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//LADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n| where Date >= Newest\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category\n| project-reorder Category, AvgResCount\n| sort by AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ce824ce8-2524-4c88-99e7-4c3b1a7f9f3c","title":"Month by Month LAD Avg Weekly % Usage Trend","visualType":"timechart","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":80,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// LAD month by month avg weekly Usage newest week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category, month = startofmonth(Date)\n| project-reorder month, Category, AvgUsage\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"bfb74607-110c-42a8-a2b3-28b79d9b8324","title":"Month by Month LAD Avg Weekly Resource Count Trend","visualType":"timechart","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":94,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Usage month by month avg weekly resource count\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),0) by Category, month = startofmonth(Date)\n| project-reorder month, Category, AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"803dc982-0695-42c8-b63c-3bb1cc80533c","title":"Month by Month LAD Monthly Resource Count Trend","visualType":"timechart","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":108,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Resources month by month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//LADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category, Date\n| project-reorder Date, Category, AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"0f558fac-c9cb-43bd-a132-af229ddf5161","title":"Week by week  LAD % Usage Trend","visualType":"timechart","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":122,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Usage week by week trend\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| where Date > ago(94d)\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category, week = startofweek(Date)\n| project-reorder week, Category, AvgUsage\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"bdf6e0ec-5e82-45d2-ae5f-4a747d10265a","title":"week by week LAD Resource Count Trend","visualType":"timechart","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":136,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Resources week by week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| where Date > ago(94d)\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category, week = startofweek(Date)\n| project-reorder week, Category, AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"5720cd50-820b-4f94-b9ae-9e663af31aef","title":"Month by Month LAD Avg Weekly Customer Count Trend","visualType":"timechart","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":150,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// LAD month by month avg weekly customer counts\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| project Date, Category, SubCount\n| summarize AvgSubCount = round(avg(SubCount),0) by Category, month = startofmonth(Date)\n| project-reorder month, Category, AvgSubCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Customer Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"729f2b48-d387-4987-9e01-bbc5e486b4ce","title":"Month by Month LAD Monthly Customer Count Trend","visualType":"timechart","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":164,"width":23,"height":14},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Customer trend month by month\n//\n// data pulled from manual monthly snapshot, so newer data has to be pulled periodically in monthly time periods\n//\n//let start = datetime(2022-8-1 07:00:01);\n//let end = datetime(2022-9-1 06:00:00);\n//LADUsageManuSnapshot(start,end)\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManMonthlySnapshot\n| project Date, Category, SubCount\n| summarize AvgSubCount = round(avg(SubCount),2) by Category, Date\n| project-reorder Date, Category, AvgSubCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Customer Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"6bc80d58-a4dd-492e-b46c-86d949346c91","title":"LAD Avg Percent Usage Past Week","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":22,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Usage newest week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"de801b8c-31cd-402b-86a8-73b37c875dcd","title":"LAD Avg Percent Usage Past Week","visualType":"multistat","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":32,"width":23,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Usage newest week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":4,"height":2},"colorRules":[],"pie__TopNSlices":null}},{"id":"f4841c84-f119-49ba-8f08-f384c013edd6","title":"LAD Avg Resource Count Past Week","visualType":"bar","pageId":"9a96b84d-70cc-48fd-87d6-6b58d063a962","layout":{"x":0,"y":41,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// LAD Usage newest week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//LADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADUsageManWeeklySnapshot\n| where Date >= Newest\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category\n| project-reorder Category, AvgResCount\n| sort by AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"aeeb976f-2fa7-4cc5-8d50-0240ab6d3044","title":"WAD Avg Percent Usage Past Week","visualType":"multistat","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":37,"width":23,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// WAD avg percent usage past week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"infer"},"multiStat__slot":{"width":5,"height":3},"colorRules":[],"pie__TopNSlices":null}},{"id":"d2f51e46-9be5-4490-8c29-fab2ccbfb76f","title":"WAD Avg Percent Usage Past Week","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":27,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// WAD avg percent usage past week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| where Date >= Newest\n| project Date, Category, Usage\n| summarize AvgUsage = round(avg(Usage),2) by Category\n| project-reorder Category, AvgUsage\n| sort by AvgUsage\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Percent Usage","columns":[],"yAxisMaximumValue":100,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"1cfec90e-ed58-4201-af2e-1811ab5f900d","title":"WAD Avg Resource Count Past Week","visualType":"bar","pageId":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","layout":{"x":0,"y":46,"width":23,"height":10},"query":{"kind":"inline","usedVariables":[],"text":"// WAD avg resource count past week\n//\n// data pulled from manual weekly snapshot, so newer data has to be pulled periodically in weekly time periods\n//\n//let start = datetime(2022-9-11 07:00:01);\n//let end = datetime(2022-9-18 07:00:00);\n//WADUsageManuSnapshot(start,end)\n\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n    | project Date\n    | top 1 by Date\n    );\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADUsageManWeeklySnapshot\n| where Date >= Newest\n| project Date, Category, ResCount\n| summarize AvgResCount = round(avg(ResCount),2) by Category\n| project-reorder Category, AvgResCount\n| sort by AvgResCount\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"Unique Resource Count","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b5f6eac4-10a0-400c-aa05-f010870e823e","title":"Windows Max Daily Success Trend - Monthly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":60,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| summarize DailyEnablePassCount_Iaas = dcountif(ResourceId,OpType==\"Enable_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyDisablePassCount_Iaas = dcountif(ResourceId,OpType==\"Disable_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyInstallPassCount_Iaas = dcountif(ResourceId,OpType==\"Install_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyUninstallPassCount_Iaas = dcountif(ResourceId,OpType==\"Uninstall_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyEnablePassCount_Paas = countif(OpType==\"Enable_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyDisablePassCount_Paas = countif(OpType==\"Disable_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyInstallPassCount_Paas = countif(OpType==\"Install_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyUninstallPassCount_Paas = countif(OpType==\"Uninstall_Pass\" and ExtName has \"PaaSDiagnostics\")\n    by Date\n| summarize MonthlyEnablePassMax_Iaas = round(max(DailyEnablePassCount_Iaas),0),\n            MonthlyDisablePassMax_Iaas = round(max(DailyDisablePassCount_Iaas),0),\n            MonthlyInstallPassMax_Iaas = round(max(DailyInstallPassCount_Iaas),0),\n            MonthlyUninstallPassMax_Iaas = round(max(DailyUninstallPassCount_Iaas),0),\n            MonthlyEnablePassMax_Paas = round(max(DailyEnablePassCount_Paas),0),\n            MonthlyDisablePassMax_Paas = round(max(DailyDisablePassCount_Paas),0),\n            MonthlyInstallPassMax_Paas = round(max(DailyInstallPassCount_Paas),0),\n            MonthlyUninstallPassMax_Paas = round(max(DailyUninstallPassCount_Paas),0)\n    by bin_at(Date,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e85e5631-3d97-4aa9-895d-e6f2d69dc6bf","title":"Windows Max Daily Success Trend - Weekly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":78,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Max Daily Success Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where Date > ago(93d)\n| summarize DailyEnablePassCount_Iaas = dcountif(ResourceId,OpType==\"Enable_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyDisablePassCount_Iaas = dcountif(ResourceId,OpType==\"Disable_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyInstallPassCount_Iaas = dcountif(ResourceId,OpType==\"Install_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyUninstallPassCount_Iaas = dcountif(ResourceId,OpType==\"Uninstall_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyEnablePassCount_Paas = countif(OpType==\"Enable_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyDisablePassCount_Paas = countif(OpType==\"Disable_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyInstallPassCount_Paas = countif(OpType==\"Install_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyUninstallPassCount_Paas = countif(OpType==\"Uninstall_Pass\" and ExtName has \"PaaSDiagnostics\")\n    by Date\n| summarize WeeklyEnablePassMax_Iaas = round(max(DailyEnablePassCount_Iaas),0),\n            WeeklyDisablePassMax_Iaas = round(max(DailyDisablePassCount_Iaas),0),\n            WeeklyInstallPassMax_Iaas = round(max(DailyInstallPassCount_Iaas),0),\n            WeeklyUninstallPassMax_Iaas = round(max(DailyUninstallPassCount_Iaas),0),\n            WeeklyEnablePassMax_Paas = round(max(DailyEnablePassCount_Paas),0),\n            WeeklyDisablePassMax_Paas = round(max(DailyDisablePassCount_Paas),0),\n            WeeklyInstallPassMax_Paas = round(max(DailyInstallPassCount_Paas),0),\n            WeeklyUninstallPassMax_Paas = round(max(DailyUninstallPassCount_Paas),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"728991f3-50bc-4f9c-a7ff-02f0a0f32a35","title":"Windows Max Daily Failure Trend - Monthly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":69,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"cluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| summarize DailyEnableFailCount_Iaas = dcountif(ResourceId,OpType==\"Enable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyDisableFailCount_Iaas = dcountif(ResourceId,OpType==\"Disable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyInstallFailCount_Iaas = dcountif(ResourceId,OpType==\"Install_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyUninstallFailCount_Iaas = dcountif(ResourceId,OpType==\"Uninstall_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyEnableFailCount_Paas = countif(OpType==\"Enable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyDisableFailCount_Paas = countif(OpType==\"Disable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyInstallFailCount_Paas = countif(OpType==\"Install_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyUninstallFailCount_Paas = countif(OpType==\"Uninstall_Fail\" and ExtName has \"PaaSDiagnostics\")\n    by Date\n| summarize MonthlyEnableFailMax_Iaas = round(max(DailyEnableFailCount_Iaas),0),\n            MonthlyDisableFailMax_Iaas = round(max(DailyDisableFailCount_Iaas),0),\n            MonthlyInstallFailMax_Iaas = round(max(DailyInstallFailCount_Iaas),0),\n            MonthlyUninstallFailMax_Iaas = round(max(DailyUninstallFailCount_Iaas),0),\n            MonthlyEnableFailMax_Paas = round(max(DailyEnableFailCount_Paas),0),\n            MonthlyDisableFailMax_Paas = round(max(DailyDisableFailCount_Paas),0),\n            MonthlyInstallFailMax_Paas = round(max(DailyInstallFailCount_Paas),0),\n            MonthlyUninstallFailMax_Paas = round(max(DailyUninstallFailCount_Paas),0)\n    by bin_at(Date,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cef0f386-e72a-41cf-ba44-bffced63909b","title":"Windows Max Daily Failure Trend - Weekly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":87,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Windows Max Daily Failure Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where Date > ago(93d)\n| summarize DailyEnableFailCount_Iaas = dcountif(ResourceId,OpType==\"Enable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyDisableFailCount_Iaas = dcountif(ResourceId,OpType==\"Disable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyInstallFailCount_Iaas = dcountif(ResourceId,OpType==\"Install_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyUninstallFailCount_Iaas = dcountif(ResourceId,OpType==\"Uninstall_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyEnableFailCount_Paas = countif(OpType==\"Enable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyDisableFailCount_Paas = countif(OpType==\"Disable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyInstallFailCount_Paas = countif(OpType==\"Install_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyUninstallFailCount_Paas = countif(OpType==\"Uninstall_Fail\" and ExtName has \"PaaSDiagnostics\")\n    by Date\n| summarize WeeklyEnableFailMax_Iaas = round(max(DailyEnableFailCount_Iaas),0),\n            WeeklyDisableFailMax_Iaas = round(max(DailyDisableFailCount_Iaas),0),\n            WeeklyInstallFailMax_Iaas = round(max(DailyInstallFailCount_Iaas),0),\n            WeeklyUninstallFailMax_Iaas = round(max(DailyUninstallFailCount_Iaas),0),\n            WeeklyEnableFailMax_Paas = round(max(DailyEnableFailCount_Paas),0),\n            WeeklyDisableFailMax_Paas = round(max(DailyDisableFailCount_Paas),0),\n            WeeklyInstallFailMax_Paas = round(max(DailyInstallFailCount_Paas),0),\n            WeeklyUninstallFailMax_Paas = round(max(DailyUninstallFailCount_Paas),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e1a69dbd-051e-4381-be55-ac882a2e7d74","title":"Linux Max Daily Success Trend - Monthly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":60,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Max Daily Success Trend - Monthly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize MonthlyEnablePassMax = round(max(DailyEnablePassCount),0),\n            MonthlyDisablePassMax = round(max(DailyDisablePassCount),0),\n            MonthlyInstallPassMax = round(max(DailyInstallPassCount),0),\n            MonthlyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"32ca346e-589a-4f1f-bcda-29c3870d5ff1","title":"Linux Max Daily Failure Trend - Monthly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":69,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Max Daily Failure Trend - Monthly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize MonthlyEnableFailMax = round(max(DailyEnableFailCount),0),\n            MonthlyDisableFailMax = round(max(DailyDisableFailCount),0),\n            MonthlyInstallFailMax = round(max(DailyInstallFailCount),0),\n            MonthlyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d97cb96b-aeea-4fb6-aa3a-29f9c5a9fd94","title":"Linux Max Daily Success Trend - Weekly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":78,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Max Daily Success Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where Date > ago(93d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"17e87bd1-6ea2-48c0-a549-54ed83c20a10","title":"Linux Max Daily Failure Trend - Weekly","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":87,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Linux Max Daily Failure Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where Date > ago(93d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize MonthlyEnableFailMax = round(max(DailyEnableFailCount),0),\n            MonthlyDisableFailMax = round(max(DailyDisableFailCount),0),\n            MonthlyInstallFailMax = round(max(DailyInstallFailCount),0),\n            MonthlyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b1958294-bf42-4fee-8008-7fa8ac227fe7","title":"Windows Heartbeat, Un/Install, Dis/Enable, Failures Monthly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":18,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let MMAHBInstallEnableCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        WinInstallFailureCount = dcountif(ResourceId, OpType==\"Install_Fail\"),\n        WinEnableFailureCount = dcountif(ResourceId, OpType == \"Enable_Fail\"),\n        WinUninstallFailureCount = dcountif(ResourceId, OpType==\"Uninstall_Fail\"),\n        WinDisableFailureCount = dcountif(ResourceId, OpType == \"Disable_Fail\")\n        by bin_at(Date, 31d, now());\nMMAHBInstallEnableCount"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"baa67495-7db0-4135-b7ad-8ecef184c05a","title":"Linux Heartbeat, Un/Install, Dis/Enable, Failures Monthly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":12,"y":18,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let OMSHBInstallEnableCount = //pull OMS install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        LnxInstallFailureCount = dcountif(ResourceId, OpType==\"Install_Fail\"),\n        LnxEnableFailureCount = dcountif(ResourceId, OpType == \"Enable_Fail\"),\n        LnxUninstallFailureCount = dcountif(ResourceId, OpType==\"Uninstall_Fail\"),\n        LnxDisableFailureCount = dcountif(ResourceId, OpType == \"Disable_Fail\")\n        by bin_at(Date, 31d, now())\n        ;\nOMSHBInstallEnableCount"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"703d3f47-95f8-4564-973e-240ed6ade09b","title":"Windows Heartbeat, Un/Install, Dis/Enable, Failures Weekly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":45,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let MMAHBInstallEnableCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        WinInstallFailureCount = dcountif(ResourceId, OpType==\"Install_Fail\"),\n        WinEnableFailureCount = dcountif(ResourceId, OpType == \"Enable_Fail\"),\n        WinUninstallFailureCount = dcountif(ResourceId, OpType==\"Uninstall_Fail\"),\n        WinDisableFailureCount = dcountif(ResourceId, OpType == \"Disable_Fail\")\n        by bin_at(Date, 7d, now());\nMMAHBInstallEnableCount"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"17795164-b2c7-4f2e-a252-930f9584d595","title":"Windows Heartbeat, Un/Install, Dis/Enable, Successes Weekly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":0,"y":36,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let MMAHBInstallEnableCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        WinInstallSuccessCount = dcountif(ResourceId, OpType==\"Install_Pass\"),\n        WinEnableSuccessCount = dcountif(ResourceId, OpType == \"Enable_Pass\"),\n        WinUninstallSuccessCount = dcountif(ResourceId, OpType==\"Uninstall_Pass\"),\n        WinDisableSuccessCount = dcountif(ResourceId, OpType == \"Disable_Pass\")\n        by bin_at(Date, 7d, startofday(now()));\nlet MMAHBCount = //pull MMA install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').WinMMAHeartbeatDailySnapshot\n    | where TblVer == 2\n    | summarize\n        WinHeartbeatCount = dcountif(ResourceId, HeartbeatCount >= 1 and OsType==\"windows\")\n        by bin_at(Date, 7d, startofday(now()));\nMMAHBCount | join MMAHBInstallEnableCount on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"69ac304a-23a6-48a7-85ab-2fae42bc8a38","title":"Linux Heartbeat, Un/Install, Dis/Enable, Failures Weekly","visualType":"timechart","pageId":"77e2d7c4-6f6e-419b-bf2a-02056758eb60","layout":{"x":12,"y":45,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let OMSHBInstallEnableCount = //pull OMS install enable information\n    cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxMMADailySnapshot\n    | where TblVer == 4\n    | summarize\n        LnxInstallFailureCount = dcountif(ResourceId, OpType==\"Install_Fail\"),\n        LnxEnableFailureCount = dcountif(ResourceId, OpType == \"Enable_Fail\"),\n        LnxUninstallFailureCount = dcountif(ResourceId, OpType==\"Uninstall_Fail\"),\n        LnxDisableFailureCount = dcountif(ResourceId, OpType == \"Disable_Fail\")\n        by bin_at(Date, 7d, now())\n        ;\nOMSHBInstallEnableCount"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cf86305b-237f-49f6-af69-1d93211176c9","title":"Windows Daily Failure Trend - Daily","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":105,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Windows Daily Failure Trend - Daily\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where Date > ago(31d)\n| summarize DailyEnableFailCount_Iaas = dcountif(ResourceId,OpType==\"Enable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyDisableFailCount_Iaas = dcountif(ResourceId,OpType==\"Disable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyInstallFailCount_Iaas = dcountif(ResourceId,OpType==\"Install_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyUninstallFailCount_Iaas = dcountif(ResourceId,OpType==\"Uninstall_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyEnableFailCount_Paas = countif(OpType==\"Enable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyDisableFailCount_Paas = countif(OpType==\"Disable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyInstallFailCount_Paas = countif(OpType==\"Install_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyUninstallFailCount_Paas = countif(OpType==\"Uninstall_Fail\" and ExtName has \"PaaSDiagnostics\")\n    by Date"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"03aaeec6-89eb-400e-b7fe-95a598a24b38","title":"Linux Daily Failure Trend - Daily","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":105,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Linux Daily Failure Trend - Daily\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where Date > ago(21d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize MonthlyEnableFailMax = round(max(DailyEnableFailCount),0),\n            MonthlyDisableFailMax = round(max(DailyDisableFailCount),0),\n            MonthlyInstallFailMax = round(max(DailyInstallFailCount),0),\n            MonthlyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,1d,startofday(now()))"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2f226f70-4687-4088-80de-502ed3035f07","title":"Weekly Linux Pop Trend for agent versions older than  1.13.3-3","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":70,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Weekly Linux Pop Trend for agent versions older than 1.13.3-3\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date between (startofweek(now(-92d)) .. now())\n| where AgentVersion !in~ (\"1.14.23-0\", \"1.20.0-1\", \"1.14.9-0\", \"1.14.5-0\", \"1.14.20-0\", \"1.14.19-0\", \"1.14.18-0\", \"1.14.17-0\", \"1.14.16-0\", \"1.14.15-0\", \"1.14.13-0\", \"1.14.12-0\", \"1.14.11-0\", \"1.13.9-0\", \"1.13.7-0\", \"1.13.40-0\", \"1.13.39-0\", \"1.13.35-0\", \"1.13.33-0\", \"1.13.3-3\")\n| summarize DailyCount = count() by Date\n| summarize Weekly_Max_Older_Than_1_13_3_3 = max(DailyCount) by startofweek(Date)"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b3433a6b-9f03-4b6a-9723-7dbe8d954e5e","title":"Weekly Linux Unique Customer Pop Trend for agent versions older than 1.13.3-3","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":77,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Weekly Linux Customer Pop Trend for agent versions older than 1.13.3-3\n\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date between (startofweek(now(-92d)) .. now())\n| where AgentVersion !in~ (\"1.14.23-0\", \"1.20.0-1\", \"1.14.9-0\", \"1.14.5-0\", \"1.14.20-0\", \"1.14.19-0\", \"1.14.18-0\", \"1.14.17-0\", \"1.14.16-0\", \"1.14.15-0\", \"1.14.13-0\", \"1.14.12-0\", \"1.14.11-0\", \"1.13.9-0\", \"1.13.7-0\", \"1.13.40-0\", \"1.13.39-0\", \"1.13.35-0\", \"1.13.33-0\", \"1.13.3-3\")\n| extend SubscriptionId = tostring(split(ResourceId,'/')[2])\n| summarize SubscriptionDailyCount = dcount(SubscriptionId) by Date\n| summarize Weekly_Max_count_Subs_with_Version_Older_Than_1_13_3_3 = max(SubscriptionDailyCount) by startofweek(Date)"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e3cb052f-369f-4031-8513-22f5205bcfcd","title":"Monthly Linux Pop Trend for agent versions older than  1.13.3-3","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":84,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Monthly Linux Pop Trend for agent versions older than 1.13.3-3\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date between (startofmonth(now(-93d)) .. now())\n| where AgentVersion !in~ (\"1.14.23-0\", \"1.20.0-1\", \"1.14.9-0\", \"1.14.5-0\", \"1.14.20-0\", \"1.14.19-0\", \"1.14.18-0\", \"1.14.17-0\", \"1.14.16-0\", \"1.14.15-0\", \"1.14.13-0\", \"1.14.12-0\", \"1.14.11-0\", \"1.13.9-0\", \"1.13.7-0\", \"1.13.40-0\", \"1.13.39-0\", \"1.13.35-0\", \"1.13.33-0\", \"1.13.3-3\")\n| summarize DailyCount = count() by Date\n| summarize Monthly_Max_Older_Than_1_13_3_3 = max(DailyCount) by startofmonth(Date)"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"6b9bf7cb-27fa-40ae-aa06-c49de1792dcc","title":"Monthly Linux Unique Customer Pop Trend for agent versions older than 1.13.3-3","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":91,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Monthly Linux Customer Pop Trend for agent versions older than 1.13.3-3\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| where Date between (startofmonth(now(-93d)) .. now())\n| where AgentVersion !in~ (\"1.14.23-0\", \"1.20.0-1\", \"1.14.9-0\", \"1.14.5-0\", \"1.14.20-0\", \"1.14.19-0\", \"1.14.18-0\", \"1.14.17-0\", \"1.14.16-0\", \"1.14.15-0\", \"1.14.13-0\", \"1.14.12-0\", \"1.14.11-0\", \"1.13.9-0\", \"1.13.7-0\", \"1.13.40-0\", \"1.13.39-0\", \"1.13.35-0\", \"1.13.33-0\", \"1.13.3-3\")\n| extend SubscriptionId = tostring(split(ResourceId,'/')[2])\n| summarize SubscriptionDailyCount = dcount(SubscriptionId) by Date\n| summarize Monthly_Max_count_Subs_with_Version_Older_Than_1_13_3_3 = max(SubscriptionDailyCount) by startofmonth(Date)"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"2b700e82-8b83-401d-89b7-919029ddc1ce","title":"Windows Max Daily Success Trend - Monthly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":100,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize MonthlyEnablePassMax = round(max(DailyEnablePassCount),0),\n            MonthlyDisablePassMax = round(max(DailyDisablePassCount),0),\n            MonthlyInstallPassMax = round(max(DailyInstallPassCount),0),\n            MonthlyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,31d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d2a5d400-ae68-46d0-ba34-d8fc7401e95f","title":"Linux Max Daily Success Trend - Monthly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":100,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize MonthlyEnablePassMax = round(max(DailyEnablePassCount),0),\n            MonthlyDisablePassMax = round(max(DailyDisablePassCount),0),\n            MonthlyInstallPassMax = round(max(DailyInstallPassCount),0),\n            MonthlyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,31d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b72bcb83-3216-4e79-9ecc-2609b6f9e2fb","title":"Windows Max Daily Failure Trend - Monthly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":109,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize MonthlyEnableFailMax = round(max(DailyEnableFailCount),0),\n            MonthlyDisableFailMax = round(max(DailyDisableFailCount),0),\n            MonthlyInstallFailMax = round(max(DailyInstallFailCount),0),\n            MonthlyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,31d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b7ee4a50-abbc-4640-8372-11d3fe9547a8","title":"Linux Max Daily Failure Trend - Monthly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":109,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize MonthlyEnableFailMax = round(max(DailyEnableFailCount),0),\n            MonthlyDisableFailMax = round(max(DailyDisableFailCount),0),\n            MonthlyInstallFailMax = round(max(DailyInstallFailCount),0),\n            MonthlyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,31d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d3855a21-b4a3-41a8-966e-830e75471001","title":"Windows Max Daily Success Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":118,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(93d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"62b9a94b-3085-4d01-bfa3-58989560bd98","title":"Linux Max Daily Success Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":118,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(93d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"083d66d6-fcdc-4241-8045-a9f72c113d01","title":"Windows Daily Failure Trend - Daily","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":145,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(30d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"c0970d33-648b-4633-b027-467917d0ecb6","title":"Linux Max Daily Failure Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":127,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(93d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize MonthlyEnableFailMax = round(max(DailyEnableFailCount),0),\n            MonthlyDisableFailMax = round(max(DailyDisableFailCount),0),\n            MonthlyInstallFailMax = round(max(DailyInstallFailCount),0),\n            MonthlyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"44a65261-d083-4d18-a38f-d857ecb841be","title":"Windows Max Daily Failure Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":127,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(93d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize MonthlyEnableFailMax = round(max(DailyEnableFailCount),0),\n            MonthlyDisableFailMax = round(max(DailyDisableFailCount),0),\n            MonthlyInstallFailMax = round(max(DailyInstallFailCount),0),\n            MonthlyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now())","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"f0384ab3-379b-4ed7-bf85-0ecf764e3800","title":"Linux Daily Failure Trend - Daily","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":145,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"// Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(30d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"79e8029d-17a1-4002-85af-b8d73b9a60c6","title":"Windows Daily Full Count Failure Trend - Daily","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":114,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Windows Daily Failure Trend - Daily\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where Date > ago(31d)\n| summarize DailyEnableFailCount_Iaas = countif(OpType==\"Enable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyDisableFailCount_Iaas = countif(OpType==\"Disable_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyInstallFailCount_Iaas = countif(OpType==\"Install_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyUninstallFailCount_Iaas = countif(OpType==\"Uninstall_Fail\" and ExtName has \"IaaSDiagnostics\"),\n            DailyEnableFailCount_Paas = countif(OpType==\"Enable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyDisableFailCount_Paas = countif(OpType==\"Disable_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyInstallFailCount_Paas = countif(OpType==\"Install_Fail\" and ExtName has \"PaaSDiagnostics\"),\n            DailyUninstallFailCount_Paas = countif(OpType==\"Uninstall_Fail\" and ExtName has \"PaaSDiagnostics\")\n    by Date"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"04086af8-3452-4ba9-bb23-cfcbfce840ba","title":"Windows Max Daily Success Trend - Daily","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":136,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(30d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"07d9bdb3-fabd-4ff0-9e73-e54b81349561","title":"Linux Max Daily Success Trend - Daily","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":136,"width":12,"height":9},"query":{"kind":"inline","usedVariables":[],"text":"//Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(30d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"}},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"9dd89114-6a1a-4d9d-aab0-7d115a3a2165","title":"Linux Daily Full Count Failure Trend - Daily","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":114,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Linux Daily Full Count Failure Trend - Daily\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where Date > ago(30d)\n| summarize DailyEnableFailCount = countif(OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = countif(OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = countif(OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = countif(OpType==\"Uninstall_Fail\")\n    by Date\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"593df15e-e785-4e97-a220-27a9bf9d1be6","title":"Customer SubscriptionIds in MMA/OMS by Population","visualType":"table","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":3,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerNameSelect"],"text":"//Customer SubscriptionIds in MMA/OMS by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal, OsType, Solutions\n| sort by Population desc\n;\nMMAOMS_Daily"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false}],"table__renderLinks":[]}},{"id":"fdc62a5e-6968-40ab-a196-7ce52aa62abc","title":"Customer SubscriptionIds in AMA by Population","visualType":"table","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":14,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerNameSelect"],"text":"let Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n;\nAMA_Daily"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false}],"table__renderLinks":[]}},{"id":"e465c667-754a-48bf-89d4-21ca3b3c3541","title":"Customer Name","visualType":"card","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":14,"y":0,"width":10,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerSelect"],"text":"let p360_name =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot,\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinAMACustomerWeeklySnapshot_BI,\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxAMACustomerWeeklySnapshot_BI\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect']\n| project Customer\n;\np360_name"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"33de9f99-18db-435f-9063-6d1369ff8cd6","title":"Windows Daily Success Trend - Daily","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":0,"y":96,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Max Daily Success Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WADDailySnapshot\n| where TblVer == 5\n| where Date > ago(31d)\n| summarize DailyEnablePassCount_Iaas = dcountif(ResourceId,OpType==\"Enable_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyDisablePassCount_Iaas = dcountif(ResourceId,OpType==\"Disable_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyInstallPassCount_Iaas = dcountif(ResourceId,OpType==\"Install_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyUninstallPassCount_Iaas = dcountif(ResourceId,OpType==\"Uninstall_Pass\" and ExtName has \"IaaSDiagnostics\"),\n            DailyEnablePassCount_Paas = countif(OpType==\"Enable_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyDisablePassCount_Paas = countif(OpType==\"Disable_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyInstallPassCount_Paas = countif(OpType==\"Install_Pass\" and ExtName has \"PaaSDiagnostics\"),\n            DailyUninstallPassCount_Paas = countif(OpType==\"Uninstall_Pass\" and ExtName has \"PaaSDiagnostics\")\n    by Date"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"f1f0d427-c2fd-46c9-bc67-e59b5b73ab19","title":"Linux Max Daily Success Trend - Daily","visualType":"timechart","pageId":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","layout":{"x":12,"y":96,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Max Daily Success Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LADDailySnapshot\n| where TblVer == 5\n| where Date > ago(31d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"56a9f1a7-c395-4223-ac0b-34ff62a7b625","title":"MMA Customers with agent populations of older than 10_20_18053 with 22s excluded","visualType":"table","pageId":"8700dc67-baa1-4343-baf5-7e4e66f72f7e","layout":{"x":0,"y":3,"width":23,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//MMA Customers with agent populations of older than 10_20_18053 with 22s excluded\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot_BI\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot_BI\n| where TblVer == 3\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,Customer_TPID, CSAM, AgentVersion\n| summarize Old_Agent_Pop = sumif(Population,AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")),\n            New_Agent_Pop = sumif(Population,AgentVersion in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\"))\n  by Customer, CSAM, Customer_TPID\n| project-reorder Customer, Old_Agent_Pop, New_Agent_Pop, CSAM, Customer_TPID\n| sort by Old_Agent_Pop desc\n;\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"2f0c672d-23c6-435d-9706-1975e0fb726c","title":"MMA Customers with agent populations that are older than 10_20_18053 with 22s included","visualType":"table","pageId":"8700dc67-baa1-4343-baf5-7e4e66f72f7e","layout":{"x":0,"y":19,"width":23,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//MMA Customers with agent populations that are older than 10_20_18053 with 22s included\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot_BI\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot_BI\n| where TblVer == 3\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,Customer_TPID, CSAM, AgentVersion\n| summarize Old_Agent_Pop = sumif(Population,AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")),\n            New_Agent_Pop = sumif(Population,AgentVersion in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\"))\n    by Customer, Customer_TPID, CSAM\n| project-reorder Customer, Old_Agent_Pop, New_Agent_Pop, CSAM, Customer_TPID\n| sort by Old_Agent_Pop desc\n;\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"b2327451-c749-45a1-a507-271143ab0f9b","title":"Customers by MMA/OMS agent pop and CSAM","visualType":"table","pageId":"f9b4b317-2057-4c14-85a8-a0b5638a283e","layout":{"x":0,"y":3,"width":22,"height":14},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//MMA/OMS customer, their agent pop, and CSAM\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date\n    );\nlet MMAOMS_All_Agent =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal, CSAM\n| summarize CustomerPopulation = sum(Population) by Customer, CSAM\n| project-reorder Customer, CustomerPopulation, CSAM\n| sort by CustomerPopulation desc\n;\nMMAOMS_All_Agent"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"23ea3d54-1bab-417a-a6b6-9d4919fcd426","title":"Total MMA population of agents older than 10_20_18053 with 22s excluded","visualType":"card","pageId":"8700dc67-baa1-4343-baf5-7e4e66f72f7e","layout":{"x":3,"y":0,"width":16,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//MMA Customers with agent populations of older than 10_20_18053 with 22s excluded\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot_BI\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot_BI\n| where TblVer == 3\n| where Date == Newest\n| where AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,CSAM,Customer_TPID\n| summarize Total_Old_Agent_Population = sum(Population);\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"3b256862-8584-4239-a1c4-5c7589ece229","title":"Total MMA population of agents older than 10_20_18053 with 22s included","visualType":"card","pageId":"8700dc67-baa1-4343-baf5-7e4e66f72f7e","layout":{"x":3,"y":16,"width":16,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//MMA Customers with agent populations that are older than 10_20_18053 with 22s included\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot_BI\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot_BI\n| where TblVer == 3\n| where Date == Newest\n| where AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,CSAM, Customer_TPID\n| summarize Total_Old_Agent_Population = sum(Population);\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"df28cff5-b9e3-496a-80cc-f0bf8f2bf1ab","title":"Total  MMA/OMS agent pop","visualType":"card","pageId":"f9b4b317-2057-4c14-85a8-a0b5638a283e","layout":{"x":6,"y":0,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//MMA/OMS customer, their agent pop, and CSAM\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_All_Agent =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal, CSAM\n| summarize Total_Population = sum(Population)\n;\nMMAOMS_All_Agent"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"396dbed3-1943-49bb-9a8a-619d82607bf6","title":"Total MMA/OMS Population of Customer","visualType":"card","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":0,"width":11,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerNameSelect"],"text":"//Customer SubscriptionIds in MMA/OMS by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal, Solutions\n| sort by Population desc\n;\nMMAOMS_Daily\n| summarize Total_MMAOMS_Pop = sum(Population)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"b11d405c-ffb3-412a-8a42-a894e177d905","title":"Customer Name","visualType":"card","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":11,"y":0,"width":13,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerNameSelect"],"text":"print CustomerNameSelect"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"7abcfb8d-fb0b-45af-9512-9a85a6929588","title":"Trend of MMA/OMS & AMA Population of Customer","visualType":"timechart","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":21,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerNameSelect"],"text":"//Trend of MMA/OMS & AMA Population of Customer\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Date, Customer, SubscriptionId, Population, InternalOrExternal, Solutions\n| sort by Population desc\n| summarize Customer_Total_MMA_OMS_Pop = sum(Population) by Date\n;\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Date, Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n| summarize Customer_Total_AMA_Pop = sum(Population) by Date\n;\nMMAOMS_Daily\n| join kind=leftouter AMA_Daily on Date\n| project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"a4ac60ad-3c80-41a9-9de2-601ae073f1b0","title":"OMS/MMA Customers Population of agents using selected solution","visualType":"table","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":0,"y":19,"width":23,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["SolutionSelect"],"text":"//OMS/MMA Customers Population of agents using selected solution\n//OMS/MMA Subscription Populations of agents using selected solution \nlet Defender_for_Cloud = dynamic([\"security\", \"securityCenter\", \"securityCenterFree\", \"antimalware\", \"sqlAdvancedThreatProtection\", \"sqlVulnerabilityAssessment\", \"sqlAssessment\", \"sqlAssessmentPlus\"]);\nlet Defender_for_Endpoint = dynamic([\"windowsDefenderATP\"]);\nlet Update_Management = dynamic([\"updates\"]);\nlet Change_Tracking = dynamic([\"changeTracking\"]);\nlet Azure_Automation = dynamic([\"azureAutomation\"]);\nlet Sentinel = dynamic([\"securityinsights\", \"windowsFirewall\", \"windowsEventForwarding\"]);\nlet DNS_Analytics = dynamic([\"dnsAnalytics\"]);\nlet VM_Insights_Service_Map = dynamic([\"vminsights\", \"servicemap\"]);\nlet Container_Insights = dynamic([\"containerInsights\", \"containers\"]);\nlet Infrastructure_Insights = dynamic([\"infrastructureInsights\"]);\nlet Network_Monitoring = dynamic([\"networkMonitoring\"]);\nlet Log_Management = dynamic([\"logManagement\"]);\nlet On_Demand_Assessments = dynamic([\"adAssessment\", \"adAssessmentPlus\", \"adSecurityAssessment\", \"sccmAssessmentPlus\", \"windowsServerAssessment\", \"exchangeAssessment\", \"azureAssessment\", \"exchangeOnlineAssessment\", \"windowsClientAssessmentPlus\", \"sharePointOnlineAssessment\", \"spAssessment\", \"sfBOnlineAssessment\", \"sfBAssessment\", \"SCOMAssessmentPlus\", \"SQLAssessmentPlus\", \"DesktopAssessmentPlus\", \"WindowsClientAssessment\"]);\nlet MMAOMS_GroupedSolutions = \n            union cluster(\"genevaagent.kusto.windows.net\").database(\"Telemetry\").WindowsDailySnapshot,\n            cluster(\"genevaagent.kusto.windows.net\").database(\"Telemetry\").LinuxDailySnapshot\n            | where Date > (startofweek(now()) - 30d)\n            | extend SubscriptionId = tostring(split(ResourceId, '/')[2])\n            | where SubscriptionId != ''\n            | extend Solution = Solutions\n            | mv-expand Solution to typeof(string)\n            | extend GroupedSolution = iif(Solution in~ (['Defender_for_Cloud']), \"Defender for Cloud\", \n                iif(Solution in~ (['Defender_for_Endpoint']), \"Defender for Endpoint\", \n                iif(Solution in~ (['Update_Management']), \"Update Management\", \n                iif(Solution in~ (['Change_Tracking']), \"Change Tracking\", \n                iif(Solution in~ (['Azure_Automation']), \"Azure Automation\", \n                iif(Solution in~ (['Sentinel']), \"Sentinel\", \n                iif(Solution in~ (['DNS_Analytics']), \"DNS Analytics\", \n                iif(Solution in~ (['VM_Insights_Service_Map']), \"VM Insights Service Map\", \n                iif(Solution in~ (['Container_Insights']), \"Container Insights\", \n                iif(Solution in~ (['Infrastructure_Insights']), \"Infrastructure Insights\", \n                iif(Solution in~ (['Network_Monitoring']), \"Network Monitoring\", \n                iif(Solution in~ (['Log_Management']), \"Log Management\", \n                iif(Solution in~ (['On_Demand_Assessments']), \"On Demand Assessments\", \n                \"No Name Associated\")))))))))))))\n            | where isempty(['SolutionSelect']) or GroupedSolution has ['SolutionSelect']\n            | summarize dailyCount = count() by startofday(Date), SubscriptionId, Solution\n            | summarize agents_with_solution = round(sum(dailyCount)/count(), 0) by SubscriptionId\n        ;\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet CustomerData =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot,\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot\n| where TblVer == 5 and Date == Newest\n| summarize agents_of_subscription = sum(Population) by SubscriptionId, Customer\n| project Customer, agents_of_subscription, SubscriptionId\n;\nMMAOMS_GroupedSolutions\n| join kind=leftouter CustomerData on SubscriptionId\n| project-away SubscriptionId1\n| summarize agents_with_solution = sum(agents_with_solution), agents_of_customer = sum(agents_of_subscription) by Customer\n| sort by agents_with_solution\n| project-reorder Customer, agents_with_solution, agents_of_customer"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"aaa3723c-5702-478e-ae28-359a93fc8de2","title":"Total AMA Population of Customer","visualType":"card","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":11,"width":10,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerNameSelect"],"text":"//Customer SubscriptionIds in AMA by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n;\nAMA_Daily\n| summarize Total_AMA_Pop = sum(Population)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"a7917a5d-6c67-40cf-9116-a730aa198924","title":"Solutions used on OMS/MMA by number of agents","visualType":"pie","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":9,"width":23,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["CustomerSelect"],"text":"//Solutions used on MMA/OMS by number of agents\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet Customer_MMAOMS_Solutions =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot_BI,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot_BI\n| where Date == MMAOMS_Newest\n| where TblVer == 4\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize SolutionPopulation = sum(Population) by GroupedSolution\n| sort by SolutionPopulation desc\n;\nCustomer_MMAOMS_Solutions"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"cbb1a6cd-a6ce-44f1-909e-23dc1f7e6dd8","property":"GroupedSolution"}],"destinationPages":["abdd00b4-5e83-497d-a2c3-661d5d37f13c"],"disabled":false}]}},{"id":"18c4f72e-671a-4b38-a6c1-31cb905a8ab1","title":"OMS/MMA Customers Population of agents using selected solution","visualType":"table","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":0,"y":3,"width":23,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["SolutionSelect"],"text":"//OMS/MMA Customers Population of agents using selected solution\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet Customers_MMAOMS_for_Solution =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot_BI,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot_BI\n| where Date == MMAOMS_Newest\n| where TblVer == 4\n| where isempty(['SolutionSelect']) or GroupedSolution has ['SolutionSelect']\n| summarize CustomerPopulation = sum(Population) by Customer\n| sort by CustomerPopulation desc\n;\nCustomers_MMAOMS_for_Solution"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"f96383e6-f83b-43db-bb20-e603d901a587","title":"OMS/MMA Subscription Populations of agents using selected solution","visualType":"table","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":0,"y":10,"width":23,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["SolutionSelect"],"text":"//OMS/MMA Subscription Populations of agents using selected solution \nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet Customers_MMAOMS_for_Solution =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot_BI,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot_BI\n| where Date == MMAOMS_Newest\n| where TblVer == 4\n| where isempty(['SolutionSelect']) or GroupedSolution has ['SolutionSelect']\n| summarize Subscription_Population = sum(Population) by SubscriptionId, Customer\n| sort by Subscription_Population desc\n| project-reorder SubscriptionId, Subscription_Population, Customer\n;\nCustomers_MMAOMS_for_Solution"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false},{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}],"table__renderLinks":[]}},{"id":"8a6a1953-75e1-447a-993b-943cd154afe4","title":"Week by week avg daily successful pull counts by Repository for the last 3 months","visualType":"timechart","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":0,"y":0,"width":24,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Week by week avg daily successful pull counts grouped by Repository for the last 3 months\ncluster('genevaagent.kusto.windows.net').database('AMA').\nContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(93d)\n| summarize dailySuccessPullCount = sumif(PullCount,tolong(HttpStatusCode) >= 200 and tolong(HttpStatusCode) <= 299)\n   by bin_at(StartTime,1d,startofday(now())), Repository\n| summarize avg_daily_success_count = round(avg(dailySuccessPullCount),0)\n    by bin_at(StartTime,7d,startofweek(now())),Repository\n| sort by avg_daily_success_count desc\n| where avg_daily_success_count > 0"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"0511748d-7c19-409e-8e20-89dab3511cb9","title":"Week by week avg daily failure pull counts by Repository for the last 3 months","visualType":"timechart","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":0,"y":12,"width":24,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Week by week avg daily Failure pull counts grouped by Repository for the last 3 months\ncluster('genevaagent.kusto.windows.net').database('AMA').ContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(93d)\n| summarize dailyFailPullCount = sumif(PullCount,tolong(HttpStatusCode) < 200 or tolong(HttpStatusCode) >= 300)\n   by bin_at(StartTime,1d,startofday(now())), Repository\n| summarize avg_daily_fail_count = round(avg(dailyFailPullCount),0)\n    by bin_at(StartTime,7d,startofweek(now())),Repository\n| sort by avg_daily_fail_count desc\n| where avg_daily_fail_count > 0"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"49cde3bb-d1c0-4e94-92d0-530e6afa9532","title":"Avg Daily Successful Pull Counts of past month by Repository","visualType":"pie","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":0,"y":24,"width":12,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Avg Daily Successful Pull Counts by Repository\ncluster('genevaagent.kusto.windows.net').database('AMA').ContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(30d)\n| summarize dailySuccessPullCount = sumif(PullCount,tolong(HttpStatusCode) >= 200 and tolong(HttpStatusCode) <= 299)\n   by bin_at(StartTime,1d,startofday(now())), Repository\n| summarize avg_daily_success_count = round(avg(dailySuccessPullCount),0)\n    by Repository\n| sort by avg_daily_success_count desc\n| where avg_daily_success_count > 0"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"98a28214-8ed9-4000-ab92-42ae4555e38b","title":"Avg Daily Failure Pull Counts of past month by Repository","visualType":"pie","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":12,"y":24,"width":12,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Avg Daily Failure Pull Counts by Repository\ncluster('genevaagent.kusto.windows.net').database('AMA').ContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(30d)\n| where StartTime > ago(93d)\n| summarize dailyFailPullCount = sumif(PullCount,tolong(HttpStatusCode) < 200 or tolong(HttpStatusCode) >= 300)\n   by bin_at(StartTime,1d,startofday(now())), Repository\n| summarize avg_daily_fail_count = round(avg(dailyFailPullCount),0)\n    by Repository\n| sort by avg_daily_fail_count desc\n| where avg_daily_fail_count > 0\n| take 12"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d9c1eed6-1777-4b38-b821-8934c8407ea8","title":"Top Avg Daily Successful Pull Counts of past month by Repository","visualType":"table","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":0,"y":36,"width":12,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Avg Daily Successful Pull Counts by Repository\ncluster('genevaagent.kusto.windows.net').database('AMA').ContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(30d)\n| summarize dailySuccessPullCount = sumif(PullCount,tolong(HttpStatusCode) >= 200 and tolong(HttpStatusCode) <= 299)\n   by bin_at(StartTime,1d,startofday(now())), Repository\n| summarize avg_daily_success_count = round(avg(dailySuccessPullCount),0)\n    by Repository\n| sort by avg_daily_success_count desc\n| where avg_daily_success_count > 0"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"506f45e7-adf5-4805-9e1b-1610edc89535","title":"Top Avg Daily Failure Pull Counts of past month by Repository","visualType":"table","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":12,"y":36,"width":12,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Avg Daily Failure Pull Counts by Repository\ncluster('genevaagent.kusto.windows.net').database('AMA').ContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(30d)\n| where StartTime > ago(93d)\n| summarize dailyFailPullCount = sumif(PullCount,tolong(HttpStatusCode) < 200 or tolong(HttpStatusCode) >= 300)\n   by bin_at(StartTime,1d,startofday(now())), Repository\n| summarize avg_daily_fail_count = round(avg(dailyFailPullCount),0)\n    by Repository\n| sort by avg_daily_fail_count desc\n| where avg_daily_fail_count > 0\n"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"2a81582c-6a74-48be-a779-9bbfa836b838","title":"Top Tags (what the customer was trying to pull) by avg daily successful pull counts of past month","visualType":"table","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":0,"y":44,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Top Tags (what the customer was trying to pull) by avg daily successful pull counts of past month\ncluster('genevaagent.kusto.windows.net').database('AMA').\nContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(30d)\n| summarize dailySuccessPullCount = sumif(PullCount,tolong(HttpStatusCode) >= 200 and tolong(HttpStatusCode) <= 299)\n   by bin_at(StartTime,1d,startofday(now())), Tag\n| summarize avg_daily_success_count = round(avg(dailySuccessPullCount),0)\n    by Tag\n| sort by avg_daily_success_count desc"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"a692475b-a1a9-49d7-b198-ff3675a7f64c","title":"Top Digests by avg daily successful pull counts of past month","visualType":"table","pageId":"217012c8-258c-4381-ab2a-9e0ee1883870","layout":{"x":0,"y":53,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Top Digests by avg daily successful pull counts of past month\ncluster('genevaagent.kusto.windows.net').database('AMA').\nContainerRegistryRepositoryEventsSummaryDaily\n| where StartTime > ago(30d)\n| summarize dailySuccessPullCount = sumif(PullCount,tolong(HttpStatusCode) >= 200 and tolong(HttpStatusCode) <= 299)\n   by bin_at(StartTime,1d,startofday(now())), Digest\n| summarize avg_daily_success_count = round(avg(dailySuccessPullCount),0)\n    by Digest\n| sort by avg_daily_success_count desc \n| top 20 by avg_daily_success_count"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"ce0a4578-4a4e-495e-8032-dc604d032e88","title":"Agent Version Windows Population","visualType":"pie","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":28,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows AMA Version breakdown\n//AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer has \"windows\"\n| where StartTime > ago(31d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| where AgentVer != \"00.00.00\"\n| extend MA_Ver = AgentVer\n| extend AMA_Ver = iff(AgentVer==\"45.09.01\",\"1.4.0.0\",\n                   iff(AgentVer==\"45.10.04\",\"1.5.0.0\",\n                   iff(AgentVer==\"45.11.01\",\"1.6.0.0\",\n                   iff(AgentVer==\"45.12.01\",\"1.7.0.0\",\n                   iff(AgentVer==\"45.13.01\",\"1.8.0.0\",\n                   iff(AgentVer==\"45.14.04\",\"1.9.0.0\",\n                   iff(AgentVer==\"46.01.00\",\"1.10.0.0\",\n                   \"?\"\n                   )))))))\n| extend Both_Version = iff(AMA_Ver!=\"?\",strcat(MA_Ver,\" (\",AMA_Ver,\")\"),MA_Ver)\n| summarize DailyCount = count() by StartTime, Both_Version\n| summarize MonthlyAvg = round(avg(DailyCount),0) by Both_Version\n| where MonthlyAvg > 10\n| sort by MonthlyAvg"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"3d0342e9-8792-40ff-a587-9dcc3a08e60c","title":"Total AMA Current Pop Estimation","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":16,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let AMApop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(62d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0)\n;\nAMApop"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","pie__TopNSlices":null}},{"id":"934d4986-460c-45b7-9f8f-260ed0a85a32","title":"Windows AMA Current Pop Estimation","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":8,"y":16,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let AMApop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer has \"windows\"\n| where StartTime > ago(62d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0)\n;\nAMApop"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","pie__TopNSlices":null}},{"id":"7d004266-07f6-4989-be5d-2cdb4bb0d4b9","title":"Linux AMA Current Pop Estimation","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":16,"y":16,"width":8,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let AMApop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer !has \"windows\"\n| where StartTime > ago(60d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0)\n;\nAMApop"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","pie__TopNSlices":null}},{"id":"379fc550-f48f-419d-bd5b-98e57dbad86a","title":"Total AMA Avg Daily Population Trend MoM","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":19,"width":24,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Population Trend Month over Month\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(365d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count(),\n            WinDailyCount = countif(OSVer has \"windows\"),\n            LnxDailyCount = countif(OSVer !has \"windows\")\n            by StartTime\n| summarize TotalMonthlyAvg = round(avg(DailyCount),0),\n            WinMonthlyAvg = round(avg(WinDailyCount),0),\n            LnxMonthlyAvg = round(avg(LnxDailyCount),0)\n            by bin(StartTime,startofmonth(StartTime))"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"769d00dd-04e4-45cc-a7aa-c825e284c909","title":"Windows AMA Top OS/distro Version Populations","visualType":"pie","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":29,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current pop by OS version\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer has \"windows\"\n| where StartTime > ago(31d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime, OSVer\n| summarize MonthlyAvg = round(max(DailyCount),0) by OSVer\n| where MonthlyAvg > 10\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"21d50261-ad49-4ea8-b131-d4bf4e4fdadc","title":"Linux AMA Top OS/distro Version Populations","visualType":"pie","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":29,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Current pop by OS version\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer !has \"windows\"\n| where StartTime > ago(31d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime, OSVer\n| summarize MonthlyAvg = round(max(DailyCount),0) by OSVer\n| where MonthlyAvg > 10\n| sort by MonthlyAvg\n| take 20"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"9704e202-a131-41fb-b1db-bdb0ef9db508","title":"Agent Version Windows AMA Population","visualType":"pie","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":40,"width":12,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer has \"windows\"\n| where StartTime > ago(31d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| where AgentVer != \"00.00.00\"\n| extend MA_Ver = AgentVer\n| extend AMA_Ver = iff(AgentVer==\"45.09.01\",\"1.4.0.0\",\n                   iff(AgentVer==\"45.10.04\",\"1.5.0.0\",\n                   iff(AgentVer==\"45.11.01\",\"1.6.0.0\",\n                   iff(AgentVer==\"45.12.01\",\"1.7.0.0\",\n                   iff(AgentVer==\"45.13.01\",\"1.8.0.0\",\n                   iff(AgentVer==\"45.14.04\",\"1.9.0.0\",\n                   iff(AgentVer==\"46.01.00\",\"1.10.0.0\",\n                   \"?\"\n                   )))))))\n| extend Both_Version = iff(AMA_Ver!=\"?\",strcat(MA_Ver,\" (\",AMA_Ver,\")\"),MA_Ver)\n| summarize DailyCount = count() by StartTime, Both_Version\n| summarize MonthlyAvg = round(avg(DailyCount),0) by Both_Version\n| where MonthlyAvg > 10\n| sort by MonthlyAvg\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"0dcbcf64-8864-49b6-9e10-55dd609be408","title":"Agent Version Linux AMA Population","visualType":"pie","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":40,"width":12,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Version breakdown\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer !has \"windows\"\n| where StartTime > ago(31d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| where AgentVer != \"00.00.00\"\n| extend MA_Ver = AgentVer\n| extend AMA_Ver = iff(AgentVer==\"45.09.01\",\"1.4.0.0\",\n                   iff(AgentVer==\"45.10.04\",\"1.5.0.0\",\n                   iff(AgentVer==\"45.11.01\",\"1.6.0.0\",\n                   iff(AgentVer==\"45.12.01\",\"1.7.0.0\",\n                   iff(AgentVer==\"45.13.01\",\"1.8.0.0\",\n                   iff(AgentVer==\"45.14.04\",\"1.9.0.0\",\n                   iff(AgentVer==\"46.01.00\",\"1.10.0.0\",\n                   \"?\"\n                   )))))))\n| extend Both_Version = iff(AMA_Ver!=\"?\",strcat(MA_Ver,\" (\",AMA_Ver,\")\"),MA_Ver)\n| summarize DailyCount = count() by StartTime, Both_Version\n| summarize MonthlyAvg = round(avg(DailyCount),0) by Both_Version\n| where MonthlyAvg > 10\n| sort by MonthlyAvg\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"donut","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"31b9cec6-e0fa-4400-8cbd-fbbf15845f9d","title":"AMA Windows Arc/Non-Arc Population","visualType":"pie","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":52,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = count() by StartTime, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"edefa3ee-96f6-4399-8f78-5c2496dda871","title":"AMA Linux Arc/Non-Arc Population","visualType":"pie","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":52,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer !has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = count() by StartTime, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e4666eef-52fd-42c4-9344-5cad4c839eed","title":"Customers of AMA & MMA/OMS by avg daily count","visualType":"table","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":66,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Top customers OMS/MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == NewestMMA\n| summarize Total_MMA_OMS_Pop = sum(Population)\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == NewestAMA\n| summarize Total_AMA_Pop = sum(Population) by Customer\n;\nAMA_cust_pop\n| join kind=fullouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend Total_MMA_OMS_Pop = iff(isempty(Total_MMA_OMS_Pop),0.0,Total_MMA_OMS_Pop)\n| extend Total_AMA_Pop = iff(isempty(Total_AMA_Pop),0.0,Total_AMA_Pop)\n| extend Percent_Migrated = round((Total_AMA_Pop/(Total_AMA_Pop + Total_MMA_OMS_Pop))*100,2)\n| sort by Total_AMA_Pop desc\n| project-reorder Customer, Total_AMA_Pop, Total_MMA_OMS_Pop, Percent_Migrated"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"cffa2236-5d6d-42c0-bb54-a60595335e5c","title":"Windows Customers of AMA or MMA by avg daily count","visualType":"table","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":74,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Top customers MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == NewestMMA\n| summarize MMA_Pop = sum(Population)\n            by Customer\n| sort by MMA_Pop desc \n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == NewestAMA\n| summarize AMA_Pop = sum(Population) by Customer\n;\nMMA_cust_pop\n| join kind=fullouter  AMA_cust_pop on Customer\n| project-away Customer1\n| extend MMA_Pop = iff(isempty(MMA_Pop),0.0,MMA_Pop)\n| extend AMA_Pop = iff(isempty(AMA_Pop),0.0,AMA_Pop)\n| extend Percent_Migrated = round((AMA_Pop/(AMA_Pop + MMA_Pop))*100,2)\n| sort by AMA_Pop desc\n| project-reorder Customer, AMA_Pop, MMA_Pop, Percent_Migrated"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"6f13ad81-05a1-4a90-a8ba-c77a97f93e98","title":"Linux Customers of AMA or OMS by avg daily count","visualType":"table","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":74,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux customers of AMA or OMS by avg daily count\nlet NewestOMS = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet OMS_cust_pop =\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == NewestOMS\n| summarize OMS_Pop = sum(Population)\n            by Customer\n| sort by OMS_Pop desc \n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == NewestAMA\n| summarize AMA_Pop = sum(Population) by Customer\n;\nOMS_cust_pop\n| join kind=fullouter AMA_cust_pop on Customer\n| project-away Customer1\n| extend OMS_Pop = iff(isempty(OMS_Pop),0.0,OMS_Pop)\n| extend AMA_Pop = iff(isempty(AMA_Pop),0.0,AMA_Pop)\n| extend Percent_Migrated = round((AMA_Pop/(AMA_Pop + OMS_Pop))*100,2)\n| sort by AMA_Pop desc\n| project-reorder Customer, AMA_Pop, OMS_Pop, Percent_Migrated"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"73ede40f-f955-43a1-befd-ce871678cc17","title":"AMA Max Daily Success Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":86,"width":24,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Max Daily Success Trend - Weekly\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n      cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"59218f09-7e56-4736-8a93-3199c469ca20","title":"Windows AMA Max Daily Success Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":96,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Max Daily Success Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"a7fa9194-dcf7-4690-aa27-42ed2fab8933","title":"Linux AMA Max Daily Success Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":96,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux Max Daily Success Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"045603eb-4f2e-4b2d-bfc9-2f16d984ae53","title":"AMA Max Daily Failure Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":110,"width":24,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Max Daily Failure Trend - Weekly\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n      cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize WeeklyEnableFailMax = round(max(DailyEnableFailCount),0),\n            WeeklyDisableFailMax = round(max(DailyDisableFailCount),0),\n            WeeklyInstallFailMax = round(max(DailyInstallFailCount),0),\n            WeeklyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"6bff33bb-45fb-4ebb-8f3a-7698274bd26b","title":"Windows AMA Max Daily Failure Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":121,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Max Daily Failure Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize WeeklyEnableFailMax = round(max(DailyEnableFailCount),0),\n            WeeklyDisableFailMax = round(max(DailyDisableFailCount),0),\n            WeeklyInstallFailMax = round(max(DailyInstallFailCount),0),\n            WeeklyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"795f06fb-dd0f-42cf-93b2-fe2873d3e75d","title":"Linux AMA Max Daily Failure Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":121,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux  Max Daily Failure Trend - Weekly\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date\n| summarize WeeklyEnableFailMax = round(max(DailyEnableFailCount),0),\n            WeeklyDisableFailMax = round(max(DailyDisableFailCount),0),\n            WeeklyInstallFailMax = round(max(DailyInstallFailCount),0),\n            WeeklyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"f36aa771-0872-40a2-9b1a-b0e754bdc14c","title":"Top Customers of AMA or MMA/OMS by avg daily count","visualType":"table","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":0,"y":15,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Top customers OMS/MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == NewestMMA\n| summarize Total_MMA_OMS_Pop = sum(Population)//, \n            //Win_MMA_Pop = sumif(Population,OsType has \"windows\"),\n            //Lnx_MMA_Pop = sumif(Population,OsType !has \"windows\")\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == NewestAMA\n| summarize Total_AMA_Pop = sum(Population) by Customer\n;\nAMA_cust_pop\n| join kind=fullouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend Total_MMA_OMS_Pop = iff(isempty(Total_MMA_OMS_Pop),0.0,Total_MMA_OMS_Pop)\n| extend Total_AMA_Pop = iff(isempty(Total_AMA_Pop),0.0,Total_AMA_Pop)\n| extend Percent_Migrated = round((Total_AMA_Pop/(Total_AMA_Pop + Total_MMA_OMS_Pop))*100,2)\n| sort by Total_AMA_Pop desc\n| project-reorder Customer, Total_AMA_Pop, Total_MMA_OMS_Pop, Percent_Migrated"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"d93e24ce-65de-4de9-bdb7-d722397effe6","title":"Windows Customers of AMA & MMA by avg daily count","visualType":"table","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":0,"y":24,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Top customers MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == NewestMMA\n| summarize MMA_Pop = sum(Population)\n            by Customer\n| sort by MMA_Pop desc \n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == NewestAMA\n| summarize AMA_Pop = sum(Population) by Customer\n;\nMMA_cust_pop\n| join kind=fullouter  AMA_cust_pop on Customer\n| project-away Customer1\n| extend MMA_Pop = iff(isempty(MMA_Pop),0.0,MMA_Pop)\n| extend AMA_Pop = iff(isempty(AMA_Pop),0.0,AMA_Pop)\n| extend Percent_Migrated = round((AMA_Pop/(AMA_Pop + MMA_Pop))*100,2)\n| sort by AMA_Pop desc\n| project-reorder Customer, AMA_Pop, MMA_Pop, Percent_Migrated"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"e09761b2-59ef-49b2-a1c1-93c951804302","title":"Linux Customers of AMA or OMS by avg daily count","visualType":"table","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":12,"y":24,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux customers of AMA or OMS by avg daily count\nlet NewestOMS = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerWeeklySnapshot\n    | where TblVer == 5\n    | project Date\n    | top 1 by Date );\nlet OMS_cust_pop =\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot\n| where TblVer == 5\n| where Date == NewestOMS\n| summarize OMS_Pop = sum(Population)\n            by Customer\n| sort by OMS_Pop desc \n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n    | where TblVer == 4\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot_BI\n| where TblVer == 4\n| where Date == NewestAMA\n| summarize AMA_Pop = sum(Population) by Customer\n;\nOMS_cust_pop\n| join kind=fullouter AMA_cust_pop on Customer\n| project-away Customer1\n| extend OMS_Pop = iff(isempty(OMS_Pop),0.0,OMS_Pop)\n| extend AMA_Pop = iff(isempty(AMA_Pop),0.0,AMA_Pop)\n| extend Percent_Migrated = round((AMA_Pop/(AMA_Pop + OMS_Pop))*100,2)\n| sort by AMA_Pop desc\n| project-reorder Customer, AMA_Pop, OMS_Pop, Percent_Migrated"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[],"table__renderLinks":[]}},{"id":"000cc5f4-0f29-4241-a256-64a93da81742","title":"AMA Total Avg Daily Population Trend MoM","visualType":"timechart","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":0,"y":33,"width":24,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Population Trend Month over Month\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where StartTime > ago(365d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count(),\n            WinDailyCount = countif(OSVer has \"windows\"),\n            LnxDailyCount = countif(OSVer !has \"windows\")\n            by StartTime\n| summarize TotalMonthlyAvg = round(avg(DailyCount),0),\n            WinMonthlyAvg = round(avg(WinDailyCount),0),\n            LnxMonthlyAvg = round(avg(LnxDailyCount),0)\n            by bin(StartTime,startofmonth(StartTime))"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"8cbdde93-b442-47f5-b07b-9a4e2f5fef0f","title":"Windows IMDS Success Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":157,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows IMDS Success Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Success_Max = round(max(Daily_IMDS_Azure_SuccessCount),0),\n            Weekly_IMDS_Arc_Success_Max = round(max(Daily_IMDS_Arc_SuccessCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"86b996c0-5649-4e26-9424-6772930c6aea","title":"Linux IMDS Success Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":157,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux IMDS Success Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Success_Max = round(max(Daily_IMDS_Azure_SuccessCount),0),\n            Weekly_IMDS_Arc_Success_Max = round(max(Daily_IMDS_Arc_SuccessCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"493eac43-c79e-4047-a083-41348a520ca3","title":"IMDS","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":7,"y":154,"width":10,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"IMDS Success/Failure Trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"08cb483b-1239-40aa-8ac6-b49601d8ac31","title":"Windows IMDS Fail Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":166,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows IMDS Fail Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_FailCount = dcountif(ResourceId,imds_success==\"False\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Fail_Max = round(max(Daily_IMDS_Azure_FailCount),0),\n            Weekly_IMDS_Arc_Fail_Max = round(max(Daily_IMDS_Arc_FailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"21a6b816-7cea-478d-9584-e9268d032764","title":"Linux IMDS Fail Trend - Weekly","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":166,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux IMDS Fail Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_FailCount = dcountif(ResourceId,imds_success==\"False\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Fail_Max = round(max(Daily_IMDS_Azure_FailCount),0),\n            Weekly_IMDS_Arc_Fail_Max = round(max(Daily_IMDS_Arc_FailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"b4edec42-8ce4-4bb1-86e3-5463c354fe20","title":"-","visualType":"card","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":5,"y":97,"width":14,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"Enable, Install, Disable, Uninstall Success Trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"01941a43-3d91-49e5-86ca-a56503bd8e82","title":"-","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":2,"y":83,"width":20,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"AMA Enable, Install, Disable, Uninstall Success Trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"9201a55b-d5a0-4dac-886f-5d3c997962d2","title":"IMDS","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":6,"y":132,"width":11,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"IMDS Success/Failure trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"010fd587-c279-45b8-8801-6bd4d3bcd360","title":"Windows IMDS Success Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":135,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows IMDS Success Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Success_Max = round(max(Daily_IMDS_Azure_SuccessCount),0),\n            Weekly_IMDS_Arc_Success_Max = round(max(Daily_IMDS_Arc_SuccessCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e4a13c52-6460-4607-b842-7914cb555e07","title":"Linux IMDS Success Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":135,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux IMDS Success Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Success_Max = round(max(Daily_IMDS_Azure_SuccessCount),0),\n            Weekly_IMDS_Arc_Success_Max = round(max(Daily_IMDS_Arc_SuccessCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"a156db0e-2d0c-4736-8fc3-bbd21aaf9891","title":"Windows IMDS Fail Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":144,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows IMDS Fail Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Fail_Max = round(max(Daily_IMDS_Azure_FailCount),0),\n            Weekly_IMDS_Arc_Fail_Max = round(max(Daily_IMDS_Arc_FailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"a6c7879a-f072-4032-ba9f-d80784a2a9fe","title":"Linux IMDS Fail Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":144,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux IMDS Fail Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr has \"localhost\")\n    by Date\n| summarize Weekly_IMDS_Azure_Fail_Max = round(max(Daily_IMDS_Azure_FailCount),0),\n            Weekly_IMDS_Arc_Fail_Max = round(max(Daily_IMDS_Arc_FailCount),0)\n    by bin_at(Date,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"1ec06ab2-f577-4b8f-85c4-382dad0b1721","title":"-","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":4,"y":63,"width":16,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"Top AMA Customers\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"05f3b55d-f5aa-4d8a-8af5-c5ff5569dc4b","title":"-","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":2,"y":107,"width":20,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"AMA Enable, Install, Disable, Uninstall Failure Trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[{"id":"ffca48db-1205-40b2-95bd-02bef4edfd1f","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"column":null,"operator":">","values":[""]}],"chainingOperator":"and","visualType":"stat","colorStyle":"bold","color":null,"tag":"","icon":null,"ruleName":""}],"colorStyle":"light"}},{"id":"dc650b29-e9af-4434-a338-d7efe0133ce3","title":"AMA Windows Arc/Non-Arc Population","visualType":"pie","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":0,"y":43,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = count() by StartTime, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cb27122e-b1da-45a1-b36e-2624b4a1d63b","title":"AMA Linux Arc/Non-Arc Population","visualType":"pie","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":12,"y":43,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Pop by Arc type\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily\n| where StartTime > ago(31d)\n| where OSVer !has \"windows\"\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| extend InstallMethod = iif(ResourceId has \"/microsoft.HybridCompute/\", \"ARC\", \n                   iif(ResourceId has \"tenants\", \"Client\", \"VM\"))\n| summarize DailyCount = count() by StartTime, InstallMethod\n| summarize MonthlyAvg = round(avg(DailyCount),0) by InstallMethod\n| where MonthlyAvg > 0\n| sort by MonthlyAvg\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"bfce0a3e-15ea-4448-b855-7fed7a27c3d4","title":"Windows Max Daily Population Trend by week","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":19,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer has \"windows\"\n| where StartTime > ago(124d)\n| extend QuietAgent = (isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig))\n| summarize DailyCount = countif(not(QuietAgent)) by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(StartTime,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"fc3ac3be-579e-4d78-a399-8d5b2212cb0a","title":"Linux Max Daily Population Trend by week","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":19,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Linux Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer !has \"windows\"\n| where StartTime > ago(124d)\n| extend QuietAgent = (isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig))\n| summarize DailyCount = countif(not(QuietAgent)) by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(StartTime,7d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"a8c94963-f372-45db-abc9-8d54f6282af3","title":"Total migration % metric (AMA pop/MMA_OMS pop)","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":0,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Total migration % metric  (AMA pop/MMA_OMS pop)\nlet AMA_pop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n//| where StartTime > ago(365d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| extend month = startofmonth(StartTime)\n| summarize Montly_AMA_Pop = round(max(DailyCount),0) by month\n;\nlet MMA_OMS_pop =\nunion \ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot,\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| extend month = startofmonth(Date)\n| summarize Montly_MMA_OMS_Pop = round(max(DailyCount),0) by month\n;\nAMA_pop\n| join kind=inner MMA_OMS_pop on month\n| project-away month1\n| extend migrationPercentage = round((Montly_AMA_Pop/Montly_MMA_OMS_Pop),3)\n| project month, migrationPercentage"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"237990e8-8899-43ff-aa52-5de19ae922cf","title":"Total migration % metric (AMA pop/MMA_OMS pop)","visualType":"timechart","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":0,"y":0,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Total migration % metric  (AMA pop/MMA_OMS pop)\nlet AMA_pop =\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n//| where StartTime > ago(365d)\n| where not(isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig)) //Filter out no data, no metrics agents\n| summarize DailyCount = count() by StartTime\n| extend month = startofmonth(StartTime)\n| summarize Montly_AMA_Pop = round(max(DailyCount),0) by month\n;\nlet MMA_OMS_pop =\nunion \ncluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot,\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| extend month = startofmonth(Date)\n| summarize Montly_MMA_OMS_Pop = round(max(DailyCount),0) by month\n;\nAMA_pop\n| join kind=inner MMA_OMS_pop on month\n| project-away month1\n| extend migrationPercentage = round((Montly_AMA_Pop/Montly_MMA_OMS_Pop),3)\n| project month, migrationPercentage"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"ce9ed56e-3bdc-422e-8bb1-0f81f3bd248d","title":"AMA Customer Count Trend MoM","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":9,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Customer Count Trend MoM\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 4\n| summarize Customer_Count = dcount(Customer) by bin_at(Date, 31d, now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"7c3ed936-5466-4d23-82cd-f6fb7541b62a","title":"AMA Customer Count Trend MoM","visualType":"timechart","pageId":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e","layout":{"x":0,"y":8,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"// Customer Count Trend MoM\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 4\n| summarize Customer_Count = dcount(Customer) by bin_at(Date, 31d, now())"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"71f13055-27bc-4706-bfe9-87fe69e9e8ef","title":"Linux Max Daily Population Trend","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":12,"y":10,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Linux Population Trend\n\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| where OSVer !has \"windows\"\n| extend QuietAgent = (isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig))\n| summarize DailyCount = countif(not(QuietAgent)) by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(StartTime,31d,now())"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e7691fb7-4e9f-44a3-acbf-dc0f8ceebb56","title":"Top Versions: AMA Max Daily Success Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":156,"width":24,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Max Daily Success Trend - Weekly\nlet topVersions =\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n      cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by Version\n| summarize versionCount = round(avg(DailyCount),0) by Version\n| top 3 by versionCount\n| project-away versionCount\n;\nlet SuccessCounts =\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n      cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date, Version\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now()), Version\n;\nSuccessCounts\n| join kind=inner topVersions on Version\n| project-away Version1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"84ffcc1f-db82-4da0-95b1-5c60d20b4c19","title":"MMA Grouped Solutions Pop by Agent Count","visualType":"bar","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":145,"width":12,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMASolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\ncluster('genevaagent.kusto.windows.net').database('BI').WinMMASolutionsWeeklySnapshot\n//cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSSolutionsWeeklySnapshot\n| where TblVer == 1\n| where Date == MMAOMS_Newest\n| summarize  TotalPop = sum(Population), avgPercent = round(avg(percentOfTotal),2) by Date, GroupedSolution\n| project Date, TotalPop, avgPercent, GroupedSolution\n| sort by Date desc, avgPercent desc\n| extend full_desc = strcat(GroupedSolution,' ',avgPercent,'%')\n| project-reorder full_desc, TotalPop, GroupedSolution, avgPercent"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"specified","value":["avgPercent","TotalPop"]},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"GroupedSolution","parameterId":"03727286-9a47-4e79-b98a-ca14cb20d38b","disabled":false}],"drillthrough":[]}},{"id":"c332af9b-9177-486f-ad13-95c1b19c7eca","title":"OMS Grouped Solutions Pop by Agent Count","visualType":"bar","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":12,"y":145,"width":12,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSSolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\n//cluster('genevaagent.kusto.windows.net').database('BI').WinMMASolutionsWeeklySnapshot\ncluster('genevaagent.kusto.windows.net').database('BI').LnxOMSSolutionsWeeklySnapshot\n| where TblVer == 1\n| where Date == MMAOMS_Newest\n| summarize  TotalPop = sum(Population), avgPercent = round(avg(percentOfTotal),2) by Date, GroupedSolution\n| project Date, TotalPop, avgPercent, GroupedSolution\n| sort by Date desc, avgPercent desc\n| extend full_desc = strcat(GroupedSolution,' ',avgPercent,'%')\n| project-reorder full_desc, TotalPop, GroupedSolution, avgPercent"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"specified","value":["TotalPop"]},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"GroupedSolution","parameterId":"03727286-9a47-4e79-b98a-ca14cb20d38b","disabled":false}],"drillthrough":[]}},{"id":"597ebb2b-cc37-48ad-8bd6-649d9333726c","title":"MMA Solution Set Agent Counts W/ Selected Group Solution","visualType":"bar","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":158,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["Solution_Selection_OMSMMA"],"text":"\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMASolutionSetsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\ncluster('genevaagent.kusto.windows.net').database('BI').WinMMASolutionSetsWeeklySnapshot\n//cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSSolutionSetsWeeklySnapshot\n| where TblVer == 1\n| where Date == MMAOMS_Newest\n| where AvgPop > 1\n| where Solution_set has Solution_Selection_OMSMMA\n| summarize  TotalPop = sum(AvgPop), avgPercent = round(avg(percentOfTotal),2) by Solution_set\n| top 10 by TotalPop\n| project TotalPop, avgPercent, Solution_set\n| sort by avgPercent desc\n| extend Solution_set=replace_string(Solution_set, '[', ' ')\n| extend Solution_set=replace_string(Solution_set, ']', ' ')\n| extend Solution_set=replace_string(Solution_set, '\",\"', ', ')\n| extend Solution_set=replace_string(Solution_set, '\"', '')\n| extend full_desc = strcat(Solution_set,' ',avgPercent,'%')\n| project-reorder full_desc, TotalPop, Solution_set, avgPercent"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"specified","value":["TotalPop"]},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"GroupedSolution","parameterId":"03727286-9a47-4e79-b98a-ca14cb20d38b","disabled":false}],"drillthrough":[]}},{"id":"6955faef-6384-49f6-91a5-564cd7a3e8fb","title":"OMS Solution Set Agent Counts W/ Selected Group Solution","visualType":"bar","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":166,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":["Solution_Selection_OMSMMA"],"text":"\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSSolutionSetsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\ncluster('genevaagent.kusto.windows.net').database('BI').LnxOMSSolutionSetsWeeklySnapshot\n| where TblVer == 1\n| where Date == MMAOMS_Newest\n| where AvgPop > 1\n| where Solution_set has Solution_Selection_OMSMMA\n| summarize  TotalPop = sum(AvgPop), avgPercent = round(avg(percentOfTotal),2) by Solution_set\n| top 10 by TotalPop\n| project TotalPop, avgPercent, Solution_set\n| sort by avgPercent desc\n| extend Solution_set=replace_string(Solution_set, '[', ' ')\n| extend Solution_set=replace_string(Solution_set, ']', ' ')\n| extend Solution_set=replace_string(Solution_set, '\",\"', ', ')\n| extend Solution_set=replace_string(Solution_set, '\"', '')\n| extend full_desc = strcat(Solution_set,' ',avgPercent,'%')\n| project-reorder full_desc, TotalPop, Solution_set, avgPercent"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"specified","value":["TotalPop"]},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"GroupedSolution","parameterId":"03727286-9a47-4e79-b98a-ca14cb20d38b","disabled":false}],"drillthrough":[]}},{"id":"e3951d50-5ad0-4165-97a9-5bc26ef531ef","title":"-","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":2,"y":153,"width":20,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"Top Versions' AMA Enable, Install, Disable, Uninstall Success Trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"78884fdd-92bd-49a2-8216-278bccd215b3","title":"Windows Top Versions: AMA Max Daily Success Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":167,"width":12,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Max Daily Success Trend - Weekly\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by Version\n| summarize versionCount = round(avg(DailyCount),0) by Version\n| top 3 by versionCount\n| project-away versionCount\n;\nlet SuccessCounts =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date, Version\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now()), Version\n;\nSuccessCounts\n| join kind=inner topVersions on Version\n| project-away Version1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"139c0d14-c270-4b23-b47b-35a4919866ba","title":"Linux Top Versions: AMA Max Daily Success Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":167,"width":12,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Max Daily Success Trend - Weekly\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by Version\n| summarize versionCount = round(avg(DailyCount),0) by Version\n| top 3 by versionCount\n| project-away versionCount\n;\nlet SuccessCounts =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnablePassCount = dcountif(ResourceId,OpType==\"Enable_Pass\"),\n            DailyDisablePassCount = dcountif(ResourceId,OpType==\"Disable_Pass\"),\n            DailyInstallPassCount = dcountif(ResourceId,OpType==\"Install_Pass\"),\n            DailyUninstallPassCount = dcountif(ResourceId,OpType==\"Uninstall_Pass\")\n    by Date, Version\n| summarize WeeklyEnablePassMax = round(max(DailyEnablePassCount),0),\n            WeeklyDisablePassMax = round(max(DailyDisablePassCount),0),\n            WeeklyInstallPassMax = round(max(DailyInstallPassCount),0),\n            WeeklyUninstallPassMax = round(max(DailyUninstallPassCount),0)\n    by bin_at(Date,7d,now()), Version\n;\nSuccessCounts\n| join kind=inner topVersions on Version\n| project-away Version1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"0e8e7dc2-1811-41e0-a2f7-9c22fcdd1096","title":"-","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":2,"y":179,"width":20,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"Top Versions' AMA Enable, Install, Disable, Uninstall Failure Trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[{"id":"ffca48db-1205-40b2-95bd-02bef4edfd1f","ruleType":"colorByCondition","applyToColumn":null,"hideText":false,"applyTo":"cells","conditions":[{"column":null,"operator":">","values":[""]}],"chainingOperator":"and","visualType":"stat","colorStyle":"bold","color":null,"tag":"","icon":null,"ruleName":""}],"colorStyle":"light"}},{"id":"30a6d11d-a06d-4fd2-a7e4-327297603137","title":"Top Versions: AMA Max Daily Failure Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":182,"width":24,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Max Daily Failure Trend - Weekly\nlet topVersions =\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n      cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by Version\n| summarize versionCount = round(avg(DailyCount),0) by Version\n| top 3 by versionCount\n| project-away versionCount\n;\nlet FailureCounts =\nunion cluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot,\n      cluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date, Version\n| summarize WeeklyEnableFailMax = round(max(DailyEnableFailCount),0),\n            WeeklyDisableFailMax = round(max(DailyDisableFailCount),0),\n            WeeklyInstallFailMax = round(max(DailyInstallFailCount),0),\n            WeeklyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now()), Version\n;\nFailureCounts\n| join kind=inner topVersions on Version\n| project-away Version1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"e4b77a4d-d8e3-408a-a89d-7bbb06db6b2b","title":"Top Versions: Windows AMA Max Daily Failure Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":193,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Max Daily Failure Trend - Weekly\n//Max Daily Failure Trend - Weekly\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by Version\n| summarize versionCount = round(avg(DailyCount),0) by Version\n| top 3 by versionCount\n| project-away versionCount\n;\nlet FailureCounts =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').WinAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date, Version\n| summarize WeeklyEnableFailMax = round(max(DailyEnableFailCount),0),\n            WeeklyDisableFailMax = round(max(DailyDisableFailCount),0),\n            WeeklyInstallFailMax = round(max(DailyInstallFailCount),0),\n            WeeklyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now()), Version\n;\nFailureCounts\n| join kind=inner topVersions on Version\n| project-away Version1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"02532cc4-6554-4a7f-ba28-68700484668b","title":"Top Versions: Windows AMA Max Daily Failure Trend - Weekly","visualType":"line","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":193,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows Max Daily Failure Trend - Weekly\n//Max Daily Failure Trend - Weekly\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by Version\n| summarize versionCount = round(avg(DailyCount),0) by Version\n| top 3 by versionCount\n| project-away versionCount\n;\nlet FailureCounts =\ncluster('genevaagent.kusto.windows.net').database('Telemetry').LnxAMADailySnapshot\n| where TblVer == 2\n| where Date > ago(63d)\n| summarize DailyEnableFailCount = dcountif(ResourceId,OpType==\"Enable_Fail\"),\n            DailyDisableFailCount = dcountif(ResourceId,OpType==\"Disable_Fail\"),\n            DailyInstallFailCount = dcountif(ResourceId,OpType==\"Install_Fail\"),\n            DailyUninstallFailCount = dcountif(ResourceId,OpType==\"Uninstall_Fail\")\n    by Date, Version\n| summarize WeeklyEnableFailMax = round(max(DailyEnableFailCount),0),\n            WeeklyDisableFailMax = round(max(DailyDisableFailCount),0),\n            WeeklyInstallFailMax = round(max(DailyInstallFailCount),0),\n            WeeklyUninstallFailMax = round(max(DailyUninstallFailCount),0)\n    by bin_at(Date,7d,now()), Version\n;\nFailureCounts\n| join kind=inner topVersions on Version\n| project-away Version1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"eff068f4-7d5f-41bb-8367-dc9b65e0557b","title":"IMDS","visualType":"card","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":3,"y":204,"width":16,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"print \"Top Versions' IMDS Success/Failure trends\""},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"e263d208-d507-4d37-8ab9-a0b23bbfd24b","title":"Top Versions: Windows IMDS Success Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":207,"width":12,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows IMDS Success Trend\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by AgentVer\n| summarize versionCount = round(avg(DailyCount),0) by AgentVer\n| top 3 by versionCount\n| project-away versionCount\n;\nlet SuccessCounts =\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr has \"localhost\")\n    by Date, AgentVer\n| summarize Weekly_IMDS_Azure_Success_Max = round(max(Daily_IMDS_Azure_SuccessCount),0),\n            Weekly_IMDS_Arc_Success_Max = round(max(Daily_IMDS_Arc_SuccessCount),0)\n    by bin_at(Date,7d,now()), AgentVer\n;\nSuccessCounts\n| join kind=inner topVersions on AgentVer\n| project-away AgentVer1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"577c489f-b082-4249-86cf-0cdd044c9635","title":"Top Versions: Linux IMDS Success Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":207,"width":12,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux IMDS Success Trend\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by AgentVer\n| summarize versionCount = round(avg(DailyCount),0) by AgentVer\n| top 3 by versionCount\n| project-away versionCount\n;\nlet SuccessCounts =\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_SuccessCount = dcountif(ResourceId,imds_success==\"true\" and imds_addr has \"localhost\")\n    by Date, AgentVer\n| summarize Weekly_IMDS_Azure_Success_Max = round(max(Daily_IMDS_Azure_SuccessCount),0),\n            Weekly_IMDS_Arc_Success_Max = round(max(Daily_IMDS_Arc_SuccessCount),0)\n    by bin_at(Date,7d,now()), AgentVer\n;\nSuccessCounts\n| join kind=inner topVersions on AgentVer\n| project-away AgentVer1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"9828ff2a-7d27-4fe6-a05a-a8f79cd3bb7d","title":"Top Versions: Windows IMDS Fail Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":0,"y":217,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Windows IMDS Fail Trend\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by AgentVer\n| summarize versionCount = round(avg(DailyCount),0) by AgentVer\n| top 3 by versionCount\n| project-away versionCount\n;\nlet FailureCounts =\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr has \"localhost\")\n    by Date, AgentVer\n| summarize Weekly_IMDS_Azure_Fail_Max = round(max(Daily_IMDS_Azure_FailCount),0),\n            Weekly_IMDS_Arc_Fail_Max = round(max(Daily_IMDS_Arc_FailCount),0)\n    by bin_at(Date,7d,now()), AgentVer\n    ;\nFailureCounts\n| join kind=inner topVersions on AgentVer\n| project-away AgentVer1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"3973d61f-3d61-4750-97c4-e4c95f2f5956","title":"Top Versions: Linux IMDS Fail Trend - Weekly","visualType":"timechart","pageId":"3903079c-ba4c-4e09-bd75-ceaac97f0adb","layout":{"x":12,"y":217,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//Linux IMDS Fail Trend\nlet topVersions =\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| where Date > ago(63d) \n| summarize DailyCount = dcount(ResourceId) by AgentVer\n| summarize versionCount = round(avg(DailyCount),0) by AgentVer\n| top 3 by versionCount\n| project-away versionCount\n;\nlet FailureCounts =\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMAIMDSDailySnapshot\n| where TblVer == 1\n| summarize Daily_IMDS_Azure_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr !has \"localhost\"),\n            Daily_IMDS_Arc_FailCount = dcountif(ResourceId,imds_success==\"false\" and imds_addr has \"localhost\")\n    by Date, AgentVer\n| summarize Weekly_IMDS_Azure_Fail_Max = round(max(Daily_IMDS_Azure_FailCount),0),\n            Weekly_IMDS_Arc_Fail_Max = round(max(Daily_IMDS_Arc_FailCount),0)\n    by bin_at(Date,7d,now()), AgentVer\n    ;\nFailureCounts\n| join kind=inner topVersions on AgentVer\n| project-away AgentVer1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"d9b45424-321e-4e8d-a813-3e4027a18bea","title":"Overall Population Trend","visualType":"timechart","pageId":"7acb6810-fbce-4f5c-92b7-71a823b5420b","layout":{"x":0,"y":3,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"union cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot,  (cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshotOld \n| where Date < datetime(2020-06-28)), cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot\n| summarize DailyCount = count() by Date\n| summarize MonthlyMax = round(avg(DailyCount),0) by startofmonth(Date)\n\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"aeb8d5da-e1d9-4520-9ea7-1f20ac666f61","title":"All Up Population Trend","visualType":"timechart","pageId":"e39f120d-feb1-40d1-a024-410cc40ccece","layout":{"x":0,"y":3,"width":24,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"//AMA Windows Population Trend\ncluster('genevaagent.kusto.windows.net').database('AMA').HealthSummaryDaily \n| extend QuietAgent = (isnull(Ods) and isnull(Telegraf) and isnull(MetricsExtension) and isnull(Gig))\n| summarize DailyCount = countif(not(QuietAgent)) by StartTime\n| summarize MonthlyAvg = round(max(DailyCount),0) by bin_at(StartTime,31d,now())\n\n"},"visualOptions":{"hideTileTitle":false,"hideLegend":true,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}}],"parameters":[{"kind":"duration","id":"08864796-4b5e-423d-bbb8-c356a44daa75","displayName":"Time range","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"selection","pageIds":[]}},{"kind":"string","selectionType":"freetext","id":"4f7a8544-fd41-4ec2-bf59-1149076ce777","displayName":"Customer(SubscriptionId)","variableName":"CustomerSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"]}},{"kind":"string","selectionType":"freetext","id":"cbb1a6cd-a6ce-44f1-909e-23dc1f7e6dd8","displayName":"Solution","variableName":"SolutionSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["abdd00b4-5e83-497d-a2c3-661d5d37f13c"]}},{"kind":"string","selectionType":"freetext","id":"900f1a93-cd36-46c2-97a9-17e7c20487ef","displayName":"CustomerName","variableName":"CustomerNameSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"]}},{"kind":"string","id":"03727286-9a47-4e79-b98a-ca14cb20d38b","displayName":"Solution Selection","variableName":"Solution_Selection_OMSMMA","selectionType":"scalar","includeAllOption":true,"defaultValue":{"kind":"all"},"dataSource":{"kind":"query","query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8"},"usedVariables":[],"text":"let Defender_for_Cloud = dynamic([\"security\", \"securityCenter\", \"securityCenterFree\", \"antimalware\", \"sqlAdvancedThreatProtection\", \"sqlVulnerabilityAssessment\", \"sqlAssessment\", \"sqlAssessmentPlus\"]);\n        let Defender_for_Endpoint = dynamic([\"windowsDefenderATP\"]);\n        let Update_Management = dynamic([\"updates\"]);\n        let Change_Tracking = dynamic([\"changeTracking\"]);\n        let Azure_Automation = dynamic([\"azureAutomation\"]);\n        let Sentinel = dynamic([\"securityinsights\", \"windowsFirewall\", \"windowsEventForwarding\"]);\n        let DNS_Analytics = dynamic([\"dnsAnalytics\"]);\n        let VM_Insights_Service_Map = dynamic([\"vminsights\", \"servicemap\"]);\n        let Container_Insights = dynamic([\"containerInsights\", \"containers\"]);\n        let Infrastructure_Insights = dynamic([\"infrastructureInsights\"]);\n        let Network_Monitoring = dynamic([\"networkMonitoring\"]);\n        let Log_Management = dynamic([\"logManagement\"]);\n        let On_Demand_Assessments = dynamic([\"adAssessment\", \"adAssessmentPlus\", \"adSecurityAssessment\", \"sccmAssessmentPlus\", \"windowsServerAssessment\", \"exchangeAssessment\", \"azureAssessment\", \"exchangeOnlineAssessment\", \"windowsClientAssessmentPlus\", \"sharePointOnlineAssessment\", \"spAssessment\", \"sfBOnlineAssessment\", \"sfBAssessment\", \"SCOMAssessmentPlus\", \"SQLAssessmentPlus\", \"DesktopAssessmentPlus\", \"WindowsClientAssessment\"]);\nlet WorkspaceOS = union\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n        Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n    | extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\")\n    | summarize\n        HasWindows = countif(OSType == \"Windows\") > 0,\n        HasLinux = countif(OSType == \"Linux\") > 0\n        by WorkspaceId;\nlet CustomerMMASolutions =\nunion\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').LinuxDailySnapshot),\n    Latest(cluster('genevaagent.kusto.windows.net').database('Telemetry').WindowsDailySnapshot)\n| extend OSType = iff(isnotempty(OSDistro), \"Linux\", \"Windows\"), Solution = Solutions\n| join kind = leftouter WorkspaceOS on WorkspaceId\n//| where not(HasWindows) or not(HasLinux) // use this filter to eliminate 'heterogeneous' workspaces\n| mv-expand Solution to typeof(string)\n| where Solution != \"null\"\n| extend GroupedSolution = iif(Solution in~ (['Defender_for_Cloud']), \"Defender for Cloud\", \n                           iif(Solution in~ (['Defender_for_Endpoint']), \"Defender for Endpoint\", \n                           iif(Solution in~ (['Update_Management']), \"Update Management\", \n                           iif(Solution in~ (['Change_Tracking']), \"Change Tracking\", \n                           iif(Solution in~ (['Azure_Automation']), \"Azure Automation\", \n                           iif(Solution in~ (['Sentinel']), \"Sentinel\", \n                           iif(Solution in~ (['DNS_Analytics']), \"DNS Analytics\", \n                           iif(Solution in~ (['VM_Insights_Service_Map']), \"VM Insights Service Map\", \n                           iif(Solution in~ (['Container_Insights']), \"Container Insights\", \n                           iif(Solution in~ (['Infrastructure_Insights']), \"Infrastructure Insights\", \n                           iif(Solution in~ (['Network_Monitoring']), \"Network Monitoring\", \n                           iif(Solution in~ (['Log_Management']), \"Log Management\", \n                           iif(Solution in~ (['On_Demand_Assessments']), \"On Demand Assessments\", \n                           \"No Name Associated\")))))))))))))\n| distinct GroupedSolution\n| sort by GroupedSolution asc \n;\nCustomerMMASolutions"},"columns":{"value":"GroupedSolution","label":"GroupedSolution"}},"showOnPages":{"kind":"selection","pageIds":["7acb6810-fbce-4f5c-92b7-71a823b5420b"]}}],"dataSources":[{"id":"87e57c9f-3ee0-4618-a4eb-6a88ba2ebae8","name":"GenevaAgentTelemetry","clusterUri":"https://genevaagent.kusto.windows.net/","database":"Telemetry","kind":"manual-kusto","scopeId":"kusto"},{"id":"f0dc3546-d207-4d8f-8086-cb812e7ed7a5","name":"rdos","clusterUri":"https://rdos.kusto.windows.net/","database":"rdos","kind":"manual-kusto","scopeId":"kusto"}],"pages":[{"name":"Log Analytics Agent (MMA/OMS)","id":"e7d78d19-c1a6-45b8-bc4e-1a82031c7722"},{"name":"Diagnostics Extension (WAD/LAD)","id":"021264ab-2fb1-4dbb-868e-58dc3cf0cbc0"},{"name":"Fleet Tlm OMS/MMA","id":"68ea461f-ea60-4bda-9f50-c1ffeef1aa6e"},{"name":"Fleet Tlm LAD/WAD ","id":"b9c54832-e96f-4d89-9616-d12e43680b2e"},{"name":"OMS->AMA Migration","id":"c5d21b0d-c518-4c94-999c-daa022afb8c1"},{"id":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","name":">> Customer View"},{"name":">> Subscription View","id":"3bade44b-2e1b-4b7b-9970-4365c4d6c503"},{"name":">> Feature View","id":"abdd00b4-5e83-497d-a2c3-661d5d37f13c"},{"id":"ed6a0f06-26cf-4ac5-9aa3-53553f4514b0","name":"Supportability AMA"},{"name":"Supportability OMS/MMA","id":"720a2068-3401-4bdd-b521-caf3caee4a97"},{"name":"Install/Enable HB OMS/MMA Counts","id":"77e2d7c4-6f6e-419b-bf2a-02056758eb60"},{"name":"Pop Charts AMA","id":"e39f120d-feb1-40d1-a024-410cc40ccece"},{"name":"Pop Charts OMS/MMA","id":"7acb6810-fbce-4f5c-92b7-71a823b5420b"},{"id":"9cd50845-768b-4bc9-a7a7-b5f5643fb9b5","name":"Pop Charts LAD/WAD"},{"name":"Feature Usage LAD","id":"9a96b84d-70cc-48fd-87d6-6b58d063a962"},{"id":"d3105ed6-77e6-4ed8-be4c-e8b31ecdfffe","name":"Feature Usage WAD"},{"name":"Breaking Agent","id":"8700dc67-baa1-4343-baf5-7e4e66f72f7e"},{"name":"CSAM & Pops of Customers","id":"f9b4b317-2057-4c14-85a8-a0b5638a283e"},{"name":"Container Registry","id":"217012c8-258c-4381-ab2a-9e0ee1883870"},{"name":"Agent Team","id":"3903079c-ba4c-4e09-bd75-ceaac97f0adb"},{"name":"Management","id":"2c6d5b56-de27-4665-abd3-2d6fb916ee0e"}]}