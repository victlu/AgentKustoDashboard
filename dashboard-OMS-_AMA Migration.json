{"$schema":"https://dataexplorer.azure.com/static/d/schema/33/dashboard.json","id":"be8d15c9-62c6-4748-acf0-e86e50a31e42","eTag":"xzE7agpw9KMl7EOMkJLo2w==","schema_version":"33","title":"OMS->AMA Migration","autoRefresh":{"enabled":false},"sharedQueries":[],"tiles":[{"id":"53d69afd-c72e-4baa-8709-fcd439d749e6","title":"MMA & AMA Windows Population Trend","visualType":"line","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":0,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Windows Population Trend MMA & AMA\nlet MMA_pop =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| summarize MMA_weekByWeek_Count = sum(Population) by Date\n| summarize MMA_MonthlyAvg = round(avg(MMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nlet AMA_pop =\ncluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n| where TblVer == 2\n| summarize AMA_weekByWeek_Count = sum(Population) by Date\n| summarize AMA_MonthlyAvg = round(avg(AMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nMMA_pop\n| join AMA_pop on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"27f2ffac-53d5-47cd-a84d-399729b15a78","title":"OMS & AMA Linux Population Trend","visualType":"line","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":12,"y":0,"width":12,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Linux Population Trend AMA & OMS\nlet MMA_pop =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot\n| where TblVer == 3\n| summarize MMA_weekByWeek_Count = sum(Population) by Date\n| summarize MMA_snap_MonthlyAvg = round(avg(MMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nlet AMA_pop =\ncluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| summarize AMA_weekByWeek_Count = sum(Population) by Date\n| summarize AMA_snap_MonthlyAvg = round(avg(AMA_weekByWeek_Count),0) by Date = startofmonth(Date)\n;\nMMA_pop\n| join AMA_pop on Date | project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"f9a7bd41-67df-4409-be5d-95b597cf2de3","title":"Top 2000 customers of OMS/MMA by avg daily agent count","visualType":"table","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":9,"width":24,"height":14},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Top customers OMS/MMA by AgentId Count\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == Newest\n| summarize CustomerPop = sum(Population) by Customer\n| top 2000 by CustomerPop"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}]}},{"id":"5ab8fe52-f316-4004-9abf-1b769a8baac4","title":"Top 2000 customers of AMA by avg daily agent count ","visualType":"table","pageId":"c5d21b0d-c518-4c94-999c-daa022afb8c1","layout":{"x":0,"y":23,"width":24,"height":14},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//AMA top customers\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == Newest\n| summarize CustomerPop = sum(Population) by Customer\n| top 2000 by CustomerPop"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}]}},{"id":"9ef41e2d-1d67-45a9-a968-dc2545133309","title":"SubscriptionId Name","visualType":"card","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":0,"width":14,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerSelect"],"text":"print ['CustomerSelect']\n"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"5cdb025e-e590-4997-9dbe-2dbe395089d7","title":"Agent population (AMA vs OMS/MMA) by subscription ID","visualType":"bar","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":3,"width":23,"height":6},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerSelect"],"text":"//Agent population (AMA vs OMS/MMA) by subscription ID\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet Subscriptions_MMA_OMS_Agent_Pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == MMAOMS_Newest\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize total_MMAOMS_agents = sum(Population) by SubscriptionId\n;\nlet AMA_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet Subscriptions_AMA_Agent_Pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == AMA_Newest\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize total_AMA_agents = sum(Population) by SubscriptionId\n;\nSubscriptions_MMA_OMS_Agent_Pop\n| join kind=fullouter Subscriptions_AMA_Agent_Pop on SubscriptionId\n| project-away SubscriptionId1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[{"destinationPages":[],"disabled":false}]}},{"id":"9695c985-cc29-48e1-8a1c-1e706e3710d7","title":"Feature","visualType":"card","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":4,"y":0,"width":13,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect"],"text":"\nprint SolutionSelect"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light"}},{"id":"593df15e-e785-4e97-a220-27a9bf9d1be6","title":"Customer SubscriptionIds in MMA/OMS by Population","visualType":"table","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":3,"width":24,"height":14},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect"],"text":"//Customer SubscriptionIds in MMA/OMS by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal, OsType, Solutions\n| sort by Population desc\n;\nMMAOMS_Daily"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false}]}},{"id":"fdc62a5e-6968-40ab-a196-7ce52aa62abc","title":"Customer SubscriptionIds in AMA by Population","visualType":"table","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":20,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect"],"text":"let Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n;\nAMA_Daily"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":true,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false}]}},{"id":"e465c667-754a-48bf-89d4-21ca3b3c3541","title":"Customer Name","visualType":"card","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":14,"y":0,"width":10,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerSelect"],"text":"let p360_name =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect']\n| project Customer\n;\np360_name"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"396dbed3-1943-49bb-9a8a-619d82607bf6","title":"Total MMA/OMS Population of Customer","visualType":"card","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":0,"width":11,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect"],"text":"//Customer SubscriptionIds in MMA/OMS by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal, Solutions\n| sort by Population desc\n;\nMMAOMS_Daily\n| summarize Total_MMAOMS_Pop = sum(Population)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"pie__TopNSlices":null}},{"id":"b11d405c-ffb3-412a-8a42-a894e177d905","title":"Customer Name","visualType":"card","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":11,"y":0,"width":13,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect"],"text":"print CustomerNameSelect"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"7abcfb8d-fb0b-45af-9512-9a85a6929588","title":"Trend of MMA/OMS & AMA Population of Customer","visualType":"timechart","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":29,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect"],"text":"//Trend of MMA/OMS & AMA Population of Customer\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Date, Customer, SubscriptionId, Population, InternalOrExternal, Solutions\n| sort by Population desc\n| summarize Customer_Total_MMA_OMS_Pop = sum(Population) by Date\n;\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Date, Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n| summarize Customer_Total_AMA_Pop = sum(Population) by Date\n;\nMMAOMS_Daily\n| join kind=leftouter AMA_Daily on Date\n| project-away Date1"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"aaa3723c-5702-478e-ae28-359a93fc8de2","title":"Total AMA Population of Customer","visualType":"card","pageId":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","layout":{"x":0,"y":17,"width":10,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect"],"text":"//Customer SubscriptionIds in AMA by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == Newest\n| where isempty(['CustomerNameSelect']) or Customer == ['CustomerNameSelect']\n| project Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n;\nAMA_Daily\n| summarize Total_AMA_Pop = sum(Population)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"pie__TopNSlices":null}},{"id":"a7917a5d-6c67-40cf-9116-a730aa198924","title":"Features used on OMS/MMA by number of agents","visualType":"pie","pageId":"3bade44b-2e1b-4b7b-9970-4365c4d6c503","layout":{"x":0,"y":9,"width":23,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerSelect"],"text":"//Features used on MMA/OMS by number of agents\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet Customer_MMAOMS_Solutions =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot\n| where Date == MMAOMS_Newest\n| where TblVer == 1\n| where isempty(['CustomerSelect']) or SubscriptionId == ['CustomerSelect'] // Freetext filtering\n| summarize SolutionPopulation = sum(Population) by GroupedSolution\n| sort by SolutionPopulation desc\n;\nCustomer_MMAOMS_Solutions"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__TopNSlices":null,"pie__topNSlices":null,"crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"cbb1a6cd-a6ce-44f1-909e-23dc1f7e6dd8","property":"GroupedSolution"}],"destinationPages":["abdd00b4-5e83-497d-a2c3-661d5d37f13c"],"disabled":false}]}},{"id":"18c4f72e-671a-4b38-a6c1-31cb905a8ab1","title":"OMS/MMA Customers Population of agents using selected Feature","visualType":"table","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":0,"y":3,"width":23,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect"],"text":"//OMS/MMA Customers Population of agents using selected Feature\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet Customers_MMAOMS_for_Solution =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot\n| where Date == MMAOMS_Newest\n| where TblVer == 1\n| where isempty(['SolutionSelect']) or GroupedSolution has ['SolutionSelect']\n| summarize CustomerPopulation = sum(Population) by Customer\n| sort by CustomerPopulation desc\n;\nCustomers_MMAOMS_for_Solution"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}]}},{"id":"f96383e6-f83b-43db-bb20-e603d901a587","title":"OMS/MMA Subscription Populations of agents using selected Feature","visualType":"table","pageId":"abdd00b4-5e83-497d-a2c3-661d5d37f13c","layout":{"x":0,"y":15,"width":23,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect"],"text":"//OMS/MMA Subscription Populations of agents using selected Feature \nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet Customers_MMAOMS_for_Solution =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot\n| where Date == MMAOMS_Newest\n| where TblVer == 1\n//| where GroupedSolution == \"Defender for Servers\"\n| where isempty(['SolutionSelect']) or GroupedSolution has ['SolutionSelect']\n| summarize Subscription_Population = sum(Population) by SubscriptionId, Customer\n| sort by Subscription_Population desc\n| project-reorder SubscriptionId, Subscription_Population, Customer\n;\nCustomers_MMAOMS_for_Solution"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"colorStyle":"light","crossFilter":[],"drillthrough":[{"pairs":[{"parameterId":"4f7a8544-fd41-4ec2-bf59-1149076ce777","property":"SubscriptionId"}],"destinationPages":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"],"disabled":false},{"pairs":[{"parameterId":"900f1a93-cd36-46c2-97a9-17e7c20487ef","property":"Customer"}],"destinationPages":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"],"disabled":false}]}},{"id":"3ee612f8-7ec3-49d5-ae48-6159197037bf","title":"Total MMA population of agents older than 10_20_18053 with 22s excluded","visualType":"card","pageId":"677abef2-115c-4263-b389-ab651f87534a","layout":{"x":4,"y":0,"width":15,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//MMA Customers with agent populations of older than 10_20_18053 with 22s excluded\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot\n| where TblVer == 1\n| where Date == Newest\n| where AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,CSAM,Customer_TPID\n| summarize Total_Old_Agent_Population = sum(Population);\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"889aa63f-bca2-46bd-a828-0028c0697c5d","title":"MMA Customers with agent populations of older than 10_20_18053 with 22s excluded","visualType":"table","pageId":"677abef2-115c-4263-b389-ab651f87534a","layout":{"x":0,"y":3,"width":23,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//MMA Customers with agent populations of older than 10_20_18053 with 22s excluded\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot\n| where TblVer == 1\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,Customer_TPID, CSAM, AgentVersion\n| summarize Old_Agent_Pop = sumif(Population,AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\")),\n            New_Agent_Pop = sumif(Population,AgentVersion in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\",\"10.22.10056.0\",\"10.22.10058.0\",\"10.22.10061.0\",\"10.22.10070.0\"))\n  by Customer, CSAM, Customer_TPID\n| project-reorder Customer, Old_Agent_Pop, New_Agent_Pop, CSAM, Customer_TPID\n| sort by Old_Agent_Pop desc\n;\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"cf56e78e-f4b8-4987-ad26-6dfa70ccb2ca","title":"Total MMA population of agents older than 10_20_18053 with 22s included","visualType":"card","pageId":"677abef2-115c-4263-b389-ab651f87534a","layout":{"x":4,"y":16,"width":15,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//MMA Customers with agent populations that are older than 10_20_18053 with 22s included\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot\n| where TblVer == 1\n| where Date == Newest\n| where AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,CSAM, Customer_TPID\n| summarize Total_Old_Agent_Population = sum(Population);\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"8e95786e-e90f-4fbd-91d6-44ea7f1f95be","title":"MMA Customers with agent populations that are older than 10_20_18053 with 22s included","visualType":"table","pageId":"677abef2-115c-4263-b389-ab651f87534a","layout":{"x":0,"y":19,"width":23,"height":13},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//MMA Customers with agent populations that are older than 10_20_18053 with 22s included\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerAgentVerWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet MMA_OldAgent =\ncluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerAgentVerWeeklySnapshot\n| where TblVer == 1\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal,Customer_TPID, CSAM, AgentVersion\n| summarize Old_Agent_Pop = sumif(Population,AgentVersion !in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\")),\n            New_Agent_Pop = sumif(Population,AgentVersion in~ (\"10.20.18067.0\", \"1.0.18067.0\", \"10.20.18064.0\", \"1.0.18064.0\", \"10.20.18062.0\", \"1.0.18062.0\", \"10.20.18053.0\", \"1.0.18053.0\",\"10.20.18057.0\"))\n    by Customer, Customer_TPID, CSAM\n| project-reorder Customer, Old_Agent_Pop, New_Agent_Pop, CSAM, Customer_TPID\n| sort by Old_Agent_Pop desc\n;\nMMA_OldAgent"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"608eea90-46e5-46da-bc5a-6b381803b73b","title":"Total  MMA/OMS agent pop","visualType":"card","pageId":"cc711ab6-15e7-43a8-82b0-6a7546721314","layout":{"x":5,"y":0,"width":12,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//MMA/OMS customer, their agent pop, and CSAM\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_All_Agent =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal, CSAM\n| summarize Total_Population = sum(Population)\n;\nMMAOMS_All_Agent"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"pie__TopNSlices":null}},{"id":"8a326081-032e-425e-9c90-2457aef7dc44","title":"Customers by MMA/OMS agent pop and CSAM","visualType":"table","pageId":"cc711ab6-15e7-43a8-82b0-6a7546721314","layout":{"x":0,"y":3,"width":23,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//MMA/OMS customer, their agent pop, and CSAM\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date\n    );\nlet MMAOMS_All_Agent =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == Newest\n| where InternalOrExternal == \"External\" and isnotempty(SubscriptionId)\n| project Customer, SubscriptionId, Population, InternalOrExternal, CSAM\n| summarize CustomerPopulation = sum(Population) by Customer, CSAM\n| project-reorder Customer, CustomerPopulation, CSAM\n| sort by CustomerPopulation desc\n;\nMMAOMS_All_Agent"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRulesDisabled":false,"crossFilterDisabled":false,"drillthroughDisabled":false,"colorRules":[],"pie__TopNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"92629a5c-07ec-4b24-a1db-39e74c3ca1dc","title":"Top 2000 customers of AMA & MMA/OMS by avg daily count","visualType":"table","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":0,"width":24,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Top customers OMS/MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == NewestMMA\n| summarize Total_MMA_OMS_Pop = sum(Population)//, \n            //Win_MMA_Pop = sumif(Population,OsType has \"windows\"),\n            //Lnx_MMA_Pop = sumif(Population,OsType !has \"windows\")\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == NewestAMA\n| summarize Total_AMA_Pop = sum(Population) by Customer\n| top 2000 by Total_AMA_Pop\n;\nAMA_cust_pop\n| join kind=leftouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend Total_MMA_OMS_Pop = iff(isempty(Total_MMA_OMS_Pop),0.0,Total_MMA_OMS_Pop)\n| extend AMA_MMA_percentage = round((Total_AMA_Pop/(Total_AMA_Pop + Total_MMA_OMS_Pop))*100,2)\n| sort by Total_AMA_Pop desc\n| project-reorder Customer, Total_AMA_Pop, Total_MMA_OMS_Pop, AMA_MMA_percentage"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[{"interaction":"column","property":"Customer","parameterId":"5dcd507b-76b6-418b-8ff2-de7827515e44","disabled":false}],"drillthrough":[]}},{"id":"8d715304-c65d-441b-bcbf-f0f204b09fa3","title":"Windows Top 2000 customers of AMA & MMA by avg daily count","visualType":"table","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":10,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Top customers MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == NewestMMA\n| summarize MMA_Pop = sum(Population)\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('AMA').WinAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == NewestAMA\n| summarize Win_AMA = sum(Population) by Customer\n| top 2000 by Win_AMA\n;\nAMA_cust_pop\n| join kind=leftouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend MMA_Pop = iff(isempty(MMA_Pop),0.0,MMA_Pop)\n| extend AMA_Perc = round((Win_AMA/(Win_AMA + MMA_Pop))*100,2)\n| sort by Win_AMA desc\n| project-reorder Customer, Win_AMA, MMA_Pop, AMA_Perc"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[{"interaction":"column","property":"Customer","parameterId":"5dcd507b-76b6-418b-8ff2-de7827515e44","disabled":false}],"drillthrough":[]}},{"id":"51fbb0f4-a889-41d4-909e-27d348b3b9fe","title":"Linux Top 2000 customers of AMA & OMS by avg daily count","visualType":"table","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":12,"y":10,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Top customers OMS by AgentId Count\nlet NewestOMS = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == NewestOMS\n| summarize OMS_Pop = sum(Population)\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == NewestAMA\n| summarize Lnx_AMA = sum(Population) by Customer\n| top 2000 by Lnx_AMA\n;\nAMA_cust_pop\n| join kind=leftouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend OMS_Pop = iff(isempty(OMS_Pop),0.0,OMS_Pop)\n| extend AMA_Perc = round((Lnx_AMA/(Lnx_AMA + OMS_Pop))*100,2)\n| sort by Lnx_AMA desc\n| project-reorder Customer, Lnx_AMA, OMS_Pop, AMA_Perc"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[{"interaction":"column","property":"Customer","parameterId":"5dcd507b-76b6-418b-8ff2-de7827515e44","disabled":false}],"drillthrough":[]}},{"id":"1cd1f13d-f0d2-44af-86b9-c44b96e9bf6d","title":"Customer Selected","visualType":"card","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":4,"y":21,"width":15,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"print CustomerNameSelect_Field"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"colorStyle":"light"}},{"id":"24ef2ad6-1a3d-4909-ad88-627ee12fae21","title":"Total AMA Population of Selected Customer","visualType":"card","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":24,"width":12,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"//Customer SubscriptionIds in AMA by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == Newest\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field']\n| project Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n;\nAMA_Daily\n| summarize Total_AMA_Pop = sum(Population)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"colorStyle":"light"}},{"id":"044e3fb7-a471-441e-9170-318fd343da40","title":"Total MMA/OMS Population of Selected Customer","visualType":"card","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":12,"y":24,"width":12,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"//Customer SubscriptionIds in MMA/OMS by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == Newest\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field']\n| project Customer, SubscriptionId, Population, InternalOrExternal, Solutions\n| sort by Population desc\n;\nMMAOMS_Daily\n| summarize Total_MMAOMS_Pop = sum(Population)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"colorStyle":"light"}},{"id":"9497c2a0-9546-48dd-ace8-5fcb85de7374","title":"Trend of MMA/OMS & AMA Population of Selected Customer","visualType":"timechart","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":27,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"//Trend of MMA/OMS & AMA Population of Customer\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field']\n| project Date, Customer, SubscriptionId, Population, InternalOrExternal, Solutions\n| sort by Population desc\n| summarize Customer_Total_MMA_OMS_Pop = sum(Population) by Date\n;\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field']\n| project Date, Customer, SubscriptionId, Population, InternalOrExternal\n| sort by Population desc\n| summarize Customer_Total_AMA_Pop = sum(Population) by Date\n;\nMMAOMS_Daily\n| join kind=leftouter AMA_Daily on Date\n| project-away Date1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"29fe6113-62db-4193-90c1-ab4036e346ee","title":"Features used on OMS/MMA by Selected customer","visualType":"pie","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":39,"width":24,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"//Solutions used on MMA/OMS by number of agents\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet Customer_MMAOMS_Solutions =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot\n| where Date == MMAOMS_Newest\n| where TblVer == 1\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field'] // Freetext filtering\n| summarize SolutionPopulation = sum(Population) by GroupedSolution\n| sort by SolutionPopulation desc\n;\nCustomer_MMAOMS_Solutions"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"1635afa8-b096-4fa7-ad99-b8f0f66db022","title":"Selected Customer SubscriptionIds in AMA by Population","visualType":"table","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":66,"width":24,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"let Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_Daily =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == Newest\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field']\n| project Customer, SubscriptionId, Population, InternalOrExternal, OsType\n| sort by Population desc\n;\nAMA_Daily"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"d30f57d1-68f7-47f2-8de1-91462f308f9c","title":"Selected Customer SubscriptionIds in MMA/OMS by Population","visualType":"table","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":78,"width":24,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"//Customer SubscriptionIds in MMA/OMS by Population\nlet Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMAOMS_Daily =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == Newest\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field']\n| project Customer, SubscriptionId, Population, InternalOrExternal, OsType, Solutions\n| sort by Population desc\n;\nMMAOMS_Daily"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"15326b7f-1fab-47f4-b7d4-77730c15b943","title":"Top 2000 customers of AMA & MMA/OMS by avg daily count","visualType":"table","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":0,"y":0,"width":24,"height":10},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Top customers OMS/MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot, \n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == NewestMMA\n| summarize Total_MMA_OMS_Pop = sum(Population)//, \n            //Win_MMA_Pop = sumif(Population,OsType has \"windows\"),\n            //Lnx_MMA_Pop = sumif(Population,OsType !has \"windows\")\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot, \n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == NewestAMA\n| summarize Total_AMA_Pop = sum(Population) by Customer\n| top 2000 by Total_AMA_Pop\n;\nAMA_cust_pop\n| join kind=leftouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend Total_MMA_OMS_Pop = iff(isempty(Total_MMA_OMS_Pop),0.0,Total_MMA_OMS_Pop)\n| extend AMA_MMA_percentage = round((Total_AMA_Pop/(Total_AMA_Pop + Total_MMA_OMS_Pop))*100,2)\n| sort by Total_AMA_Pop desc\n| project-reorder Customer, Total_AMA_Pop, Total_MMA_OMS_Pop, AMA_MMA_percentage"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[{"interaction":"column","property":"Customer","parameterId":"5dcd507b-76b6-418b-8ff2-de7827515e44","disabled":false}],"drillthrough":[]}},{"id":"c5fbe0c0-e2fa-42d8-9a07-4fd5b93ed26d","title":"Windows Top 2000 customers of AMA & MMA by avg daily count","visualType":"table","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":0,"y":10,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Top customers MMA by AgentId Count\nlet NewestMMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\n      cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").WinMMACustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == NewestMMA\n| summarize MMA_Pop = sum(Population)\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\nunion cluster('genevaagent.kusto.windows.net').database('AMA').WinAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == NewestAMA\n| summarize Win_AMA = sum(Population) by Customer\n| top 2000 by Win_AMA\n;\nAMA_cust_pop\n| join kind=leftouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend MMA_Pop = iff(isempty(MMA_Pop),0.0,MMA_Pop)\n| extend AMA_Perc = round((Win_AMA/(Win_AMA + MMA_Pop))*100,2)\n| sort by Win_AMA desc\n| project-reorder Customer, Win_AMA, MMA_Pop, AMA_Perc"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[{"interaction":"column","property":"Customer","parameterId":"5dcd507b-76b6-418b-8ff2-de7827515e44","disabled":false}],"drillthrough":[]}},{"id":"1cac526c-2322-410f-8bb7-c54401fcf870","title":"Linux Top 2000 customers of AMA & OMS by avg daily count","visualType":"table","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":12,"y":10,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Top customers OMS by AgentId Count\nlet NewestOMS = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet MMA_cust_pop =\nunion cluster(\"genevaagent.kusto.windows.net\").database(\"BI\").LnxOMSCustomerWeeklySnapshot\n| where TblVer == 3\n| where Date == NewestOMS\n| summarize OMS_Pop = sum(Population)\n            by Customer\n;\nlet NewestAMA = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n    | where TblVer == 2\n    | project Date\n    | top 1 by Date );\nlet AMA_cust_pop =\n      cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerWeeklySnapshot\n| where TblVer == 2\n| where Date == NewestAMA\n| summarize Lnx_AMA = sum(Population) by Customer\n| top 2000 by Lnx_AMA\n;\nAMA_cust_pop\n| join kind=leftouter MMA_cust_pop on Customer\n| project-away Customer1\n| extend OMS_Pop = iff(isempty(OMS_Pop),0.0,OMS_Pop)\n| extend AMA_Perc = round((Lnx_AMA/(Lnx_AMA + OMS_Pop))*100,2)\n| sort by Lnx_AMA desc\n| project-reorder Customer, Lnx_AMA, OMS_Pop, AMA_Perc"},"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[{"interaction":"column","property":"Customer","parameterId":"5dcd507b-76b6-418b-8ff2-de7827515e44","disabled":false}],"drillthrough":[]}},{"id":"cd1ce700-695f-4c56-87ca-188fa19d47e9","title":"Features used on OMS/MMA","visualType":"bar","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":0,"y":21,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Features  used on MMA/OMS by number of agents\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet Customer_MMAOMS_Solutions =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot\n| where Date == MMAOMS_Newest\n| where TblVer == 1\n| summarize MMA_OMS_Population = sum(Population) by GroupedSolution\n| sort by MMA_OMS_Population desc\n;\nCustomer_MMAOMS_Solutions\n| sort by MMA_OMS_Population desc"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"GroupedSolution","parameterId":"cb1d5fad-beba-4946-8c8b-e1bb3934dc9d","disabled":false}],"drillthrough":[]}},{"id":"c522b686-34ca-4bc0-8133-80effdb848ad","title":"Features used on AMA","visualType":"bar","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":12,"y":21,"width":12,"height":11},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":[],"text":"//Features  used on AMA by number of agents\nlet AMA_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet Customer_AMA_Solutions =\nunion cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerSolutionsWeeklySnapshot,\ncluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerSolutionsWeeklySnapshot\n| where Date == AMA_Newest\n| where TblVer == 3\n| summarize AMA_Population = sum(Population) by GroupedSolution\n| sort by AMA_Population desc\n;\nCustomer_AMA_Solutions"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":true,"crossFilter":[{"interaction":"column","property":"GroupedSolution","parameterId":"cb1d5fad-beba-4946-8c8b-e1bb3934dc9d","disabled":false}],"drillthrough":[]}},{"id":"89d47580-5f0b-4c84-b84a-5f1067a3d04a","title":"Total Agent Pop on OMS/MMA for Solution Selected","visualType":"card","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":0,"y":35,"width":12,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect_Partner"],"text":"//Solutions used on MMA/OMS by number of agents\nlet MMAOMS_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 1\n    | project Date\n    | top 1 by Date );\nlet Customer_MMAOMS_Solutions =\nunion\n    cluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot,\n    cluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot\n| where Date == MMAOMS_Newest\n| where TblVer == 1\n| summarize MMA_OMS_Population = sum(Population) by GroupedSolution\n| sort by MMA_OMS_Population desc\n;\nCustomer_MMAOMS_Solutions\n| where isempty(['SolutionSelect_Partner']) or GroupedSolution == ['SolutionSelect_Partner'] // Freetext filtering\n| project MMA_OMS_Population"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"0a57438d-c52b-4f80-b7cd-a8daf14aec78","title":"Total Agent Pop on AMA for Solution Selected","visualType":"card","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":12,"y":35,"width":12,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect_Partner"],"text":"//Solutions used on MMA/OMS by number of agents\nlet AMA_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet Customer_AMA_Solutions =\nunion cluster('genevaagent.kusto.windows.net').database('BI').LnxAMACustomerSolutionsWeeklySnapshot,\ncluster('genevaagent.kusto.windows.net').database('BI').WinAMACustomerSolutionsWeeklySnapshot\n| where Date == AMA_Newest\n| where TblVer == 3\n| summarize AMA_Population = sum(Population) by GroupedSolution\n| sort by AMA_Population desc\n;\nCustomer_AMA_Solutions\n| where isempty(['SolutionSelect_Partner']) or GroupedSolution == ['SolutionSelect_Partner'] // Freetext filtering\n| project AMA_Population"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"e0cac79f-d4f5-4eb1-b184-da361d9a967f","title":"Features used on AMA by Selected customer","visualType":"pie","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":0,"y":51,"width":24,"height":12},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"//Solutions used on AMA by number of agents\nlet AMA_Newest = toscalar(cluster('genevaagent.kusto.windows.net').database('AMA').WinAMACustomerSolutionsWeeklySnapshot\n    | where TblVer == 3\n    | project Date\n    | top 1 by Date );\nlet Customer_AMA_Solutions =\nunion cluster('genevaagent.kusto.windows.net').database('AMA').LnxAMACustomerSolutionsWeeklySnapshot,\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMACustomerSolutionsWeeklySnapshot\n| where Date == AMA_Newest\n| where TblVer == 3\n| where isempty(['CustomerNameSelect_Field']) or Customer == ['CustomerNameSelect_Field'] // Freetext filtering\n| summarize SolutionPopulation = sum(Population) by GroupedSolution\n| sort by SolutionPopulation desc\n;\nCustomer_AMA_Solutions"},"visualOptions":{"hideTileTitle":false,"hideLegend":false,"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"crossFilterDisabled":false,"drillthroughDisabled":false,"labelDisabled":false,"pie__label":["name","percentage","value"],"tooltipDisabled":false,"pie__tooltip":["name","percentage","value"],"pie__orderBy":"size","pie__kind":"pie","pie__topNSlices":null,"crossFilter":[],"drillthrough":[]}},{"id":"10e6e9f9-a5af-4e51-b70f-0870813ffcca","title":"Feature Selected","visualType":"card","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":5,"y":32,"width":15,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect_Partner"],"text":"print SolutionSelect_Partner"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"colorStyle":"light"}},{"id":"b5de0952-88b6-4d59-a362-8131326bcf39","title":"Customer Selected","visualType":"card","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":4,"y":36,"width":15,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"print CustomerNameSelect_Field"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"colorStyle":"light"}},{"id":"ede93299-e7a4-4cfb-a42e-f8eb6a101af3","title":"Customer Selected","visualType":"card","pageId":"0f11bccd-e020-49cf-988e-0af9d9077278","layout":{"x":5,"y":63,"width":15,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["CustomerNameSelect_Field"],"text":"print CustomerNameSelect_Field"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":true,"colorRules":[],"colorStyle":"light"}},{"id":"b4dad57e-5b8b-4536-a94e-a0f525b6b2e0","title":"AMA Selected Feature trend by number of agents ","visualType":"timechart","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":0,"y":38,"width":24,"height":8},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect_Partner"],"text":"//AMA Feature trend by number of agents \nlet Win_AMA_Feature_Pop =\ncluster('genevaagent.kusto.windows.net').database('AMA').WinAMACustomerSolutionsWeeklySnapshot\n| where TblVer == 3\n| where isempty(['SolutionSelect_Partner']) or GroupedSolution == ['SolutionSelect_Partner'] // Freetext filtering\n| extend Date = startofweek(Date)\n| summarize Win_AMA_Population = sum(Population) by Date\n;\nlet Lnx_AMA_Feature_Pop =\ncluster('genevaagent.kusto.windows.net').database('AMA').LnxAMACustomerSolutionsWeeklySnapshot\n| where TblVer == 3\n| where isempty(['SolutionSelect_Partner']) or GroupedSolution == ['SolutionSelect_Partner'] // Freetext filtering\n| extend Date = startofweek(Date)\n| summarize Lnx_AMA_Population = sum(Population) by Date\n;\nWin_AMA_Feature_Pop\n| join kind=leftouter Lnx_AMA_Feature_Pop on Date\n| project-away Date1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"3191d5c2-7481-4f85-991f-0669b48f7883","title":"OMS/MMA Selected Feature trend by number of agents ","visualType":"timechart","pageId":"f319b8c3-3325-476b-9db8-af3b4fe1f993","layout":{"x":0,"y":46,"width":24,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"1744db72-6d19-46bb-ae67-eb77c91db237"},"usedVariables":["SolutionSelect_Partner"],"text":"//OMS/MMA Selected Feature trend by number of agents \n\nlet Win_MMA_Feature_Pop =\ncluster('genevaagent.kusto.windows.net').database('BI').WinMMACustomerSolutionsWeeklySnapshot\n| where TblVer == 1\n| where isempty(['SolutionSelect_Partner']) or GroupedSolution == ['SolutionSelect_Partner'] // Freetext filtering\n| extend Date = startofweek(Date)\n| summarize Win_MMA_Population = sum(Population) by Date\n;\nlet Lnx_OMS_Feature_Pop =\ncluster('genevaagent.kusto.windows.net').database('BI').LnxOMSCustomerSolutionsWeeklySnapshot\n| where TblVer == 1\n| where isempty(['SolutionSelect_Partner']) or GroupedSolution == ['SolutionSelect_Partner'] // Freetext filtering\n| extend Date = startofweek(Date)\n| summarize Lnx_OMS_Population = sum(Population) by Date\n;\nWin_MMA_Feature_Pop\n| join kind=leftouter Lnx_OMS_Feature_Pop on Date\n| project-away Date1"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}}],"parameters":[{"kind":"duration","id":"08864796-4b5e-423d-bbb8-c356a44daa75","displayName":"Time range","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"selection","pageIds":[]}},{"kind":"string","selectionType":"freetext","id":"4f7a8544-fd41-4ec2-bf59-1149076ce777","displayName":"Customer(SubscriptionId)","variableName":"CustomerSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["3bade44b-2e1b-4b7b-9970-4365c4d6c503"]}},{"kind":"string","selectionType":"freetext","id":"cbb1a6cd-a6ce-44f1-909e-23dc1f7e6dd8","displayName":"Solution","variableName":"SolutionSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["abdd00b4-5e83-497d-a2c3-661d5d37f13c"]}},{"kind":"string","selectionType":"freetext","id":"900f1a93-cd36-46c2-97a9-17e7c20487ef","displayName":"CustomerName","variableName":"CustomerNameSelect","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049"]}},{"kind":"string","selectionType":"freetext","id":"5dcd507b-76b6-418b-8ff2-de7827515e44","displayName":"CustomerName_Field","variableName":"CustomerNameSelect_Field","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["0f11bccd-e020-49cf-988e-0af9d9077278"]}},{"kind":"string","selectionType":"freetext","id":"cb1d5fad-beba-4946-8c8b-e1bb3934dc9d","displayName":"Solution_PartnerTeam","variableName":"SolutionSelect_Partner","defaultValue":{"kind":"value","value":"None"},"showOnPages":{"kind":"selection","pageIds":["f319b8c3-3325-476b-9db8-af3b4fe1f993"]}}],"dataSources":[{"id":"1744db72-6d19-46bb-ae67-eb77c91db237","name":"GenevaAgentBI","clusterUri":"https://genevaagent.kusto.windows.net/","database":"BI","kind":"manual-kusto","scopeId":"kusto"}],"pages":[{"name":"OMS->AMA Migration","id":"c5d21b0d-c518-4c94-999c-daa022afb8c1"},{"id":"9a8e7d67-1f65-42c5-a6bc-3d1ec53ff049","name":"Customer View"},{"name":"Subscription View","id":"3bade44b-2e1b-4b7b-9970-4365c4d6c503"},{"name":"Feature View","id":"abdd00b4-5e83-497d-a2c3-661d5d37f13c"},{"name":"Old Agent Pop","id":"677abef2-115c-4263-b389-ab651f87534a"},{"name":"CSAM & Pops of Customers","id":"cc711ab6-15e7-43a8-82b0-6a7546721314"},{"name":"Field","id":"0f11bccd-e020-49cf-988e-0af9d9077278"},{"name":"Partner Teams","id":"f319b8c3-3325-476b-9db8-af3b4fe1f993"}]}